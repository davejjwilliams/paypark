function setCords(e){latlng=e.getPosition(),newlat=Math.round(1e6*latlng.lat())/1e6,newlng=Math.round(1e6*latlng.lng())/1e6,document.getElementById("homeowner_latitude").value=newlat,document.getElementById("homeowner_longitude").value=newlng,document.getElementById("homeowner_address").value=e.title}function initMapHO(){function e(e,t,n){t.setPosition(n),t.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),t.open(a)}var a=new google.maps.Map(document.getElementById("map2"),{center:{lat:51.24192,lng:-.5859},zoom:14,mapTypeId:"roadmap"});infoWindow=new google.maps.InfoWindow,navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};infoWindow.setPosition(t),infoWindow.setContent("Location found ~ 1 mile"),infoWindow.open(a),a.setCenter(t)},function(){e(!0,infoWindow,a.getCenter())}):e(!1,infoWindow,a.getCenter());var t=document.getElementById("pac-input"),n=new google.maps.places.SearchBox(t);a.addListener("bounds_changed",function(){n.setBounds(a.getBounds())});var i=new google.maps.Marker({}),r=new google.maps.Rectangle({});n.addListener("places_changed",function(){var e=n.getPlaces();if(0!=e.length){var t=new google.maps.LatLngBounds;e.forEach(function(e){e.geometry?(i.setMap(null),r.setMap(null),setCords(i=new google.maps.Marker({position:e.geometry.location,animation:google.maps.Animation.DROP,map:a,title:e.formatted_address,draggable:!0})),r=new google.maps.Rectangle({strokeColor:"#ff0000",strokeOpacity:.9,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,map:a,bounds:{north:e.geometry.location.lat()+625e-7,south:e.geometry.location.lat()-625e-7,east:e.geometry.location.lng()+1e-4,west:e.geometry.location.lng()-1e-4}}),i.addListener("drag",function(){setCords(i)}),i.addListener("dragend",function(){625e-7<Math.abs(i.position.lat()-e.geometry.location.lat())||1e-4<Math.abs(i.position.lng()-e.geometry.location.lng())?(i.setPosition(e.geometry.location),a.panTo(i.getPosition()),setCords(i)):a.panTo(i.getPosition())}),e.geometry.viewport?t.union(e.geometry.viewport):t.extend(e.geometry.location)):console.log("Returned place contains no geometry")}),a.fitBounds(t)}})}function initMap(){function e(e,t,n){t.setPosition(n),t.setContent(e?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation."),t.open(i)}function t(e,t){d=new google.maps.Marker({position:{lat:parseFloat(gon.driveways[t].latitude),lng:parseFloat(gon.driveways[t].longitude)},map:i,title:gon.driveways[t].address,id:gon.driveways[t].id});var n,a="/bookings/new?dvwid=".concat(gon.driveways[t].id);google.maps.event.addListener(d,"click",(n=d,function(){var e="Book".link(a);r.setContent(gon.driveways[t].address+"<br><br>\xa3"+parseFloat(gon.driveways[t].driveway_price)+" per hour<br><br>"+gon.driveways[t].driveway_description+"<br>"+e),r.open(i,n)})),markers.push(d)}function n(){for(var e=[],t=0;t<markers.length;t++)!0===i.getBounds().contains(markers[t].getPosition())&&e.push(markers[t].title);displayLocals(e)}var a={lat:51.5,lng:-.13},i=new google.maps.Map(document.getElementById("map"),{zoom:14,center:a});infoWindow=new google.maps.InfoWindow,navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};infoWindow.setPosition(t),infoWindow.setContent("Location found ~ 1 mile"),infoWindow.open(i),i.setCenter(t)},function(){e(!0,infoWindow,i.getCenter())}):e(!1,infoWindow,i.getCenter());var r=new google.maps.InfoWindow({});gon.driveways.forEach(t),i.addListener("idle",function(){n()});var o=document.getElementById("pac-input"),s=new google.maps.places.SearchBox(o);i.addListener("bounds_changed",function(){s.setBounds(i.getBounds())});var d=new google.maps.Marker({});s.addListener("places_changed",function(){var e=s.getPlaces();if(0!=e.length){var t=new google.maps.LatLngBounds;e.forEach(function(e){e.geometry?(d.setMap(null),d=new google.maps.Marker({position:e.geometry.location,animation:google.maps.Animation.DROP,map:i,icon:"http://maps.google.com/mapfiles/ms/icons/purple-dot.png"}),e.geometry.viewport?t.union(e.geometry.viewport):t.extend(e.geometry.location)):console.log("Returned place contains no geometry")}),i.fitBounds(t)}})}function displayLocals(e){document.getElementById("localsList").children[0].innerHTML="";for(var t=0;t<e.length;t++)document.getElementById("localsList").children[0].innerHTML+="<li>"+e[t]+"</li>&nbsp"}(function(){var e=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(e);var v=e.Rails;(function(){(function(){var t;t=null,v.loadCSPNonce=function(){var e;return t=null!=(e=document.querySelector("meta[name=csp-nonce]"))?e.content:void 0},v.cspNonce=function(){return null!=t?t:v.loadCSPNonce()}}).call(this),function(){var a,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,v.matches=function(e,t){return null!=t.exclude?n.call(e,t.selector)&&!n.call(e,t.exclude):n.call(e,t)},a="_ujsData",v.getData=function(e,t){var n;return null!=(n=e[a])?n[t]:void 0},v.setData=function(e,t,n){return null==e[a]&&(e[a]={}),e[a][t]=n},v.$=function(e){return Array.prototype.slice.call(document.querySelectorAll(e))}}.call(this),function(){var n,a,i;n=v.$,i=v.csrfToken=function(){var e;return(e=document.querySelector("meta[name=csrf-token]"))&&e.content},a=v.csrfParam=function(){var e;return(e=document.querySelector("meta[name=csrf-param]"))&&e.content},v.CSRFProtection=function(e){var t;if(null!=(t=i()))return e.setRequestHeader("X-CSRF-Token",t)},v.refreshCSRFTokens=function(){var e,t;if(t=i(),e=a(),null!=t&&null!=e)return n('form input[name="'+e+'"]').forEach(function(e){return e.value=t})}}.call(this),function(){var i,t,r,n;r=v.matches,"function"!=typeof(i=window.CustomEvent)&&((i=function(e,t){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype,n=i.prototype.preventDefault,i.prototype.preventDefault=function(){var e;return e=n.call(this),this.cancelable&&!this.defaultPrevented&&Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),e}),t=v.fire=function(e,t,n){var a;return a=new i(t,{bubbles:!0,cancelable:!0,detail:n}),e.dispatchEvent(a),!a.defaultPrevented},v.stopEverything=function(e){return t(e.target,"ujs:everythingStopped"),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},v.delegate=function(e,n,t,a){return e.addEventListener(t,function(e){var t;for(t=e.target;t instanceof Element&&!r(t,n);)t=t.parentNode;if(t instanceof Element&&!1===a.call(t,e))return e.preventDefault(),e.stopPropagation()})}}.call(this),function(){var t,a,e,r,i,o;r=v.cspNonce,a=v.CSRFProtection,v.fire,t={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},v.ajax=function(n){var a;return n=i(n),a=e(n,function(){var e,t;return t=o(null!=(e=a.response)?e:a.responseText,a.getResponseHeader("Content-Type")),2===Math.floor(a.status/100)?"function"==typeof n.success&&n.success(t,a.statusText,a):"function"==typeof n.error&&n.error(t,a.statusText,a),"function"==typeof n.complete?n.complete(a,a.statusText):void 0}),!(null!=n.beforeSend&&!n.beforeSend(a,n))&&(a.readyState===XMLHttpRequest.OPENED?a.send(n.data):void 0)},i=function(e){return e.url=e.url||location.href,e.type=e.type.toUpperCase(),"GET"===e.type&&e.data&&(e.url.indexOf("?")<0?e.url+="?"+e.data:e.url+="&"+e.data),null==t[e.dataType]&&(e.dataType="*"),e.accept=t[e.dataType],"*"!==e.dataType&&(e.accept+=", */*; q=0.01"),e},e=function(e,t){var n;return(n=new XMLHttpRequest).open(e.type,e.url,!0),n.setRequestHeader("Accept",e.accept),"string"==typeof e.data&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.crossDomain||(n.setRequestHeader("X-Requested-With","XMLHttpRequest"),a(n)),n.withCredentials=!!e.withCredentials,n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE)return t(n)},n},o=function(e,t){var n,a;if("string"==typeof e&&"string"==typeof t)if(t.match(/\bjson\b/))try{e=JSON.parse(e)}catch(i){}else if(t.match(/\b(?:java|ecma)script\b/))(a=document.createElement("script")).setAttribute("nonce",r()),a.text=e,document.head.appendChild(a).parentNode.removeChild(a);else if(t.match(/\b(xml|html|svg)\b/)){n=new DOMParser,t=t.replace(/;.+/,"");try{e=n.parseFromString(e,t)}catch(i){}}return e},v.href=function(e){return e.href},v.isCrossDomain=function(e){var t,n;(t=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=e,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(a){return a,!0}}}.call(this),function(){var i,r;i=v.matches,r=function(e){return Array.prototype.slice.call(e)},v.serializeElement=function(e,t){var n,a;return n=[e],i(e,"form")&&(n=r(e.elements)),a=[],n.forEach(function(t){if(t.name&&!t.disabled)return i(t,"select")?r(t.options).forEach(function(e){if(e.selected)return a.push({name:t.name,value:e.value})}):t.checked||-1===["radio","checkbox","submit"].indexOf(t.type)?a.push({name:t.name,value:t.value}):void 0}),t&&a.push(t),a.map(function(e){return null!=e.name?encodeURIComponent(e.name)+"="+encodeURIComponent(e.value):e}).join("&")},v.formElements=function(e,t){return i(e,"form")?r(e.elements).filter(function(e){return i(e,t)}):r(e.querySelectorAll(t))}}.call(this),function(){var t,r,n;r=v.fire,n=v.stopEverything,v.handleConfirm=function(e){if(!t(this))return n(e)},t=function(e){var t,n,a;if(!(a=e.getAttribute("data-confirm")))return!0;if(t=!1,r(e,"confirm")){try{t=confirm(a)}catch(i){}n=r(e,"confirm:complete",[t])}return t&&n}}.call(this),function(){var n,a,i,r,o,s,t,d,l,c,u;l=v.matches,d=v.getData,c=v.setData,u=v.stopEverything,t=v.formElements,v.handleDisabledElement=function(e){if(this.disabled)return u(e)},v.enableElement=function(e){var t;return t=e instanceof Event?e.target:e,l(t,v.linkDisableSelector)?s(t):l(t,v.buttonDisableSelector)||l(t,v.formEnableSelector)?r(t):l(t,v.formSubmitSelector)?o(t):void 0},v.disableElement=function(e){var t;return t=e instanceof Event?e.target:e,l(t,v.linkDisableSelector)?i(t):l(t,v.buttonDisableSelector)||l(t,v.formDisableSelector)?n(t):l(t,v.formSubmitSelector)?a(t):void 0},i=function(e){var t;return null!=(t=e.getAttribute("data-disable-with"))&&(c(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t),e.addEventListener("click",u),c(e,"ujs:disabled",!0)},s=function(e){var t;return null!=(t=d(e,"ujs:enable-with"))&&(e.innerHTML=t,c(e,"ujs:enable-with",null)),e.removeEventListener("click",u),c(e,"ujs:disabled",null)},a=function(e){return t(e,v.formDisableSelector).forEach(n)},n=function(e){var t;return null!=(t=e.getAttribute("data-disable-with"))&&(l(e,"button")?(c(e,"ujs:enable-with",e.innerHTML),e.innerHTML=t):(c(e,"ujs:enable-with",e.value),e.value=t)),e.disabled=!0,c(e,"ujs:disabled",!0)},o=function(e){return t(e,v.formEnableSelector).forEach(r)},r=function(e){var t;return null!=(t=d(e,"ujs:enable-with"))&&(l(e,"button")?e.innerHTML=t:e.value=t,c(e,"ujs:enable-with",null)),e.disabled=!1,c(e,"ujs:disabled",null)}}.call(this),function(){var d;d=v.stopEverything,v.handleMethod=function(e){var t,n,a,i,r,o,s;if(s=(o=this).getAttribute("data-method"))return r=v.href(o),n=v.csrfToken(),t=v.csrfParam(),a=document.createElement("form"),i="<input name='_method' value='"+s+"' type='hidden' />",null==t||null==n||v.isCrossDomain(r)||(i+="<input name='"+t+"' value='"+n+"' type='hidden' />"),i+='<input type="submit" />',a.method="post",a.action=r,a.target=o.target,a.innerHTML=i,a.style.display="none",document.body.appendChild(a),a.querySelector('[type="submit"]').click(),d(e)}}.call(this),function(){var d,l,c,u,_,h,f,p,m,g=[].slice;h=v.matches,c=v.getData,p=v.setData,l=v.fire,m=v.stopEverything,d=v.ajax,u=v.isCrossDomain,f=v.serializeElement,_=function(e){var t;return null!=(t=e.getAttribute("data-remote"))&&"false"!==t},v.handleRemote=function(e){var t,n,a,i,r,o,s;return!_(i=this)||(l(i,"ajax:before")?(s=i.getAttribute("data-with-credentials"),a=i.getAttribute("data-type")||"script",h(i,v.formSubmitSelector)?(t=c(i,"ujs:submit-button"),r=c(i,"ujs:submit-button-formmethod")||i.method,o=c(i,"ujs:submit-button-formaction")||i.getAttribute("action")||location.href,"GET"===r.toUpperCase()&&(o=o.replace(/\?.*$/,"")),"multipart/form-data"===i.enctype?(n=new FormData(i),null!=t&&n.append(t.name,t.value)):n=f(i,t),p(i,"ujs:submit-button",null),p(i,"ujs:submit-button-formmethod",null),p(i,"ujs:submit-button-formaction",null)):h(i,v.buttonClickSelector)||h(i,v.inputChangeSelector)?(r=i.getAttribute("data-method"),o=i.getAttribute("data-url"),n=f(i,i.getAttribute("data-params"))):(r=i.getAttribute("data-method"),o=v.href(i),n=i.getAttribute("data-params")),d({type:r||"GET",url:o,data:n,dataType:a,beforeSend:function(e,t){return l(i,"ajax:beforeSend",[e,t])?l(i,"ajax:send",[e]):(l(i,"ajax:stopped"),!1)},success:function(){var e;return e=1<=arguments.length?g.call(arguments,0):[],l(i,"ajax:success",e)},error:function(){var e;return e=1<=arguments.length?g.call(arguments,0):[],l(i,"ajax:error",e)},complete:function(){var e;return e=1<=arguments.length?g.call(arguments,0):[],l(i,"ajax:complete",e)},crossDomain:u(o),withCredentials:null!=s&&"false"!==s}),m(e)):(l(i,"ajax:stopped"),!1))},v.formSubmitButtonClick=function(){var e,t;if(t=(e=this).form)return e.name&&p(t,"ujs:submit-button",{name:e.name,value:e.value}),p(t,"ujs:formnovalidate-button",e.formNoValidate),p(t,"ujs:submit-button-formaction",e.getAttribute("formaction")),p(t,"ujs:submit-button-formmethod",e.getAttribute("formmethod"))},v.preventInsignificantClick=function(e){var t,n,a,i;if(i=((a=this).getAttribute("data-method")||"GET").toUpperCase(),t=a.getAttribute("data-params"),n=(e.metaKey||e.ctrlKey)&&"GET"===i&&!t,null!=e.button&&0!==e.button||n)return e.stopImmediatePropagation()}}.call(this),function(){var e,a,t,n,i,r,o,s,d,l,c,u,_,h,f;if(r=v.fire,t=v.delegate,s=v.getData,e=v.$,f=v.refreshCSRFTokens,a=v.CSRFProtection,_=v.loadCSPNonce,i=v.enableElement,n=v.disableElement,l=v.handleDisabledElement,d=v.handleConfirm,h=v.preventInsignificantClick,u=v.handleRemote,o=v.formSubmitButtonClick,c=v.handleMethod,"undefined"!=typeof jQuery&&null!==jQuery&&null!=jQuery.ajax){if(jQuery.rails)throw new Error("If you load both jquery_ujs and rails-ujs, use rails-ujs only.");jQuery.rails=v,jQuery.ajaxPrefilter(function(e,t,n){if(!e.crossDomain)return a(n)})}v.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return e(v.formEnableSelector).forEach(function(e){if(s(e,"ujs:disabled"))return i(e)}),e(v.linkDisableSelector).forEach(function(e){if(s(e,"ujs:disabled"))return i(e)})}),t(document,v.linkDisableSelector,"ajax:complete",i),t(document,v.linkDisableSelector,"ajax:stopped",i),t(document,v.buttonDisableSelector,"ajax:complete",i),t(document,v.buttonDisableSelector,"ajax:stopped",i),t(document,v.linkClickSelector,"click",h),t(document,v.linkClickSelector,"click",l),t(document,v.linkClickSelector,"click",d),t(document,v.linkClickSelector,"click",n),t(document,v.linkClickSelector,"click",u),t(document,v.linkClickSelector,"click",c),t(document,v.buttonClickSelector,"click",h),t(document,v.buttonClickSelector,"click",l),t(document,v.buttonClickSelector,"click",d),t(document,v.buttonClickSelector,"click",n),t(document,v.buttonClickSelector,"click",u),t(document,v.inputChangeSelector,"change",l),t(document,v.inputChangeSelector,"change",d),t(document,v.inputChangeSelector,"change",u),t(document,v.formSubmitSelector,"submit",l),t(document,v.formSubmitSelector,"submit",d),t(document,v.formSubmitSelector,"submit",u),t(document,v.formSubmitSelector,"submit",function(e){return setTimeout(function(){return n(e)},13)}),t(document,v.formSubmitSelector,"ajax:send",n),t(document,v.formSubmitSelector,"ajax:complete",i),t(document,v.formInputClickSelector,"click",h),t(document,v.formInputClickSelector,"click",l),t(document,v.formInputClickSelector,"click",d),t(document,v.formInputClickSelector,"click",o),document.addEventListener("DOMContentLoaded",f),document.addEventListener("DOMContentLoaded",_),window._rails_loaded=!0},window.Rails===v&&r(document,"rails:attachBindings")&&v.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=v:"function"==typeof define&&define.amd&&define(v)}).call(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.ActiveStorage={})}(this,function(e){"use strict";function t(e,t){return e(t={exports:{}},t.exports),t.exports}function o(e){var t=a(document.head,'meta[name="'+e+'"]');if(t)return t.getAttribute("content")}function i(e,t){return"string"==typeof e&&(t=e,e=document),r(e.querySelectorAll(t))}function a(e,t){return"string"==typeof e&&(t=e,e=document),e.querySelector(t)}function d(e,t,n){var a=2<arguments.length&&n!==undefined?arguments[2]:{},i=e.disabled,r=a.bubbles,o=a.cancelable,s=a.detail,d=document.createEvent("Event");d.initEvent(t,r||!0,o||!0),d.detail=s||{};try{e.disabled=!1,e.dispatchEvent(d)}finally{e.disabled=i}return d}function r(e){return Array.isArray(e)?e:Array.from?Array.from(e):[].slice.call(e)}function s(e,t){if(e&&"function"==typeof e[t]){for(var n=arguments.length,a=Array(2<n?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return e[t].apply(e,a)}}function n(){M||(M=!0,document.addEventListener("click",l,!0),document.addEventListener("submit",c),document.addEventListener("ajax:before",u))}function l(e){var t=e.target;"INPUT"!=t.tagName&&"BUTTON"!=t.tagName||"submit"!=t.type||!t.form||T.set(t.form,t)}function c(e){_(e)}function u(e){"FORM"==e.target.tagName&&_(e)}function _(e){var t=e.target;if(t.hasAttribute(A))e.preventDefault();else{var n=new C(t),a=n.inputs;a.length&&(e.preventDefault(),t.setAttribute(A,""),a.forEach(f),n.start(function(e){t.removeAttribute(A),e?a.forEach(p):h(t)}))}}function h(e){var t=T.get(e)||a(e,"input[type=submit], button[type=submit]");if(t){var n=t.disabled;t.disabled=!1,t.focus(),t.click(),t.disabled=n}else(t=document.createElement("input")).type="submit",t.style.display="none",e.appendChild(t),t.click(),e.removeChild(t);T["delete"](e)}function f(e){e.disabled=!0}function p(e){e.disabled=!1}function m(){window.ActiveStorage&&n()}var g=t(function(e){var t;t=function(c){function l(e,t){var n=e[0],a=e[1],i=e[2],r=e[3];a=((a+=((i=((i+=((r=((r+=((n=((n+=(a&i|~a&r)+t[0]-680876936|0)<<7|n>>>25)+a|0)&a|~n&i)+t[1]-389564586|0)<<12|r>>>20)+n|0)&n|~r&a)+t[2]+606105819|0)<<17|i>>>15)+r|0)&r|~i&n)+t[3]-1044525330|0)<<22|a>>>10)+i|0,a=((a+=((i=((i+=((r=((r+=((n=((n+=(a&i|~a&r)+t[4]-176418897|0)<<7|n>>>25)+a|0)&a|~n&i)+t[5]+1200080426|0)<<12|r>>>20)+n|0)&n|~r&a)+t[6]-1473231341|0)<<17|i>>>15)+r|0)&r|~i&n)+t[7]-45705983|0)<<22|a>>>10)+i|0,a=((a+=((i=((i+=((r=((r+=((n=((n+=(a&i|~a&r)+t[8]+1770035416|0)<<7|n>>>25)+a|0)&a|~n&i)+t[9]-1958414417|0)<<12|r>>>20)+n|0)&n|~r&a)+t[10]-42063|0)<<17|i>>>15)+r|0)&r|~i&n)+t[11]-1990404162|0)<<22|a>>>10)+i|0,a=((a+=((i=((i+=((r=((r+=((n=((n+=(a&i|~a&r)+t[12]+1804603682|0)<<7|n>>>25)+a|0)&a|~n&i)+t[13]-40341101|0)<<12|r>>>20)+n|0)&n|~r&a)+t[14]-1502002290|0)<<17|i>>>15)+r|0)&r|~i&n)+t[15]+1236535329|0)<<22|a>>>10)+i|0,a=((a+=((i=((i+=((r=((r+=((n=((n+=(a&r|i&~r)+t[1]-165796510|0)<<5|n>>>27)+a|0)&i|a&~i)+t[6]-1069501632|0)<<9|r>>>23)+n|0)&a|n&~a)+t[11]+643717713|0)<<14|i>>>18)+r|0)&n|r&~n)+t[0]-373897302|0)<<20|a>>>12)+i|0,a=((a+=((i=((i+=((r=((r+=((n=((n+=(a&r|i&~r)+t[5]-701558691|0)<<5|n>>>27)+a|0)&i|a&~i)+t[10]+38016083|0)<<9|r>>>23)+n|0)&a|n&~a)+t[15]-660478335|0)<<14|i>>>18)+r|0)&n|r&~n)+t[4]-405537848|0)<<20|a>>>12)+i|0,a=((a+=((i=((i+=((r=((r+=((n=((n+=(a&r|i&~r)+t[9]+568446438|0)<<5|n>>>27)+a|0)&i|a&~i)+t[14]-1019803690|0)<<9|r>>>23)+n|0)&a|n&~a)+t[3]-187363961|0)<<14|i>>>18)+r|0)&n|r&~n)+t[8]+1163531501|0)<<20|a>>>12)+i|0,a=((a+=((i=((i+=((r=((r+=((n=((n+=(a&r|i&~r)+t[13]-1444681467|0)<<5|n>>>27)+a|0)&i|a&~i)+t[2]-51403784|0)<<9|r>>>23)+n|0)&a|n&~a)+t[7]+1735328473|0)<<14|i>>>18)+r|0)&n|r&~n)+t[12]-1926607734|0)<<20|a>>>12)+i|0,a=((a+=((i=((i+=((r=((r+=((n=((n+=(a^i^r)+t[5]-378558|0)<<4|n>>>28)+a|0)^a^i)+t[8]-2022574463|0)<<11|r>>>21)+n|0)^n^a)+t[11]+1839030562|0)<<16|i>>>16)+r|0)^r^n)+t[14]-35309556|0)<<23|a>>>9)+i|0,a=((a+=((i=((i+=((r=((r+=((n=((n+=(a^i^r)+t[1]-1530992060|0)<<4|n>>>28)+a|0)^a^i)+t[4]+1272893353|0)<<11|r>>>21)+n|0)^n^a)+t[7]-155497632|0)<<16|i>>>16)+r|0)^r^n)+t[10]-1094730640|0)<<23|a>>>9)+i|0,a=((a+=((i=((i+=((r=((r+=((n=((n+=(a^i^r)+t[13]+681279174|0)<<4|n>>>28)+a|0)^a^i)+t[0]-358537222|0)<<11|r>>>21)+n|0)^n^a)+t[3]-722521979|0)<<16|i>>>16)+r|0)^r^n)+t[6]+76029189|0)<<23|a>>>9)+i|0,a=((a+=((i=((i+=((r=((r+=((n=((n+=(a^i^r)+t[9]-640364487|0)<<4|n>>>28)+a|0)^a^i)+t[12]-421815835|0)<<11|r>>>21)+n|0)^n^a)+t[15]+530742520|0)<<16|i>>>16)+r|0)^r^n)+t[2]-995338651|0)<<23|a>>>9)+i|0,a=((a+=((r=((r+=(a^((n=((n+=(i^(a|~r))+t[0]-198630844|0)<<6|n>>>26)+a|0)|~i))+t[7]+1126891415|0)<<10|r>>>22)+n|0)^((i=((i+=(n^(r|~a))+t[14]-1416354905|0)<<15|i>>>17)+r|0)|~n))+t[5]-57434055|0)<<21|a>>>11)+i|0,a=((a+=((r=((r+=(a^((n=((n+=(i^(a|~r))+t[12]+1700485571|0)<<6|n>>>26)+a|0)|~i))+t[3]-1894986606|0)<<10|r>>>22)+n|0)^((i=((i+=(n^(r|~a))+t[10]-1051523|0)<<15|i>>>17)+r|0)|~n))+t[1]-2054922799|0)<<21|a>>>11)+i|0,a=((a+=((r=((r+=(a^((n=((n+=(i^(a|~r))+t[8]+1873313359|0)<<6|n>>>26)+a|0)|~i))+t[15]-30611744|0)<<10|r>>>22)+n|0)^((i=((i+=(n^(r|~a))+t[6]-1560198380|0)<<15|i>>>17)+r|0)|~n))+t[13]+1309151649|0)<<21|a>>>11)+i|0,a=((a+=((r=((r+=(a^((n=((n+=(i^(a|~r))+t[4]-145523070|0)<<6|n>>>26)+a|0)|~i))+t[11]-1120210379|0)<<10|r>>>22)+n|0)^((i=((i+=(n^(r|~a))+t[2]+718787259|0)<<15|i>>>17)+r|0)|~n))+t[9]-343485551|0)<<21|a>>>11)+i|0,e[0]=n+e[0]|0,e[1]=a+e[1]|0,e[2]=i+e[2]|0,e[3]=r+e[3]|0}function u(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function _(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function a(e){var t,n,a,i,r,o,s=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)l(d,u(e.substring(t-64,t)));for(n=(e=e.substring(t-64)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),55<t)for(l(d,a),t=0;t<16;t+=1)a[t]=0;return i=(i=8*s).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,a[14]=r,a[15]=o,l(d,a),d}function i(e){var t,n,a,i,r,o,s=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)l(d,_(e.subarray(t-64,t)));for(n=(e=t-64<s?e.subarray(t-64):new Uint8Array(0)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)a[t>>2]|=e[t]<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),55<t)for(l(d,a),t=0;t<16;t+=1)a[t]=0;return i=(i=8*s).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,a[14]=r,a[15]=o,l(d,a),d}function n(e){var t,n="";for(t=0;t<4;t+=1)n+=p[e>>8*t+4&15]+p[e>>8*t&15];return n}function o(e){var t;for(t=0;t<e.length;t+=1)e[t]=n(e[t]);return e.join("")}function r(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function t(e,t){var n,a=e.length,i=new ArrayBuffer(a),r=new Uint8Array(i);for(n=0;n<a;n+=1)r[n]=e.charCodeAt(n);return t?r:i}function s(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function d(e,t,n){var a=new Uint8Array(e.byteLength+t.byteLength);return a.set(new Uint8Array(e)),a.set(new Uint8Array(t),e.byteLength),n?a:a.buffer}function h(e){var t,n=[],a=e.length;for(t=0;t<a-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function f(){this.reset()}var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return o(a("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function l(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(e,t){var n,a,i,r,o=this.byteLength,s=l(e,o),d=o;return t!==c&&(d=l(t,o)),d<s?new ArrayBuffer(0):(n=d-s,a=new ArrayBuffer(n),i=new Uint8Array(a),r=new Uint8Array(this,s,n),i.set(r),a)}}(),f.prototype.append=function(e){return this.appendBinary(r(e)),this},f.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)l(this._hash,u(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},f.prototype.end=function(e){var t,n,a=this._buff,i=a.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)r[t>>2]|=a.charCodeAt(t)<<(t%4<<3);return this._finish(r,i),n=o(this._hash),e&&(n=h(n)),this.reset(),n},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},f.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(e,t){var n,a,i,r=t;if(e[r>>2]|=128<<(r%4<<3),55<r)for(l(this._hash,e),r=0;r<16;r+=1)e[r]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=a,e[15]=i,l(this._hash,e)},f.hash=function(e,t){return f.hashBinary(r(e),t)},f.hashBinary=function(e,t){var n=o(a(e));return t?h(n):n},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(e){var t,n=d(this._buff.buffer,e,!0),a=n.length;for(this._length+=e.byteLength,t=64;t<=a;t+=64)l(this._hash,_(n.subarray(t-64,t)));return this._buff=t-64<a?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(e){var t,n,a=this._buff,i=a.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)r[t>>2]|=a[t]<<(t%4<<3);return this._finish(r,i),n=o(this._hash),e&&(n=h(n)),this.reset(),n},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var e=f.prototype.getState.call(this);return e.buff=s(e.buff),e},f.ArrayBuffer.prototype.setState=function(e){return e.buff=t(e.buff,!0),f.prototype.setState.call(this,e)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(e,t){var n=o(i(new Uint8Array(e)));return t?h(n):n},f},e.exports=t()}),v=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},y=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}(),b=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,x=function(){function n(e){v(this,n),this.file=e,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}return y(n,null,[{key:"create",value:function a(e,t){new n(e).create(t)}}]),y(n,[{key:"create",value:function a(e){var t=this;this.callback=e,this.md5Buffer=new g.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",function(e){return t.fileReaderDidLoad(e)}),this.fileReader.addEventListener("error",function(e){return t.fileReaderDidError(e)}),this.readNextChunk()}},{key:"fileReaderDidLoad",value:function i(e){if(this.md5Buffer.append(e.target.result),!this.readNextChunk()){var t=this.md5Buffer.end(!0),n=btoa(t);this.callback(null,n)}}},{key:"fileReaderDidError",value:function e(){this.callback("Error reading "+this.file.name)}},{key:"readNextChunk",value:function r(){if(this.chunkIndex<this.chunkCount||0==this.chunkIndex&&0==this.chunkCount){var e=this.chunkIndex*this.chunkSize,t=Math.min(e+this.chunkSize,this.file.size),n=b.call(this.file,e,t);return this.fileReader.readAsArrayBuffer(n),this.chunkIndex++,!0}return!1}}]),n}(),w=function(){function i(e,t,n){var a=this;v(this,i),this.file=e,this.attributes={filename:e.name,content_type:e.type,byte_size:e.size,checksum:t},this.xhr=new XMLHttpRequest,this.xhr.open("POST",n,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xhr.setRequestHeader("X-CSRF-Token",o("csrf-token")),this.xhr.addEventListener("load",function(e){return a.requestDidLoad(e)}),this.xhr.addEventListener("error",function(e){return a.requestDidError(e)})}return y(i,[{key:"create",value:function t(e){this.callback=e,this.xhr.send(JSON.stringify({blob:this.attributes}))}},{key:"requestDidLoad",value:function a(e){if(200<=this.status&&this.status<300){var t=this.response,n=t.direct_upload;delete t.direct_upload,this.attributes=t,this.directUploadData=n,this.callback(null,this.toJSON())}else this.requestDidError(e)}},{key:"requestDidError",value:function e(){this.callback('Error creating Blob for "'+this.file.name+'". Status: '+this.status)}},{key:"toJSON",value:function n(){var e={};for(var t in this.attributes)e[t]=this.attributes[t];return e}},{key:"status",get:function r(){return this.xhr.status}},{key:"response",get:function r(){var e=this.xhr,t=e.responseType,n=e.response;return"json"==t?n:JSON.parse(n)}}]),i}(),k=function(){function o(e){var t=this;v(this,o),this.blob=e,this.file=e.file;var n=e.directUploadData,a=n.url,i=n.headers;for(var r in this.xhr=new XMLHttpRequest,this.xhr.open("PUT",a,!0),this.xhr.responseType="text",i)this.xhr.setRequestHeader(r,i[r]);this.xhr.addEventListener("load",function(e){return t.requestDidLoad(e)}),this.xhr.addEventListener("error",function(e){return t.requestDidError(e)})}return y(o,[{key:"create",value:function t(e){this.callback=e,this.xhr.send(this.file.slice())}},{key:"requestDidLoad",value:function i(e){var t=this.xhr,n=t.status,a=t.response;200<=n&&n<300?this.callback(null,a):this.requestDidError(e)}},{key:"requestDidError",value:function e(){this.callback('Error storing "'+this.file.name+'". Status: '+this.xhr.status)}}]),o}(),E=0,S=function(){function a(e,t,n){v(this,a),this.id=++E,this.file=e,this.url=t,this.delegate=n}return y(a,[{key:"create",value:function e(a){var i=this;x.create(this.file,function(e,t){if(e)a(e);else{var n=new w(i.file,t,i.url);s(i.delegate,"directUploadWillCreateBlobWithXHR",n.xhr),n.create(function(e){if(e)a(e);else{var t=new k(n);s(i.delegate,"directUploadWillStoreFileWithXHR",t.xhr),t.create(function(e){e?a(e):a(null,n.toJSON())})}})}})}}]),a}(),D=function(){function n(e,t){v(this,n),this.input=e,this.file=t,this.directUpload=new S(this.file,this.url,this),this.dispatch("initialize")}return y(n,[{key:"start",value:function e(n){var a=this,i=document.createElement("input");i.type="hidden",i.name=this.input.name,this.input.insertAdjacentElement("beforebegin",i),this.dispatch("start"),this.directUpload.create(function(e,t){e?(i.parentNode.removeChild(i),a.dispatchError(e)):i.value=t.signed_id,a.dispatch("end"),n(e)})}},{key:"uploadRequestDidProgress",value:function a(e){var t=e.loaded/e.total*100
;t&&this.dispatch("progress",{progress:t})}},{key:"dispatch",value:function i(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};return n.file=this.file,n.id=this.directUpload.id,d(this.input,"direct-upload:"+e,{detail:n})}},{key:"dispatchError",value:function t(e){this.dispatch("error",{error:e}).defaultPrevented||alert(e)}},{key:"directUploadWillCreateBlobWithXHR",value:function r(e){this.dispatch("before-blob-request",{xhr:e})}},{key:"directUploadWillStoreFileWithXHR",value:function o(e){var t=this;this.dispatch("before-storage-request",{xhr:e}),e.upload.addEventListener("progress",function(e){return t.uploadRequestDidProgress(e)})}},{key:"url",get:function s(){return this.input.getAttribute("data-direct-upload-url")}}]),n}(),N="input[type=file][data-direct-upload-url]:not([disabled])",C=function(){function t(e){v(this,t),this.form=e,this.inputs=i(e,N).filter(function(e){return e.files.length})}return y(t,[{key:"start",value:function e(t){var n=this,a=this.createDirectUploadControllers(),i=function i(){var e=a.shift();e?e.start(function(e){e?(t(e),n.dispatch("end")):i()}):(t(),n.dispatch("end"))};this.dispatch("start"),i()}},{key:"createDirectUploadControllers",value:function n(){var a=[];return this.inputs.forEach(function(n){r(n.files).forEach(function(e){var t=new D(n,e);a.push(t)})}),a}},{key:"dispatch",value:function a(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};return d(this.form,"direct-uploads:"+e,{detail:n})}}]),t}(),A="data-direct-uploads-processing",T=new WeakMap,M=!1;setTimeout(m,1),e.start=n,e.DirectUpload=S,Object.defineProperty(e,"__esModule",{value:!0})}),function(){var e=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(e,t){return c.controller.visit(e,t)},clearCache:function(){return c.controller.clearCache()},setProgressBarDelay:function(e){return c.controller.setProgressBarDelay(e)}}}).call(this)}).call(e);var c=e.Turbolinks;(function(){(function(){var n,a,d,e,t,i,r,o,s,l=[].slice;c.copyObject=function(e){var t,n,a;for(t in n={},e)a=e[t],n[t]=a;return n},c.closest=function(e,t){return n.call(e,t)},n=null!=(s=document.documentElement.closest)?s:function(e){var t;for(t=this;t;){if(t.nodeType===Node.ELEMENT_NODE&&a.call(t,e))return t;t=t.parentNode}},c.defer=function(e){return setTimeout(e,1)},c.throttle=function(n){var a;return a=null,function(){var e,t;return e=1<=arguments.length?l.call(arguments,0):[],null!=a?a:a=requestAnimationFrame((t=this,function(){return a=null,n.apply(t,e)}))}},c.dispatch=function(e,t){var n,a,i,r,o,s;return s=(o=null!=t?t:{}).target,n=o.cancelable,a=o.data,(i=document.createEvent("Events")).initEvent(e,!0,!0===n),i.data=null!=a?a:{},i.cancelable&&!d&&(r=i.preventDefault,i.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),r.call(this)}),(null!=s?s:document).dispatchEvent(i),i},(o=document.createEvent("Events")).initEvent("test",!0,!0),o.preventDefault(),d=o.defaultPrevented,c.match=function(e,t){return a.call(e,t)},a=null!=(t=null!=(i=null!=(r=(e=document.documentElement).matchesSelector)?r:e.webkitMatchesSelector)?i:e.msMatchesSelector)?t:e.mozMatchesSelector,c.uuid=function(){var e,t,n;for(n="",e=t=1;t<=36;e=++t)n+=9===e||14===e||19===e||24===e?"-":15===e?"4":20===e?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){c.Location=function(){function e(e){var t,n;null==e&&(e=""),(n=document.createElement("a")).href=e.toString(),this.absoluteURL=n.href,(t=n.hash.length)<2?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-t),this.anchor=n.hash.slice(1))}var t,n,a,i;return e.wrap=function(e){return e instanceof this?e:new this(e)},e.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},e.prototype.getPath=function(){var e,t;return null!=(e=null!=(t=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?t[1]:void 0)?e:"/"},e.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},e.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},e.prototype.getExtension=function(){var e,t;return null!=(e=null!=(t=this.getLastPathComponent().match(/\.[^.]*$/))?t[0]:void 0)?e:""},e.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},e.prototype.isPrefixedBy=function(e){var t;return t=n(e),this.isEqualTo(e)||i(this.absoluteURL,t)},e.prototype.isEqualTo=function(e){return this.absoluteURL===(null!=e?e.absoluteURL:void 0)},e.prototype.toCacheKey=function(){return this.requestURL},e.prototype.toJSON=function(){return this.absoluteURL},e.prototype.toString=function(){return this.absoluteURL},e.prototype.valueOf=function(){return this.absoluteURL},n=function(e){return t(e.getOrigin()+e.getPath())},t=function(e){return a(e,"/")?e:e+"/"},i=function(e,t){return e.slice(0,t.length)===t},a=function(e,t){return e.slice(-t.length)===t},e}()}.call(this),function(){var a=function(e,t){return function(){return e.apply(t,arguments)}};c.HttpRequest=function(){function e(e,t,n){this.delegate=e,this.requestCanceled=a(this.requestCanceled,this),this.requestTimedOut=a(this.requestTimedOut,this),this.requestFailed=a(this.requestFailed,this),this.requestLoaded=a(this.requestLoaded,this),this.requestProgressed=a(this.requestProgressed,this),this.url=c.Location.wrap(t).requestURL,this.referrer=c.Location.wrap(n).absoluteURL,this.createXHR()}return e.NETWORK_FAILURE=0,e.TIMEOUT_FAILURE=-1,e.timeout=60,e.prototype.send=function(){var e;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(e=this.delegate).requestStarted?e.requestStarted():void 0):void 0},e.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},e.prototype.requestProgressed=function(e){return e.lengthComputable?this.setProgress(e.loaded/e.total):void 0},e.prototype.requestLoaded=function(){return this.endRequest((t=this,function(){var e;return 200<=(e=t.xhr.status)&&e<300?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}));var t},e.prototype.requestFailed=function(){return this.endRequest((e=this,function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.NETWORK_FAILURE)}));var e},e.prototype.requestTimedOut=function(){return this.endRequest((e=this,function(){return e.failed=!0,e.delegate.requestFailedWithStatusCode(e.constructor.TIMEOUT_FAILURE)}));var e},e.prototype.requestCanceled=function(){return this.endRequest()},e.prototype.notifyApplicationBeforeRequestStart=function(){return c.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},e.prototype.notifyApplicationAfterRequestEnd=function(){return c.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},e.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},e.prototype.endRequest=function(e){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=e&&e.call(this),this.destroy()):void 0},e.prototype.setProgress=function(e){var t;return this.progress=e,"function"==typeof(t=this.delegate).requestProgressed?t.requestProgressed(this.progress):void 0},e.prototype.destroy=function(){var e;return this.setProgress(1),"function"==typeof(e=this.delegate).requestFinished&&e.requestFinished(),this.delegate=null,this.xhr=null},e}()}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}};c.ProgressBar=function(){function e(){this.trickle=n(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var t;return t=300,e.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+t+"ms ease-out, opacity "+t/2+"ms "+t/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((e=this,function(){return e.uninstallProgressElement(),e.stopTrickling(),e.visible=!1,e.hiding=!1}))):void 0;var e},e.prototype.setValue=function(e){return this.value=e,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(e){return this.progressElement.style.opacity=0,setTimeout(e,1.5*t)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,t)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame((e=this,function(){return e.progressElement.style.width=10+90*e.value+"%"}));var e},e.prototype.createStylesheetElement=function(){var e;return(e=document.createElement("style")).type="text/css",e.textContent=this.constructor.defaultCSS,e},e.prototype.createProgressElement=function(){var e;return(e=document.createElement("div")).className="turbolinks-progress-bar",e},e}()}.call(this),function(){var i=function(e,t){return function(){return e.apply(t,arguments)}};c.BrowserAdapter=function(){function e(e){this.controller=e,this.showProgressBar=i(this.showProgressBar,this),this.progressBar=new c.ProgressBar}var n,a,t;return t=c.HttpRequest,n=t.NETWORK_FAILURE,a=t.TIMEOUT_FAILURE,e.prototype.visitProposedToLocationWithAction=function(e,t){return this.controller.startVisitToLocationWithAction(e,t)},e.prototype.visitStarted=function(e){return e.issueRequest(),e.changeHistory(),e.loadCachedSnapshot()},e.prototype.visitRequestStarted=function(e){return this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!==e.action?this.showProgressBarAfterDelay():this.showProgressBar()},e.prototype.visitRequestProgressed=function(e){return this.progressBar.setValue(e.progress)},e.prototype.visitRequestCompleted=function(e){return e.loadResponse()},e.prototype.visitRequestFailedWithStatusCode=function(e,t){switch(t){case n:case a:return this.reload();default:return e.loadResponse()}},e.prototype.visitRequestFinished=function(){return this.hideProgressBar()},e.prototype.visitCompleted=function(e){return e.followRedirect()},e.prototype.pageInvalidated=function(){return this.reload()},e.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},e.prototype.showProgressBar=function(){return this.progressBar.show()},e.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},e.prototype.reload=function(){return window.location.reload()},e}()}.call(this),function(){var t=function(e,t){return function(){return e.apply(t,arguments)}};c.History=function(){function e(e){this.delegate=e,this.onPageLoad=t(this.onPageLoad,this),this.onPopState=t(this.onPopState,this)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},e.prototype.push=function(e,t){return e=c.Location.wrap(e),this.update("push",e,t)},e.prototype.replace=function(e,t){return e=c.Location.wrap(e),this.update("replace",e,t)},e.prototype.onPopState=function(e){var t,n,a,i;return this.shouldHandlePopState()&&(i=null!=(n=e.state)?n.turbolinks:void 0)?(t=c.Location.wrap(window.location),a=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(t,a)):void 0},e.prototype.onPageLoad=function(){return c.defer((e=this,function(){return e.pageLoaded=!0}));var e},e.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},e.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},e.prototype.update=function(e,t,n){var a;return a={turbolinks:{restorationIdentifier:n}},history[e+"State"](a,null,t)},e}()}.call(this),function(){c.HeadDetails=function(){function e(e){var t,n,a,i,r;for(this.elements={},n=0,i=e.length;n<i;n++)(r=e[n]).nodeType===Node.ELEMENT_NODE&&(a=r.outerHTML,(null!=(t=this.elements)[a]?t[a]:t[a]={type:s(r),tracked:o(r),elements:[]}).elements.push(r))}var r,t,n,o,s;return e.fromHeadElement=function(e){var t;return new this(null!=(t=null!=e?e.childNodes:void 0)?t:[])},e.prototype.hasElementWithKey=function(e){return e in this.elements},e.prototype.getTrackedElementSignature=function(){var n;return function(){var e,t;for(n in t=[],e=this.elements)e[n].tracked&&t.push(n);return t}.call(this).join("")},e.prototype.getScriptElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("script",e)},e.prototype.getStylesheetElementsNotInDetails=function(e){return this.getElementsMatchingTypeNotInDetails("stylesheet",e)},e.prototype.getElementsMatchingTypeNotInDetails=function(e,t){var n,a,i,r,o,s;for(a in o=[],i=this.elements)s=(r=i[a]).type,n=r.elements,s!==e||t.hasElementWithKey(a)||o.push(n[0]);return o},e.prototype.getProvisionalElements=function(){var e,t,n,a,i,r,o;for(t in n=[],a=this.elements)o=(i=a[t]).type,r=i.tracked,e=i.elements,null!=o||r?1<e.length&&n.push.apply(n,e.slice(1)):n.push.apply(n,e);return n},e.prototype.getMetaValue=function(e){var t;return null!=(t=this.findMetaElementByName(e))?t.getAttribute("content"):void 0},e.prototype.findMetaElementByName=function(e){var t,n,a,i;for(a in t=void 0,i=this.elements)n=i[a].elements,r(n[0],e)&&(t=n[0]);return t},s=function(e){return t(e)?"script":n(e)?"stylesheet":void 0},o=function(e){return"reload"===e.getAttribute("data-turbolinks-track")},t=function(e){return"script"===e.tagName.toLowerCase()},n=function(e){var t;return"style"===(t=e.tagName.toLowerCase())||"link"===t&&"stylesheet"===e.getAttribute("rel")},r=function(e,t){return"meta"===e.tagName.toLowerCase()&&e.getAttribute("name")===t},e}()}.call(this),function(){c.Snapshot=function(){function e(e,t){this.headDetails=e,this.bodyElement=t}return e.wrap=function(e){return e instanceof this?e:"string"==typeof e?this.fromHTMLString(e):this.fromHTMLElement(e)},e.fromHTMLString=function(e){var t;return(t=document.createElement("html")).innerHTML=e,this.fromHTMLElement(t)},e.fromHTMLElement=function(e){var t,n,a;return n=e.querySelector("head"),t=null!=(a=e.querySelector("body"))?a:document.createElement("body"),new this(c.HeadDetails.fromHeadElement(n),t)},e.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},e.prototype.getRootLocation=function(){var e,t;return t=null!=(e=this.getSetting("root"))?e:"/",new c.Location(t)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.getElementForAnchor=function(e){try{return this.bodyElement.querySelector("[id='"+e+"'], a[name='"+e+"']")}catch(c){}},e.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},e.prototype.getPermanentElementById=function(e){return this.bodyElement.querySelector("#"+e+"[data-turbolinks-permanent]")},e.prototype.getPermanentElementsPresentInSnapshot=function(e){var t,n,a,i,r;for(r=[],n=0,a=(i=this.getPermanentElements()).length;n<a;n++)t=i[n],e.getPermanentElementById(t.id)&&r.push(t);return r},e.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},e.prototype.hasAnchor=function(e){return null!=this.getElementForAnchor(e)},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},e.prototype.getSetting=function(e){return this.headDetails.getMetaValue("turbolinks-"+e)},e}()}.call(this),function(){var r=[].slice;c.Renderer=function(){function e(){}var n;return e.render=function(e,t){var n,a,i;return a=e,n=t,(i=function(e,t,n){n.prototype=e.prototype;var a=new n,i=e.apply(a,t);return Object(i)===i?i:a}(this,3<=arguments.length?r.call(arguments,2):[],function(){})).delegate=a,i.render(n),i},e.prototype.renderView=function(e){return this.delegate.viewWillRender(this.newBody),e(),this.delegate.viewRendered(this.newBody)},e.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},e.prototype.createScriptElement=function(e){var t;return"false"===e.getAttribute("data-turbolinks-eval")?e:((t=document.createElement("script")).textContent=e.textContent,t.async=!1,n(t,e),t)},n=function(e,t){var n,a,i,r,o,s,d;for(s=[],n=0,a=(r=t.attributes).length;n<a;n++)i=(o=r[n]).name,d=o.value,s.push(e.setAttribute(i,d));return s},e}()}.call(this),function(){var s,d,n=function(e,t){function n(){this.constructor=e}for(var a in t)i.call(t,a)&&(e[a]=t[a]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;c.SnapshotRenderer=function(e){function t(e,t,n){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(t,e),t.prototype.render=function(e){return this.shouldRender()?(this.mergeHead(),this.renderView((t=this,function(){return t.replaceBody(),t.isPreview||t.focusFirstAutofocusableElement(),e()}))):this.invalidateView();var t},t.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},t.prototype.replaceBody=function(){var e;return e=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(e)},t.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},t.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},t.prototype.copyNewHeadStylesheetElements=function(){var e,t,n,a,i;for(i=[],t=0,n=(a=this.getNewHeadStylesheetElements()).length;t<n;t++)e=a[t],i.push(document.head.appendChild(e));return i},t.prototype.copyNewHeadScriptElements=function(){var e,t,n,a,i;for(i=[],t=0,n=(a=this.getNewHeadScriptElements()).length;t<n;t++)e=a[t],i.push(document.head.appendChild(this.createScriptElement(e)));return i},t.prototype.removeCurrentHeadProvisionalElements=function(){var e,t,n,a,i;for(i=[],t=0,n=(a=this.getCurrentHeadProvisionalElements()).length;t<n;t++)e=a[t],i.push(document.head.removeChild(e));return i},t.prototype.copyNewHeadProvisionalElements=function(){var e,t,n,a,i;for(i=[],t=0,n=(a=this.getNewHeadProvisionalElements()).length;t<n;t++)e=a[t],i.push(document.head.appendChild(e));return i},t.prototype.relocateCurrentBodyPermanentElements=function(){var e,t,n,a,i,r,o;for(o=[],e=0,t=(r=this.getCurrentBodyPermanentElements()).length;e<t;e++)a=r[e],i=s(a),n=this.newSnapshot.getPermanentElementById(a.id),d(a,i.element),d(n,a),o.push(i);return o},t.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(e){var t,n,a,i,r,o;for(o=[],a=0,i=e.length;a<i;a++)n=(r=e[a]).element,t=r.permanentElement.cloneNode(!0),o.push(d(n,t));return o},t.prototype.activateNewBodyScriptElements=function(){var e,t,n,a,i,r;for(r=[],t=0,a=(i=this.getNewBodyScriptElements()).length;t<a;t++)n=i[t],e=this.createScriptElement(n),r.push(d(n,e));return r},t.prototype.assignNewBody=function(){return document.body=this.newBody},t.prototype.focusFirstAutofocusableElement=function(){var e;return null!=(e=this.newSnapshot.findFirstAutofocusableElement())?e.focus():void 0},t.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},t.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},t.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},t.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},t.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},t.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},t}(c.Renderer),s=function(e){var t;return(t=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),t.setAttribute("content",e.id),{element:t,permanentElement:e}},d=function(e,t){var n;return(n=e.parentNode)?n.replaceChild(t,e):void 0}}.call(this),function(){var n=function(e,t){function n(){this.constructor=e}for(var a in t)i.call(t,a)&&(e[a]=t[a]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;c.ErrorRenderer=function(e){function t(e){var t;(t=document.createElement("html")).innerHTML=e,this.newHead=t.querySelector("head"),this.newBody=t.querySelector("body")}return n(t,e),t.prototype.render=function(e){return this.renderView((t=this,function(){return t.replaceHeadAndBody(),t.activateBodyScriptElements(),e()}));var t},t.prototype.replaceHeadAndBody=function(){var e,t;return t=document.head,e=document.body,t.parentNode.replaceChild(this.newHead,t),e.parentNode.replaceChild(this.newBody,e)},t.prototype.activateBodyScriptElements=function(){var e,t,n,a,i,r;for(r=[],t=0,n=(a=this.getScriptElements()).length;t<n;t++)i=a[t],e=this.createScriptElement(i),r.push(i.parentNode.replaceChild(e,i));return r},t.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},t}(c.Renderer)}.call(this),function(){c.View=function(){function e(e){this.delegate=e,this.htmlElement=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getElementForAnchor=function(e){return this.getSnapshot().getElementForAnchor(e)},e.prototype.getSnapshot=function(){return c.Snapshot.fromHTMLElement(this.htmlElement)},e.prototype.render=function(e,t){var n,a,i;return i=e.snapshot,n=e.error,a=e.isPreview,this.markAsPreview(a),null!=i?this.renderSnapshot(i,a,t):this.renderError(n,t)},e.prototype.markAsPreview=function(e){return e?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,t,n){return c.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),c.Snapshot.wrap(e),t)},e.prototype.renderError=function(e,t){return c.ErrorRenderer.render(this.delegate,t,e)},e}()}.call(this),function(){var t=function(e,t){return function(){return e.apply(t,arguments)}};c.ScrollManager=function(){function e(e){this.delegate=e,this.onScroll=t(this.onScroll,this),this.onScroll=c.throttle(this.onScroll)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},e.prototype.scrollToElement=function(e){return e.scrollIntoView()},e.prototype.scrollToPosition=function(e){var t,n;return t=e.x,n=e.y,window.scrollTo(t,n)},e.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},e.prototype.updatePosition=function(e){var t;return this.position=e,null!=(t=this.delegate)?t.scrollPositionChanged(this.position):void 0},e}()}.call(this),function(){c.SnapshotCache=function(){function e(e){this.size=e,this.keys=[],this.snapshots={}}var a;return e.prototype.has=function(e){return a(e)in this.snapshots},e.prototype.get=function(e){var t;if(this.has(e))return t=this.read(e),this.touch(e),t},e.prototype.put=function(e,t){return this.write(e,t),this.touch(e),t},e.prototype.read=function(e){var t;return t=a(e),this.snapshots[t]},e.prototype.write=function(e,t){var n;return n=a(e),this.snapshots[n]=t},e.prototype.touch=function(e){var t,n;return n=a(e),-1<(t=this.keys.indexOf(n))&&this.keys.splice(t,1),this.keys.unshift(n),this.trim()},e.prototype.trim=function(){var e,t,n,a,i;for(i=[],e=0,n=(a=this.keys.splice(this.size)).length;e<n;e++)t=a[e],i.push(delete this.snapshots[t]);return i},a=function(e){return c.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var a=function(e,t){return function(){return e.apply(t,arguments)}};c.Visit=function(){function e(e,t,n){this.controller=e,this.action=n,this.performScroll=a(this.performScroll,this),this.identifier=c.uuid(),this.location=c.Location.wrap(t),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return e.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},e.prototype.cancel=function(){var e;return"started"===this.state?(null!=(e=this.request)&&e.cancel(),this.cancelRender(),this.state="canceled"):void 0},e.prototype.complete=function(){var e;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(e=this.adapter).visitCompleted&&e.visitCompleted(this),this.controller.visitCompleted(this)):void 0},e.prototype.fail=function(){var e;return"started"===this.state?(this.state="failed","function"==typeof(e=this.adapter).visitFailed?e.visitFailed(this):void 0):void 0},e.prototype.changeHistory=function(){var e,t;return this.historyChanged?void 0:(e=this.location.isEqualTo(this.referrer)?"replace":this.action,t=n(e),this.controller[t](this.location,this.restorationIdentifier),this.historyChanged=!0)},e.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new c.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},e.prototype.getCachedSnapshot=function(){var e;return!(e=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!e.hasAnchor(this.location.anchor)||"restore"!==this.action&&!e.isPreviewable()?void 0:e},e.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},e.prototype.loadCachedSnapshot=function(){var t,n;return(n=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var e;return this.cacheSnapshot(),this.controller.render({snapshot:n,isPreview:t},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),t?void 0:this.complete()})):void 0},e.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var e,t;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.complete())}):void 0},e.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},e.prototype.requestStarted=function(){var e;return this.recordTimingMetric("requestStart"),"function"==typeof(e=this.adapter).visitRequestStarted?e.visitRequestStarted(this):void 0},e.prototype.requestProgressed=function(e){var t;return this.progress=e,"function"==typeof(t=this.adapter).visitRequestProgressed?t.visitRequestProgressed(this):void 0},e.prototype.requestCompletedWithResponse=function(e,t){return this.response=e,null!=t&&(this.redirectedToLocation=c.Location.wrap(t)),this.adapter.visitRequestCompleted(this)},e.prototype.requestFailedWithStatusCode=function(e,t){return this.response=t,this.adapter.visitRequestFailedWithStatusCode(this,e)},e.prototype.requestFinished=function(){var e;return this.recordTimingMetric("requestEnd"),"function"==typeof(e=this.adapter).visitRequestFinished?e.visitRequestFinished(this):void 0},e.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},e.prototype.scrollToRestoredPosition=function(){var e,t;return null!=(e=null!=(t=this.restorationData)?t.scrollPosition:void 0)?(this.controller.scrollToPosition(e),!0):void 0},e.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},e.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},e.prototype.recordTimingMetric=function(e){var t;return null!=(t=this.timingMetrics)[e]?t[e]:t[e]=(new Date).getTime()},e.prototype.getTimingMetrics=function(){return c.copyObject(this.timingMetrics)},n=function(e){switch(e){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},e.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},e.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},e.prototype.render=function(e){return this.cancelRender(),this.frame=requestAnimationFrame((t=this,function(){return t.frame=null,e.call(t)}));var t},e.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},e}()}.call(this),function(){var t=function(e,t){return function(){return e.apply(t,arguments)}};c.Controller=function(){function e(){this.clickBubbled=t(this.clickBubbled,this),this.clickCaptured=t(this.clickCaptured,this),this.pageLoaded=t(this.pageLoaded,this),this.history=new c.History(this),this.view=new c.View(this),this.scrollManager=new c.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return e.prototype.start=function(){return c.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},e.prototype.clearCache=function(){return this.cache=new c.SnapshotCache(10)},e.prototype.visit=function(e,t){var n,a;return null==t&&(t={}),e=c.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(n=null!=(a=t.action)?a:"advance",this.adapter.visitProposedToLocationWithAction(e,n)):window.location=e:void 0},e.prototype.startVisitToLocationWithAction=function(e,t,n){var a;return c.supported?(a=this.getRestorationDataForIdentifier(n),this.startVisit(e,t,{restorationData:a})):window.location=e},
e.prototype.setProgressBarDelay=function(e){return this.progressBarDelay=e},e.prototype.startHistory=function(){return this.location=c.Location.wrap(window.location),this.restorationIdentifier=c.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.stopHistory=function(){return this.history.stop()},e.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,t){return this.restorationIdentifier=t,this.location=c.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},e.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,t){return this.restorationIdentifier=t,this.location=c.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,t){var n;return this.restorationIdentifier=t,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=c.Location.wrap(e)):this.adapter.pageInvalidated()},e.prototype.getCachedSnapshotForLocation=function(e){var t;return null!=(t=this.cache.get(e))?t.clone():void 0},e.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},e.prototype.cacheSnapshot=function(){var e,t,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),e=this.lastRenderedLocation,c.defer((n=this,function(){return n.cache.put(e,t.clone())}))):void 0},e.prototype.scrollToAnchor=function(e){var t;return(t=this.view.getElementForAnchor(e))?this.scrollToElement(t):this.scrollToPosition({x:0,y:0})},e.prototype.scrollToElement=function(e){return this.scrollManager.scrollToElement(e)},e.prototype.scrollToPosition=function(e){return this.scrollManager.scrollToPosition(e)},e.prototype.scrollPositionChanged=function(e){return this.getCurrentRestorationData().scrollPosition=e},e.prototype.render=function(e,t){return this.view.render(e,t)},e.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},e.prototype.viewWillRender=function(e){return this.notifyApplicationBeforeRender(e)},e.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},e.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},e.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},e.prototype.clickBubbled=function(e){var t,n,a;return this.enabled&&this.clickEventIsSignificant(e)&&(n=this.getVisitableLinkForNode(e.target))&&(a=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,a)?(e.preventDefault(),t=this.getActionForLink(n),this.visit(a,{action:t})):void 0},e.prototype.applicationAllowsFollowingLinkToLocation=function(e,t){return!this.notifyApplicationAfterClickingLinkToLocation(e,t).defaultPrevented},e.prototype.applicationAllowsVisitingLocation=function(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented},e.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,t){return c.dispatch("turbolinks:click",{target:e,data:{url:t.absoluteURL},cancelable:!0})},e.prototype.notifyApplicationBeforeVisitingLocation=function(e){return c.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},e.prototype.notifyApplicationAfterVisitingLocation=function(e){return c.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},e.prototype.notifyApplicationBeforeCachingSnapshot=function(){return c.dispatch("turbolinks:before-cache")},e.prototype.notifyApplicationBeforeRender=function(e){return c.dispatch("turbolinks:before-render",{data:{newBody:e}})},e.prototype.notifyApplicationAfterRender=function(){return c.dispatch("turbolinks:render")},e.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),c.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},e.prototype.startVisit=function(e,t,n){var a;return null!=(a=this.currentVisit)&&a.cancel(),this.currentVisit=this.createVisit(e,t,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(e)},e.prototype.createVisit=function(e,t,n){var a,i,r,o,s;return o=(i=null!=n?n:{}).restorationIdentifier,r=i.restorationData,a=i.historyChanged,(s=new c.Visit(this,e,t)).restorationIdentifier=null!=o?o:c.uuid(),s.restorationData=c.copyObject(r),s.historyChanged=a,s.referrer=this.location,s},e.prototype.visitCompleted=function(e){return this.notifyApplicationAfterPageLoad(e.getTimingMetrics())},e.prototype.clickEventIsSignificant=function(e){return!(e.defaultPrevented||e.target.isContentEditable||1<e.which||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)},e.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?c.closest(e,"a[href]:not([target]):not([download])"):void 0},e.prototype.getVisitableLocationForLink=function(e){var t;return t=new c.Location(e.getAttribute("href")),this.locationIsVisitable(t)?t:void 0},e.prototype.getActionForLink=function(e){var t;return null!=(t=e.getAttribute("data-turbolinks-action"))?t:"advance"},e.prototype.nodeIsVisitable=function(e){var t;return!(t=c.closest(e,"[data-turbolinks]"))||"false"!==t.getAttribute("data-turbolinks")},e.prototype.locationIsVisitable=function(e){return e.isPrefixedBy(this.view.getRootLocation())&&e.isHTML()},e.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},e.prototype.getRestorationDataForIdentifier=function(e){var t;return null!=(t=this.restorationData)[e]?t[e]:t[e]={}},e}()}.call(this),function(){!function(){var e,t;if((e=t=document.currentScript)&&!t.hasAttribute("data-turbolinks-suppress-warning"))for(;e=e.parentNode;)if(e===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",t.outerHTML)}()}.call(this),function(){var e,t,n;c.start=function(){return t()?(null==c.controller&&(c.controller=e()),c.controller.start()):void 0},t=function(){return null==window.Turbolinks&&(window.Turbolinks=c),n()},e=function(){var e;return(e=new c.Controller).adapter=new c.BrowserAdapter(e),e},(n=function(){return window.Turbolinks===c})()&&c.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd&&define(c)}.call(this),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(k,e){function s(e){var t=!!e&&"length"in e&&e.length,n=he.type(e);return"function"!==n&&!he.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function t(e,n,a){if(he.isFunction(n))return he.grep(e,function(e,t){return!!n.call(e,t,e)!==a});if(n.nodeType)return he.grep(e,function(e){return e===n!==a});if("string"==typeof n){if(ke.test(n))return he.filter(n,e,a);n=he.filter(n,e)}return he.grep(e,function(e){return-1<he.inArray(e,n)!==a})}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e){var n={};return he.each(e.match(Te)||[],function(e,t){n[t]=!0}),n}function i(){ae.addEventListener?(ae.removeEventListener("DOMContentLoaded",r),k.removeEventListener("load",r)):(ae.detachEvent("onreadystatechange",r),k.detachEvent("onload",r))}function r(){(ae.addEventListener||"load"===k.event.type||"complete"===ae.readyState)&&(i(),he.ready())}function d(e,t,n){if(n===undefined&&1===e.nodeType){var a="data-"+t.replace(je,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(a))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Oe.test(n)?he.parseJSON(n):n)}catch(i){}he.data(e,t,n)}else n=undefined}return n}function l(e){var t;for(t in e)if(("data"!==t||!he.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function a(e,t,n,a){if(Le(e)){var i,r,o=he.expando,s=e.nodeType,d=s?he.cache:e,l=s?e[o]:e[o]&&o;if(l&&d[l]&&(a||d[l].data)||n!==undefined||"string"!=typeof t)return l||(l=s?e[o]=ne.pop()||he.guid++:o),d[l]||(d[l]=s?{}:{toJSON:he.noop}),"object"!=typeof t&&"function"!=typeof t||(a?d[l]=he.extend(d[l],t):d[l].data=he.extend(d[l].data,t)),r=d[l],a||(r.data||(r.data={}),r=r.data),n!==undefined&&(r[he.camelCase(t)]=n),"string"==typeof t?null==(i=r[t])&&(i=r[he.camelCase(t)]):i=r,i}}function o(e,t,n){if(Le(e)){var a,i,r=e.nodeType,o=r?he.cache:e,s=r?e[he.expando]:he.expando;if(o[s]){if(t&&(a=n?o[s]:o[s].data)){i=(t=he.isArray(t)?t.concat(he.map(t,he.camelCase)):t in a?[t]:(t=he.camelCase(t))in a?[t]:t.split(" ")).length;for(;i--;)delete a[t[i]];if(n?!l(a):!he.isEmptyObject(a))return}(n||(delete o[s].data,l(o[s])))&&(r?he.cleanData([e],!0):ue.deleteExpando||o!=o.window?delete o[s]:o[s]=undefined)}}}function u(e,t,n,a){var i,r=1,o=20,s=a?function(){return a.cur()}:function(){return he.css(e,t,"")},d=s(),l=n&&n[3]||(he.cssNumber[t]?"":"px"),c=(he.cssNumber[t]||"px"!==l&&+d)&&qe.exec(he.css(e,t));if(c&&c[3]!==l)for(l=l||c[3],n=n||[],c=+d||1;c/=r=r||".5",he.style(e,t,c+l),r!==(r=s()/d)&&1!==r&&--o;);return n&&(c=+c||+d||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],a&&(a.unit=l,a.start=c,a.end=i)),i}function m(e){var t=Xe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,a,i=0,r="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):undefined;if(!r)for(r=[],n=e.childNodes||e;null!=(a=n[i]);i++)!t||he.nodeName(a,t)?r.push(a):he.merge(r,g(a,t));return t===undefined||t&&he.nodeName(e,t)?he.merge([e],r):r}function v(e,t){for(var n,a=0;null!=(n=e[a]);a++)he._data(n,"globalEval",!t||he._data(t[a],"globalEval"))}function y(e){$e.test(e.type)&&(e.defaultChecked=e.checked)}function p(e,t,n,a,i){for(var r,o,s,d,l,c,u,_=e.length,h=m(t),f=[],p=0;p<_;p++)if((o=e[p])||0===o)if("object"===he.type(o))he.merge(f,o.nodeType?[o]:o);else if(Ye.test(o)){for(d=d||h.appendChild(t.createElement("div")),l=(Ve.exec(o)||["",""])[1].toLowerCase(),u=Je[l]||Je._default,d.innerHTML=u[1]+he.htmlPrefilter(o)+u[2],r=u[0];r--;)d=d.lastChild;if(!ue.leadingWhitespace&&Ue.test(o)&&f.push(t.createTextNode(Ue.exec(o)[0])),!ue.tbody)for(r=(o="table"!==l||Ke.test(o)?"<table>"!==u[1]||Ke.test(o)?0:d:d.firstChild)&&o.childNodes.length;r--;)he.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(he.merge(f,d.childNodes),d.textContent="";d.firstChild;)d.removeChild(d.firstChild);d=h.lastChild}else f.push(t.createTextNode(o));for(d&&h.removeChild(d),ue.appendChecked||he.grep(g(f,"input"),y),p=0;o=f[p++];)if(a&&-1<he.inArray(o,a))i&&i.push(o);else if(s=he.contains(o.ownerDocument,o),d=g(h.appendChild(o),"script"),s&&v(d),n)for(r=0;o=d[r++];)We.test(o.type||"")&&n.push(o);return d=null,h}function _(){return!0}function h(){return!1}function f(){try{return ae.activeElement}catch(e){}}function b(e,t,n,a,i,r){var o,s;if("object"==typeof t){for(s in"string"!=typeof n&&(a=a||n,n=undefined),t)b(e,s,n,a,t[s],r);return e}if(null==a&&null==i?(i=n,a=n=undefined):null==i&&("string"==typeof n?(i=a,a=undefined):(i=a,a=n,n=undefined)),!1===i)i=h;else if(!i)return e;return 1===r&&(o=i,(i=function(e){return he().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=he.guid++)),e.each(function(){he.event.add(this,t,i,a,n)})}function x(e,t){return he.nodeName(e,"table")&&he.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function w(e){return e.type=(null!==he.find.attr(e,"type"))+"/"+e.type,e}function E(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function S(e,t){if(1===t.nodeType&&he.hasData(e)){var n,a,i,r=he._data(e),o=he._data(t,r),s=r.events;if(s)for(n in delete o.handle,o.events={},s)for(a=0,i=s[n].length;a<i;a++)he.event.add(t,n,s[n][a]);o.data&&(o.data=he.extend({},o.data))}}function D(e,t){var n,a,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ue.noCloneEvent&&t[he.expando]){for(a in(i=he._data(t)).events)he.removeEvent(t,a,i.handle);t.removeAttribute(he.expando)}"script"===n&&t.text!==e.text?(w(t).text=e.text,E(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ue.html5Clone&&e.innerHTML&&!he.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&$e.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function N(n,a,i,r){a=re.apply([],a);var e,t,o,s,d,l,c=0,u=n.length,_=u-1,h=a[0],f=he.isFunction(h);if(f||1<u&&"string"==typeof h&&!ue.checkClone&&ot.test(h))return n.each(function(e){var t=n.eq(e);f&&(a[0]=h.call(this,e,t.html())),N(t,a,i,r)});if(u&&(e=(l=p(a,n[0].ownerDocument,!1,n,r)).firstChild,1===l.childNodes.length&&(l=e),e||r)){for(o=(s=he.map(g(l,"script"),w)).length;c<u;c++)t=l,c!==_&&(t=he.clone(t,!0,!0),o&&he.merge(s,g(t,"script"))),i.call(n[c],t,c);if(o)for(d=s[s.length-1].ownerDocument,he.map(s,E),c=0;c<o;c++)t=s[c],We.test(t.type||"")&&!he._data(t,"globalEval")&&he.contains(d,t)&&(t.src?he._evalUrl&&he._evalUrl(t.src):he.globalEval((t.text||t.textContent||t.innerHTML||"").replace(dt,"")));l=e=null}return n}function C(e,t,n){for(var a,i=t?he.filter(t,e):e,r=0;null!=(a=i[r]);r++)n||1!==a.nodeType||he.cleanData(g(a)),a.parentNode&&(n&&he.contains(a.ownerDocument,a)&&v(g(a,"script")),a.parentNode.removeChild(a));return e}function A(e,t){var n=he(t.createElement(e)).appendTo(t.body),a=he.css(n[0],"display");return n.detach(),a}function T(e){var t=ae,n=ut[e];return n||("none"!==(n=A(e,t))&&n||((t=((ct=(ct||he("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||ct[0].contentDocument).document).write(),t.close(),n=A(e,t),ct.detach()),ut[e]=n),n}function M(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function L(e){if(e in Dt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=St.length;n--;)if((e=St[n]+t)in Dt)return e}function O(e,t){for(var n,a,i,r=[],o=0,s=e.length;o<s;o++)(a=e[o]).style&&(r[o]=he._data(a,"olddisplay"),n=a.style.display,t?(r[o]||"none"!==n||(a.style.display=""),""===a.style.display&&Be(a)&&(r[o]=he._data(a,"olddisplay",T(a.nodeName)))):(i=Be(a),(n&&"none"!==n||!i)&&he._data(a,"olddisplay",i?n:he.css(a,"display"))));for(o=0;o<s;o++)(a=e[o]).style&&(t&&"none"!==a.style.display&&""!==a.style.display||(a.style.display=t?r[o]||"":"none"));return e}function j(e,t,n){var a=wt.exec(t);return a?Math.max(0,a[1]-(n||0))+(a[2]||"px"):t}function H(e,t,n,a,i){for(var r=n===(a?"border":"content")?4:"width"===t?1:0,o=0;r<4;r+=2)"margin"===n&&(o+=he.css(e,n+ze[r],!0,i)),a?("content"===n&&(o-=he.css(e,"padding"+ze[r],!0,i)),"margin"!==n&&(o-=he.css(e,"border"+ze[r]+"Width",!0,i))):(o+=he.css(e,"padding"+ze[r],!0,i),"padding"!==n&&(o+=he.css(e,"border"+ze[r]+"Width",!0,i)));return o}function P(e,t,n){var a=!0,i="width"===t?e.offsetWidth:e.offsetHeight,r=mt(e),o=ue.boxSizing&&"border-box"===he.css(e,"boxSizing",!1,r);if(i<=0||null==i){if(((i=gt(e,t,r))<0||null==i)&&(i=e.style[t]),ht.test(i))return i;a=o&&(ue.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+H(e,t,n||(o?"border":"content"),a,r)+"px"}function R(e,t,n,a,i){return new R.prototype.init(e,t,n,a,i)}function I(){return k.setTimeout(function(){Nt=undefined}),Nt=he.now()}function q(e,t){var n,a={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)a["margin"+(n=ze[i])]=a["padding"+n]=e;return t&&(a.opacity=a.width=e),a}function z(e,t,n){for(var a,i=($.tweeners[t]||[]).concat($.tweeners["*"]),r=0,o=i.length;r<o;r++)if(a=i[r].call(n,t,e))return a}function B(t,e,n){var a,i,r,o,s,d,l,c=this,u={},_=t.style,h=t.nodeType&&Be(t),f=he._data(t,"fxshow");for(a in n.queue||(null==(s=he._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,d=s.empty.fire,s.empty.fire=function(){s.unqueued||d()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,he.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[_.overflow,_.overflowX,_.overflowY],"inline"===("none"===(l=he.css(t,"display"))?he._data(t,"olddisplay")||T(t.nodeName):l)&&"none"===he.css(t,"float")&&(ue.inlineBlockNeedsLayout&&"inline"!==T(t.nodeName)?_.zoom=1:_.display="inline-block")),n.overflow&&(_.overflow="hidden",ue.shrinkWrapBlocks()||c.always(function(){_.overflow=n.overflow[0],_.overflowX=n.overflow[1],_.overflowY=n.overflow[2]})),e)if(i=e[a],jt.exec(i)){if(delete e[a],r=r||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!f||f[a]===undefined)continue;h=!0}u[a]=f&&f[a]||he.style(t,a)}else l=undefined;if(he.isEmptyObject(u))"inline"===("none"===l?T(t.nodeName):l)&&(_.display=l);else for(a in f?"hidden"in f&&(h=f.hidden):f=he._data(t,"fxshow",{}),r&&(f.hidden=!h),h?he(t).show():c.done(function(){he(t).hide()}),c.done(function(){var e;for(e in he._removeData(t,"fxshow"),u)he.style(t,e,u[e])}),u)o=z(h?f[a]:0,a,c),a in f||(f[a]=o.start,h&&(o.end=o.start,o.start="width"===a||"height"===a?1:0))}function F(e,t){var n,a,i,r,o;for(n in e)if(i=t[a=he.camelCase(n)],r=e[n],he.isArray(r)&&(i=r[1],r=e[n]=r[0]),n!==a&&(e[a]=r,delete e[n]),(o=he.cssHooks[a])&&"expand"in o)for(n in r=o.expand(r),delete e[a],r)n in e||(e[n]=r[n],t[n]=i);else t[a]=i}function $(r,e,t){var n,o,a=0,i=$.prefilters.length,s=he.Deferred().always(function(){delete d.elem}),d=function(){if(o)return!1;for(var e=Nt||I(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),a=0,i=l.tweens.length;a<i;a++)l.tweens[a].run(n);return s.notifyWith(r,[l,n,t]),n<1&&i?t:(s.resolveWith(r,[l]),!1)},l=s.promise({elem:r,props:he.extend({},e),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},t),originalProperties:e,originalOptions:t,startTime:Nt||I(),duration:t.duration,tweens:[],createTween:function(e,t){var n=he.Tween(r,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(o)return this;for(o=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(r,[l,1,0]),s.resolveWith(r,[l,e])):s.rejectWith(r,[l,e]),this}}),c=l.props;for(F(c,l.opts.specialEasing);a<i;a++)if(n=$.prefilters[a].call(l,r,c,l.opts))return he.isFunction(n.stop)&&(he._queueHooks(l.elem,l.opts.queue).stop=he.proxy(n.stop,n)),n;return he.map(c,z,l),he.isFunction(l.opts.start)&&l.opts.start.call(r,l),he.fx.timer(he.extend(d,{elem:r,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function V(e){return he.attr(e,"class")||""}function W(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,a=0,i=e.toLowerCase().match(Te)||[];if(he.isFunction(t))for(;n=i[a++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function U(t,i,r,o){function s(e){var a;return d[e]=!0,he.each(t[e]||[],function(e,t){var n=t(i,r,o);return"string"!=typeof n||l||d[n]?l?!(a=n):void 0:(i.dataTypes.unshift(n),s(n),!1)}),a}var d={},l=t===on;return s(i.dataTypes[0])||!d["*"]&&s("*")}function X(e,t){var n,a,i=he.ajaxSettings.flatOptions||{};for(a in t)t[a]!==undefined&&((i[a]?e:n||(n={}))[a]=t[a]);return n&&he.extend(!0,e,n),e}function J(e,t,n){for(var a,i,r,o,s=e.contents,d=e.dataTypes;"*"===d[0];)d.shift(),i===undefined&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){d.unshift(o);break}if(d[0]in n)r=d[0];else{for(o in n){if(!d[0]||e.converters[o+" "+d[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==d[0]&&d.unshift(r),n[r]}function Y(e,t,n,a){var i,r,o,s,d,l={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!d&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),d=r,r=c.shift())if("*"===r)r=d;else if("*"!==d&&d!==r){if(!(o=l[d+" "+r]||l["* "+r]))for(i in l)if((s=i.split(" "))[1]===r&&(o=l[d+" "+s[0]]||l["* "+s[0]])){!0===o?o=l[i]:!0!==l[i]&&(r=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(u){return{state:"parsererror",error:o?u:"No conversion from "+d+" to "+r}}}return{state:"success",data:t}}function K(e){return e.style&&e.style.display||he.css(e,"display")}function G(e){if(!he.contains(e.ownerDocument||ae,e))return!0;for(;e&&1===e.nodeType;){if("none"===K(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Q(n,e,a,i){var t;if(he.isArray(e))he.each(e,function(e,t){a||un.test(n)?i(n,t):Q(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,a,i)});else if(a||"object"!==he.type(e))i(n,e);else for(t in e)Q(n+"["+t+"]",e[t],a,i)}function Z(){try{return new k.XMLHttpRequest}catch(e){}}function ee(){try{return new k.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function te(e){return he.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var ne=[],ae=k.document,ie=ne.slice,re=ne.concat,oe=ne.push,se=ne.indexOf,de={},le=de.toString,ce=de.hasOwnProperty,ue={},_e="1.12.4",he=function(e,t){return new he.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pe=/^-ms-/,me=/-([\da-z])/gi,ge=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:_e,constructor:he,selector:"",length:0,toArray:function(){return ie.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:ie.call(this)},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return he.each(this,e)},map:function(n){return this.pushStack(he.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ne.sort,splice:ne.splice},he.extend=he.fn.extend=function(e){var t,n,a,i,r,o,s=e||{},d=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[d]||{},d++),"object"==typeof s||he.isFunction(s)||(s={}),d===l&&(s=this,d--);d<l;d++)if(null!=(r=arguments[d]))for(i in r)t=s[i],s!==(a=r[i])&&(c&&a&&(he.isPlainObject(a)||(n=he.isArray(a)))?(n?(n=!1,o=t&&he.isArray(t)?t:[]):o=t&&he.isPlainObject(t)?t:{},s[i]=he.extend(c,o,a)):a!==undefined&&(s[i]=a));return s},he.extend({expando:"jQuery"+(_e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===he.type(e)},isArray:Array.isArray||function(e){return"array"===he.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!he.isArray(e)&&0<=t-parseFloat(t)+1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==he.type(e)||e.nodeType||he.isWindow(e))return!1;try{if(e.constructor&&!ce.call(e,"constructor")&&!ce.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ue.ownFirst)for(t in e)return ce.call(e,t);for(t in e);return t===undefined||ce.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?de[le.call(e)]||"object":typeof e},globalEval:function(e){e&&he.trim(e)&&(k.execScript||function(e){k.eval.call(k,e)})(e)},camelCase:function(e){return e.replace(pe,"ms-").replace(me,ge)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,a=0;if(s(e))for(n=e.length;a<n&&!1!==t.call(e[a],a,e[a]);a++);else for(a in e)if(!1===t.call(e[a],a,e[a]))break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?he.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,n){var a;if(t){if(se)return se.call(t,e,n);for(a=t.length,n=n?n<0?Math.max(0,a+n):n:0;n<a;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,a=0,i=e.length;a<n;)e[i++]=t[a++];if(n!=n)for(;t[a]!==undefined;)e[i++]=t[a++];return e.length=i,e},grep:function(e,t,n){for(var a=[],i=0,r=e.length,o=!n;i<r;i++)!t(e[i],i)!==o&&a.push(e[i]);return a},map:function(e,t,n){var a,i,r=0,o=[];if(s(e))for(a=e.length;r<a;r++)null!=(i=t(e[r],r,n))&&o.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&o.push(i);return re.apply([],o)},guid:1,proxy:function(e,t){var n,a,i;return"string"==typeof t&&(i=e[t],t=e,e=i),he.isFunction(e)?(n=ie.call(arguments,2),(a=function(){return e.apply(t||this,n.concat(ie.call(arguments)))}).guid=e.guid=e.guid||he.guid++,a):undefined},now:function(){return+new Date},support:ue}),"function"==typeof Symbol&&(he.fn[Symbol.iterator]=ne[Symbol.iterator]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){de["[object "+t+"]"]=t.toLowerCase()});var ve=function(n){function b(e,t,n,a){var i,r,o,s,d,l,c,u,_=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!a&&((t?t.ownerDocument||t:z)!==L&&M(t),t=t||L,j)){if(11!==h&&(l=ge.exec(e)))if(i=l[1]){if(9===h){if(!(o=t.getElementById(i)))return n;if(o.id===i)return n.push(o),n}else if(_&&(o=_.getElementById(i))&&I(t,o)&&o.id===i)return n.push(o),n}else{if(l[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&g.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(i)),n}if(g.qsa&&!W[e+" "]&&(!H||!H.test(e))){if(1!==h)_=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ye,"\\$&"):t.setAttribute("id",s=q),r=(c=S(e)).length,d=_e.test(s)?"#"+s:"[id='"+s+"']";r--;)c[r]=d+" "+m(c[r]);u=c.join(","),_=ve.test(e)&&p(t.parentNode)||t}if(u)try{return Q.apply(n,_.querySelectorAll(u)),n}catch(f){}finally{s===q&&t.removeAttribute("id")}}}return N(e.replace(se,"$1"),t,n,a)}function e(){function n(e,t){return a.push(e+" ")>w.cacheLength&&delete n[a.shift()],n[e+" "]=t}var a=[];return n}function d(e){return e[q]=!0,e}function i(e){var t=L.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var n=e.split("|"),a=n.length;a--;)w.attrHandle[n[a]]=t}function l(e,t){var n=t&&e,a=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(a)return a;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function r(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function o(o){return d(function(r){return r=+r,d(function(e,t){for(var n,a=o([],e.length,r),i=a.length;i--;)e[n=a[i]]&&(e[n]=!(t[n]=e[n]))})})}function p(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function s(){}function m(e){for(var t=0,n=e.length,a="";t<n;t++)a+=e[t].value;return a}function u(s,e,t){var d=e.dir,l=t&&"parentNode"===d,c=F++;return e.first?function(e,t,n){for(;e=e[d];)if(1===e.nodeType||l)return s(e,t,n)}:function(e,t,n){var a,i,r,o=[B,c];if(n){for(;e=e[d];)if((1===e.nodeType||l)&&s(e,t,n))return!0}else for(;e=e[d];)if(1===e.nodeType||l){if((a=(i=(r=e[q]||(e[q]={}))[e.uniqueID]||(r[e.uniqueID]={}))[d])&&a[0]===B&&a[1]===c)return o[2]=a[2];if((i[d]=o)[2]=s(e,t,n))return!0}}}function _(i){return 1<i.length?function(e,t,n){for(var a=i.length;a--;)if(!i[a](e,t,n))return!1;return!0}:i[0]}function v(e,t,n){for(var a=0,i=t.length;a<i;a++)b(e,t[a],n);return n}function x(e,t,n,a,i){for(var r,o=[],s=0,d=e.length,l=null!=t;s<d;s++)(r=e[s])&&(n&&!n(r,a,i)||(o.push(r),l&&t.push(s)));return o}function y(h,f,p,m,g,e){return m&&!m[q]&&(m=y(m)),g&&!g[q]&&(g=y(g,e)),d(function(e,t,n,a){var i,r,o,s=[],d=[],l=t.length,c=e||v(f||"*",n.nodeType?[n]:n,[]),u=!h||!e&&f?c:x(c,s,h,n,a),_=p?g||(e?h:l||m)?[]:t:u;if(p&&p(u,_,n,a),m)for(i=x(_,d),m(i,[],n,a),r=i.length;r--;)(o=i[r])&&(_[d[r]]=!(u[d[r]]=o));if(e){if(g||h){if(g){for(i=[],r=_.length;r--;)(o=_[r])&&i.push(u[r]=o);g(null,_=[],i,a)}for(r=_.length;r--;)(o=_[r])&&-1<(i=g?ee(e,o):s[r])&&(e[i]=!(t[i]=o))}}else _=x(_===t?_.splice(l,_.length):_),g?g(null,t,_,a):Q.apply(t,_)})}function h(e){for(var i,t,n,a=e.length,r=w.relative[e[0].type],o=r||w.relative[" "],s=r?1:0,d=u(function(e){return e===i},o,!0),l=u(function(e){return-1<ee(i,e)},o,!0),c=[function(e,t,n){var a=!r&&(n||t!==C)||((i=t).nodeType?d(e,t,n):l(e,t,n));return i=null,a}];s<a;s++)if(t=w.relative[e[s].type])c=[u(_(c),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[q]){for(n=++s;n<a&&!w.relative[e[n].type];n++);return y(1<s&&_(c),1<s&&m(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),t,s<n&&h(e.slice(s,n)),n<a&&h(e=e.slice(n)),n<a&&m(e))}c.push(t)}return _(c)}function c(m,g){var v=0<g.length,y=0<m.length,e=function(e,t,n,a,i){var r,o,s,d=0,l="0",c=e&&[],u=[],_=C,h=e||y&&w.find.TAG("*",i),f=B+=null==_?1:Math.random()||.1,p=h.length;for(i&&(C=t===L||t||i);l!==p&&null!=(r=h[l]);l++){if(y&&r){for(o=0,t||r.ownerDocument===L||(M(r),n=!j);s=m[o++];)if(s(r,t||L,n)){a.push(r);break}i&&(B=f)}v&&((r=!s&&r)&&d--,e&&c.push(r))}if(d+=l,v&&l!==d){for(o=0;s=g[o++];)s(c,u,t,n);if(e){if(0<d)for(;l--;)c[l]||u[l]||(u[l]=K.call(a));u=x(u)}Q.apply(a,u),i&&!e&&0<u.length&&1<d+g.length&&b.uniqueSort(a)}return i&&(B=f,C=_),c};return v?d(e):e}var f,g,w,k,E,S,D,N,C,A,T,M,L,O,j,H,P,R,I,q="sizzle"+1*new Date,z=n.document,B=0,F=0,$=e(),V=e(),W=e(),U=function(e,t){return e===t&&(T=!0),0},X=1<<31,J={}.hasOwnProperty,Y=[],K=Y.pop,G=Y.push,Q=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ae="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+ae+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ae+"))|)"+ne+"*\\]",re=":("+ae+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",oe=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),de=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),ue=new RegExp(re),_e=new RegExp("^"+ae+"$"),he={ID:new RegExp("^#("+ae+")"),CLASS:new RegExp("^\\.("+ae+")"),TAG:new RegExp("^("+ae+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var a="0x"+t-65536;return a!=a||n?t:a<0?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},we=function(){M()};try{Q.apply(Y=Z.call(z.childNodes),z.childNodes),Y[z.childNodes.length].nodeType}catch(ke){Q={apply:Y.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,a=0;e[n++]=t[a++];);e.length=n-1}}}for(f in g=b.support={},E=b.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=b.setDocument=function(e){var t,n,a=e?e.ownerDocument||e:z;return a!==L&&9===a.nodeType&&a.documentElement&&(O=(L=a).documentElement,j=!E(L),(n=L.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),g.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),g.getElementsByTagName=i(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),g.getElementsByClassName=me.test(L.getElementsByClassName),g.getById=i(function(e){return O.appendChild(e).id=q,!L.getElementsByName||!L.getElementsByName(q
).length}),g.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&j){var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(be,xe);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var n=e.replace(be,xe);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),w.find.TAG=g.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):g.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,a=[],i=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[i++];)1===n.nodeType&&a.push(n);return a},w.find.CLASS=g.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&j)return t.getElementsByClassName(e)},P=[],H=[],(g.qsa=me.test(L.querySelectorAll))&&(i(function(e){O.appendChild(e).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&H.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||H.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+q+"-]").length||H.push("~="),e.querySelectorAll(":checked").length||H.push(":checked"),e.querySelectorAll("a#"+q+"+*").length||H.push(".#.+[+~]")}),i(function(e){var t=L.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&H.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),H.push(",.*:")})),(g.matchesSelector=me.test(R=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(e){g.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),P.push("!=",re)}),H=H.length&&new RegExp(H.join("|")),P=P.length&&new RegExp(P.join("|")),t=me.test(O.compareDocumentPosition),I=t||me.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,a=t&&t.parentNode;return e===a||!(!a||1!==a.nodeType||!(n.contains?n.contains(a):e.compareDocumentPosition&&16&e.compareDocumentPosition(a)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return T=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===L||e.ownerDocument===z&&I(z,e)?-1:t===L||t.ownerDocument===z&&I(z,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return T=!0,0;var n,a=0,i=e.parentNode,r=t.parentNode,o=[e],s=[t];if(!i||!r)return e===L?-1:t===L?1:i?-1:r?1:A?ee(A,e)-ee(A,t):0;if(i===r)return l(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[a]===s[a];)a++;return a?l(o[a],s[a]):o[a]===z?-1:s[a]===z?1:0}),L},b.matches=function(e,t){return b(e,null,null,t)},b.matchesSelector=function(e,t){if((e.ownerDocument||e)!==L&&M(e),t=t.replace(ce,"='$1']"),g.matchesSelector&&j&&!W[t+" "]&&(!P||!P.test(t))&&(!H||!H.test(t)))try{var n=R.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(ke){}return 0<b(t,L,null,[e]).length},b.contains=function(e,t){return(e.ownerDocument||e)!==L&&M(e),I(e,t)},b.attr=function(e,t){(e.ownerDocument||e)!==L&&M(e);var n=w.attrHandle[t.toLowerCase()],a=n&&J.call(w.attrHandle,t.toLowerCase())?n(e,t,!j):undefined;return a!==undefined?a:g.attributes||!j?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},b.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},b.uniqueSort=function(e){var t,n=[],a=0,i=0;if(T=!g.detectDuplicates,A=!g.sortStable&&e.slice(0),e.sort(U),T){for(;t=e[i++];)t===e[i]&&(a=n.push(i));for(;a--;)e.splice(n[a],1)}return A=null,e},k=b.getText=function(e){var t,n="",a=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[a++];)n+=k(t);return n},(w=b.selectors={cacheLength:50,createPseudo:d,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(be,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||b.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&b.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ue.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,a,i){return function(e){var t=b.attr(e,n);return null==t?"!="===a:!a||(t+="","="===a?t===i:"!="===a?t!==i:"^="===a?i&&0===t.indexOf(i):"*="===a?i&&-1<t.indexOf(i):"$="===a?i&&t.slice(-i.length)===i:"~="===a?-1<(" "+t.replace(oe," ")+" ").indexOf(i):"|="===a&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,e,t,p,m){var g="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var a,i,r,o,s,d,l=g!==v?"nextSibling":"previousSibling",c=e.parentNode,u=y&&e.nodeName.toLowerCase(),_=!n&&!y,h=!1;if(c){if(g){for(;l;){for(o=e;o=o[l];)if(y?o.nodeName.toLowerCase()===u:1===o.nodeType)return!1;d=l="only"===f&&!d&&"nextSibling"}return!0}if(d=[v?c.firstChild:c.lastChild],v&&_){for(h=(s=(a=(i=(r=(o=c)[q]||(o[q]={}))[o.uniqueID]||(r[o.uniqueID]={}))[f]||[])[0]===B&&a[1])&&a[2],o=s&&c.childNodes[s];o=++s&&o&&o[l]||(h=s=0)||d.pop();)if(1===o.nodeType&&++h&&o===e){i[f]=[B,s,h];break}}else if(_&&(h=s=(a=(i=(r=(o=e)[q]||(o[q]={}))[o.uniqueID]||(r[o.uniqueID]={}))[f]||[])[0]===B&&a[1]),!1===h)for(;(o=++s&&o&&o[l]||(h=s=0)||d.pop())&&((y?o.nodeName.toLowerCase()!==u:1!==o.nodeType)||!++h||(_&&((i=(r=o[q]||(o[q]={}))[o.uniqueID]||(r[o.uniqueID]={}))[f]=[B,h]),o!==e)););return(h-=m)===p||h%p==0&&0<=h/p}}},PSEUDO:function(e,r){var t,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||b.error("unsupported pseudo: "+e);return o[q]?o(r):1<o.length?(t=[e,e,"",r],w.setFilters.hasOwnProperty(e.toLowerCase())?d(function(e,t){for(var n,a=o(e,r),i=a.length;i--;)e[n=ee(e,a[i])]=!(t[n]=a[i])}):function(e){return o(e,0,t)}):o}},pseudos:{not:d(function(e){var a=[],i=[],s=D(e.replace(se,"$1"));return s[q]?d(function(e,t,n,a){for(var i,r=s(e,null,a,[]),o=e.length;o--;)(i=r[o])&&(e[o]=!(t[o]=i))}):function(e,t,n){return a[0]=e,s(a,null,n,i),a[0]=null,!i.pop()}}),has:d(function(t){return function(e){return 0<b(t,e).length}}),contains:d(function(t){return t=t.replace(be,xe),function(e){return-1<(e.textContent||e.innerText||k(e)).indexOf(t)}}),lang:d(function(n){return _e.test(n||"")||b.error("unsupported lang: "+n),n=n.replace(be,xe).toLowerCase(),function(e){var t;do{if(t=j?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===O},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[n<0?n+t:n]}),even:o(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var a=n<0?n+t:n;0<=--a;)e.push(a);return e}),gt:o(function(e,t,n){for(var a=n<0?n+t:n;++a<t;)e.push(a);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[f]=a(f);for(f in{submit:!0,reset:!0})w.pseudos[f]=r(f);return s.prototype=w.filters=w.pseudos,w.setFilters=new s,S=b.tokenize=function(e,t){var n,a,i,r,o,s,d,l=V[e+" "];if(l)return t?0:l.slice(0);for(o=e,s=[],d=w.preFilter;o;){for(r in n&&!(a=de.exec(o))||(a&&(o=o.slice(a[0].length)||o),s.push(i=[])),n=!1,(a=le.exec(o))&&(n=a.shift(),i.push({value:n,type:a[0].replace(se," ")}),o=o.slice(n.length)),w.filter)!(a=he[r].exec(o))||d[r]&&!(a=d[r](a))||(n=a.shift(),i.push({value:n,type:r,matches:a}),o=o.slice(n.length));if(!n)break}return t?o.length:o?b.error(e):V(e,s).slice(0)},D=b.compile=function(e,t){var n,a=[],i=[],r=W[e+" "];if(!r){for(t||(t=S(e)),n=t.length;n--;)(r=h(t[n]))[q]?a.push(r):i.push(r);(r=W(e,c(i,a))).selector=e}return r},N=b.select=function(e,t,n,a){var i,r,o,s,d,l="function"==typeof e&&e,c=!a&&S(e=l.selector||e);if(n=n||[],1===c.length){if(2<(r=c[0]=c[0].slice(0)).length&&"ID"===(o=r[0]).type&&g.getById&&9===t.nodeType&&j&&w.relative[r[1].type]){if(!(t=(w.find.ID(o.matches[0].replace(be,xe),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(i=he.needsContext.test(e)?0:r.length;i--&&(o=r[i],!w.relative[s=o.type]);)if((d=w.find[s])&&(a=d(o.matches[0].replace(be,xe),ve.test(r[0].type)&&p(t.parentNode)||t))){if(r.splice(i,1),!(e=a.length&&m(r)))return Q.apply(n,a),n;break}}return(l||D(e,c))(a,t,!j,n,!t||ve.test(e)&&p(t.parentNode)||t),n},g.sortStable=q.split("").sort(U).join("")===q,g.detectDuplicates=!!T,M(),g.sortDetached=i(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),g.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||t(te,function(e,t,n){var a;if(!n)return!0===e[t]?t.toLowerCase():(a=e.getAttributeNode(t))&&a.specified?a.value:null}),b}(k);he.find=ve,he.expr=ve.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=ve.uniqueSort,he.text=ve.getText,he.isXMLDoc=ve.isXML,he.contains=ve.contains;var ye=function(e,t,n){for(var a=[],i=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&he(e).is(n))break;a.push(e)}return a},be=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},xe=he.expr.match.needsContext,we=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ke=/^.[^:#\[\.,]*$/;he.filter=function(e,t,n){var a=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===a.nodeType?he.find.matchesSelector(a,e)?[a]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,n=[],a=this,i=a.length;if("string"!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;t<i;t++)if(he.contains(a[t],this))return!0}));for(t=0;t<i;t++)he.find(e,a[t],n);return(n=this.pushStack(1<i?he.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&xe.test(e)?he(e):e||[],!1).length}});var Ee,Se=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(he.fn.init=function(e,t,n){var a,i;if(!e)return this;if(n=n||Ee,"string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):he.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(he):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),he.makeArray(e,this));if(!(a="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Se.exec(e))||!a[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(a[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:ae,!0)),we.test(a[1])&&he.isPlainObject(t))for(a in t)he.isFunction(this[a])?this[a](t[a]):this.attr(a,t[a]);return this}if((i=ae.getElementById(a[2]))&&i.parentNode){if(i.id!==a[2])return Ee.find(e);this.length=1,this[0]=i}return this.context=ae,this.selector=e,this}).prototype=he.fn,Ee=he(ae);var De=/^(?:parents|prev(?:Until|All))/,Ne={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t,n=he(e,this),a=n.length;return this.filter(function(){for(t=0;t<a;t++)if(he.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,a=0,i=this.length,r=[],o=xe.test(e)||"string"!=typeof e?he(e,t||this.context):0;a<i;a++)for(n=this[a];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&he.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?he.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?he.inArray(this[0],he(e)):he.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ye(e,"parentNode")},parentsUntil:function(e,t,n){return ye(e,"parentNode",n)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return ye(e,"nextSibling")},prevAll:function(e){return ye(e,"previousSibling")},nextUntil:function(e,t,n){return ye(e,"nextSibling",n)},prevUntil:function(e,t,n){return ye(e,"previousSibling",n)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return he.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:he.merge([],e.childNodes)}},function(a,i){he.fn[a]=function(e,t){var n=he.map(this,i,e);return"Until"!==a.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=he.filter(t,n)),1<this.length&&(Ne[a]||(n=he.uniqueSort(n)),De.test(a)&&(n=n.reverse())),this.pushStack(n)}});var Ce,Ae,Te=/\S+/g;for(Ae in he.Callbacks=function(a){a="string"==typeof a?c(a):he.extend({},a);var i,e,t,n,r=[],o=[],s=-1,d=function(){for(n=a.once,t=i=!0;o.length;s=-1)for(e=o.shift();++s<r.length;)!1===r[s].apply(e[0],e[1])&&a.stopOnFalse&&(s=r.length,e=!1);a.memory||(e=!1),i=!1,n&&(r=e?[]:"")},l={add:function(){return r&&(e&&!i&&(s=r.length-1,o.push(e)),function n(e){he.each(e,function(e,t){he.isFunction(t)?a.unique&&l.has(t)||r.push(t):t&&t.length&&"string"!==he.type(t)&&n(t)})}(arguments),e&&!i&&d()),this},remove:function(){return he.each(arguments,function(e,t){for(var n;-1<(n=he.inArray(t,r,n));)r.splice(n,1),n<=s&&s--}),this},has:function(e){return e?-1<he.inArray(e,r):0<r.length},empty:function(){return r&&(r=[]),this},disable:function(){return n=o=[],r=e="",this},disabled:function(){return!r},lock:function(){return n=!0,e||l.disable(),this},locked:function(){return!!n},fireWith:function(e,t){return n||(t=[e,(t=t||[]).slice?t.slice():t],o.push(t),i||d()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!t}};return l},he.extend({Deferred:function(e){var r=[["resolve","done",he.Callbacks("once memory"),"resolved"],["reject","fail",he.Callbacks("once memory"),"rejected"],["notify","progress",he.Callbacks("memory")]],i="pending",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var i=arguments;return he.Deferred(function(a){he.each(r,function(e,t){var n=he.isFunction(i[e])&&i[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().progress(a.notify).done(a.resolve).fail(a.reject):a[t[0]+"With"](this===o?a.promise():this,n?[e]:arguments)})}),i=null}).promise()},promise:function(e){return null!=e?he.extend(e,o):o}},s={};return o.pipe=o.then,he.each(r,function(e,t){var n=t[2],a=t[3];o[t[1]]=n.add,a&&n.add(function(){i=a},r[1^e][2].disable,r[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?o:this,arguments),this},s[t[0]+"With"]=n.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){var i,t,n,a=0,r=ie.call(arguments),o=r.length,s=1!==o||e&&he.isFunction(e.promise)?o:0,d=1===s?e:he.Deferred(),l=function(t,n,a){return function(e){n[t]=this,a[t]=1<arguments.length?ie.call(arguments):e,a===i?d.notifyWith(n,a):--s||d.resolveWith(n,a)}};if(1<o)for(i=new Array(o),t=new Array(o),n=new Array(o);a<o;a++)r[a]&&he.isFunction(r[a].promise)?r[a].promise().progress(l(a,t,i)).done(l(a,n,r)).fail(d.reject):--s;return s||d.resolveWith(n,r),d.promise()}}),he.fn.ready=function(e){return he.ready.promise().done(e),this},he.extend({isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){(!0===e?--he.readyWait:he.isReady)||(he.isReady=!0)!==e&&0<--he.readyWait||(Ce.resolveWith(ae,[he]),he.fn.triggerHandler&&(he(ae).triggerHandler("ready"),he(ae).off("ready")))}}),he.ready.promise=function(e){if(!Ce)if(Ce=he.Deferred(),"complete"===ae.readyState||"loading"!==ae.readyState&&!ae.documentElement.doScroll)k.setTimeout(he.ready);else if(ae.addEventListener)ae.addEventListener("DOMContentLoaded",r),k.addEventListener("load",r);else{ae.attachEvent("onreadystatechange",r),k.attachEvent("onload",r);var t=!1;try{t=null==k.frameElement&&ae.documentElement}catch(n){}t&&t.doScroll&&function a(){if(!he.isReady){try{t.doScroll("left")}catch(n){return k.setTimeout(a,50)}i(),he.ready()}}()}return Ce.promise(e)},he.ready.promise(),he(ue))break;ue.ownFirst="0"===Ae,ue.inlineBlockNeedsLayout=!1,he(function(){var e,t,n,a;(n=ae.getElementsByTagName("body")[0])&&n.style&&(t=ae.createElement("div"),(a=ae.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(a).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ue.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(a))}),function(){var e=ae.createElement("div");ue.deleteExpando=!0;try{delete e.test}catch(t){ue.deleteExpando=!1}e=null}();var Me,Le=function(e){var t=he.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},Oe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,je=/([A-Z])/g;he.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?he.cache[e[he.expando]]:e[he.expando])&&!l(e)},data:function(e,t,n){return a(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return a(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)}}),he.fn.extend({data:function(e,t){var n,a,i,r=this[0],o=r&&r.attributes;if(e!==undefined)return"object"==typeof e?this.each(function(){he.data(this,e)}):1<arguments.length?this.each(function(){he.data(this,e,t)}):r?d(r,e,he.data(r,e)):undefined;if(this.length&&(i=he.data(r),1===r.nodeType&&!he._data(r,"parsedAttrs"))){for(n=o.length;n--;)o[n]&&0===(a=o[n].name).indexOf("data-")&&d(r,a=he.camelCase(a.slice(5)),i[a]);he._data(r,"parsedAttrs",!0)}return i},removeData:function(e){return this.each(function(){he.removeData(this,e)})}}),he.extend({queue:function(e,t,n){var a;if(e)return t=(t||"fx")+"queue",a=he._data(e,t),n&&(!a||he.isArray(n)?a=he._data(e,t,he.makeArray(n)):a.push(n)),a||[]},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),a=n.length,i=n.shift(),r=he._queueHooks(e,t),o=function(){he.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),a--),i&&("fx"===t&&n.unshift("inprogress"),delete r.stop,i.call(e,o,r)),!a&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return he._data(e,n)||he._data(e,n,{empty:he.Callbacks("once memory").add(function(){he._removeData(e,t+"queue"),he._removeData(e,n)})})}}),he.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?he.queue(this[0],t):n===undefined?this:this.each(function(){var e=he.queue(this,t,n);he._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&he.dequeue(this,t)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,a=1,i=he.Deferred(),r=this,o=this.length,s=function(){--a||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";o--;)(n=he._data(r[o],e+"queueHooks"))&&n.empty&&(a++,n.empty.add(s));return s(),i.promise(t)}}),ue.shrinkWrapBlocks=function(){return null!=Me?Me:(Me=!1,(t=ae.getElementsByTagName("body")[0])&&t.style?(e=ae.createElement("div"),(n=ae.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(ae.createElement("div")).style.width="5px",Me=3!==e.offsetWidth),t.removeChild(n),Me):void 0);var e,t,n};var He,Pe,Re,Ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qe=new RegExp("^(?:([+-])=|)("+Ie+")([a-z%]*)$","i"),ze=["Top","Right","Bottom","Left"],Be=function(e,t){return e=t||e,"none"===he.css(e,"display")||!he.contains(e.ownerDocument,e)},Fe=function(e,t,n,a,i,r,o){var s=0,d=e.length,l=null==n;if("object"===he.type(n))for(s in i=!0,n)Fe(e,t,s,n[s],!0,r,o);else if(a!==undefined&&(i=!0,he.isFunction(a)||(o=!0),l&&(o?(t.call(e,a),t=null):(l=t,t=function(e,t,n){return l.call(he(e),n)})),t))for(;s<d;s++)t(e[s],n,o?a:a.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):d?t(e[0],n):r},$e=/^(?:checkbox|radio)$/i,Ve=/<([\w:-]+)/,We=/^$|\/(?:java|ecma)script/i,Ue=/^\s+/,Xe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";He=ae.createElement("div"),Pe=ae.createDocumentFragment(),Re=ae.createElement("input"),He.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ue.leadingWhitespace=3===He.firstChild.nodeType,ue.tbody=!He.getElementsByTagName("tbody").length,ue.htmlSerialize=!!He.getElementsByTagName("link").length,ue.html5Clone="<:nav></:nav>"!==ae.createElement("nav").cloneNode(!0).outerHTML,Re.type="checkbox",Re.checked=!0,Pe.appendChild(Re),ue.appendChecked=Re.checked,He.innerHTML="<textarea>x</textarea>",ue.noCloneChecked=!!He.cloneNode(!0).lastChild.defaultValue,Pe.appendChild(He),(Re=ae.createElement("input")).setAttribute("type","radio"),Re.setAttribute("checked","checked"),Re.setAttribute("name","t"),He.appendChild(Re),ue.checkClone=He.cloneNode(!0).cloneNode(!0).lastChild.checked,ue.noCloneEvent=!!He.addEventListener,He[he.expando]=1,ue.attributes=!He.getAttribute(he.expando);var Je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td;var Ye=/<|&#?\w+;/,Ke=/<tbody/i;!function(){var e,t,n=ae.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(ue[e]=t in k)||(n.setAttribute(t,"t"),ue[e]=!1===n.attributes[t].expando);n=null}();var Ge=/^(?:input|select|textarea)$/i,Qe=/^key/,Ze=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,et=/^(?:focusinfocus|focusoutblur)$/,tt=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,a,i){var r,o,s,d,l,c,u,_,h,f,p,m=he._data(e);if(m){for(n.handler&&(n=(d=n).handler,i=d.selector),n.guid||(n.guid=he.guid++),(o=m.events)||(o=m.events={}),(c=m.handle)||((c=m.handle=function(e){return void 0===he||e&&he.event.triggered===e.type?undefined:he.event.dispatch.apply(c.elem,arguments)}).elem=e),s=(t=(t||"").match(Te)||[""]).length;s--;)h=p=(r=tt.exec(t[s])||[])[1],f=(r[2]||"").split(".").sort(),h&&(l=he.event.special[h]||{},h=(i?l.delegateType:l.bindType)||h,l=he.event.special[h]||{},u=he.extend({type:h,origType:p,data:a,handler:n,guid:n.guid,selector:i,needsContext:i&&he.expr.match.needsContext.test(i),namespace:f.join(".")},d),(_=o[h])||((_=o[h]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,a,f,c)||(e.addEventListener?e.addEventListener(h,c,!1):e.attachEvent&&e.attachEvent("on"+h,c))),l.add&&(l.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?_.splice(_.delegateCount++,0,u):_.push(u),he.event.global[h]=!0);e=null}},remove:function(e,t,n,a,i){var r,o,s,d,l,c,u,_,h,f,p,m=he.hasData(e)&&he._data(e);if(m&&(c=m.events)){for(l=(t=(t||"").match(Te)||[""]).length;l--;)if(h=p=(s=tt.exec(t[l])||[])[1],f=(s[2]||"").split(".").sort(),h){for(u=he.event.special[h]||{},_=c[h=(a?u.delegateType:u.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),d=r=_.length;r--;)o=_[r],!i&&p!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||a&&a!==o.selector&&("**"!==a||!o.selector)||(_.splice(r,1),o.selector&&_.delegateCount--,u.remove&&u.remove.call(e,o));d&&!_.length&&(u.teardown&&!1!==u.teardown.call(e,f,m.handle)||he.removeEvent(e,h,m.handle),delete c[h])}else for(h in c)he.event.remove(e,h+t[l],n,a,!0);he.isEmptyObject(c)&&(delete m.handle,he._removeData(e,"events"))}},trigger:function(e,t,n,a){var i,r,o,s,d,l,c,u=[n||ae],_=ce.call(e,"type")?e.type:e,h=ce.call(e,"namespace")?e.namespace.split("."):[];if(o=l=n=n||ae,3!==n.nodeType&&8!==n.nodeType&&!et.test(_+he.event.triggered)&&(-1<_.indexOf(".")&&(_=(h=_.split(".")).shift(),h.sort()),r=_.indexOf(":")<0&&"on"+_,(e=e[he.expando]?e:new he.Event(_,"object"==typeof e&&e)).isTrigger=a?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=null==t?[e]:he.makeArray(t,[e]),d=he.event.special[_]||{},a||!d.trigger||!1!==d.trigger.apply(n,t))){if(!a&&!d.noBubble&&!he.isWindow(n)){for(s=d.delegateType||_,et.test(s+_)||(o=o.parentNode);o;o=o.parentNode)u.push(o),l=o;l===(n.ownerDocument||ae)&&u.push(l.defaultView||l.parentWindow||k)}for(c=0;(o=u[c++])&&!e.isPropagationStopped();)e.type=1<c?s:d.bindType||_,(i=(he._data(o,"events")||{})[e.type]&&he._data(o,"handle"))&&i.apply(o,t),(i=r&&o[r])&&i.apply&&Le(o)&&(e.result=i.apply(o,t),!1===e.result&&e.preventDefault());if(e.type=_,!a&&!e.isDefaultPrevented()&&(!d._default||!1===d._default.apply(u.pop(),t))&&Le(n)&&r&&n[_]&&!he.isWindow(n)){(l=n[r])&&(n[r]=null),he.event.triggered=_;try{n[_]()}catch(f){}he.event.triggered=undefined,l&&(n[r]=l)}return e.result}},dispatch:function(e){e=he.event.fix(e);var t,n,a,i,r,o=[],s=ie.call(arguments),d=(he._data(this,"events")||{})[e.type]||[],l=he.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(o=he.event.handlers.call(this,e,d),t=0;(i=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(r.namespace)||(e.handleObj=r,e.data=r.data,(a=((he.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s))!==undefined&&!1===(e.result=a)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,a,i,r,o=[],s=t.delegateCount,d=e.target;if(s&&d.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;d!=this;d=d.parentNode||this)if(1===d.nodeType&&(!0!==d.disabled||"click"!==e.type)){for(a=[],n=0;n<s;n++)a[i=(r=t[n]).selector+" "]===undefined&&(a[i]=r.needsContext?-1<he(i,this).index(d):he.find(i,this,null,[d]).length),a[i]&&a.push(r);a.length&&o.push({elem:d,handlers:a})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[he.expando])return e;var t,n,a,i=e.type,r=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=Ze.test(i)?this.mouseHooks:Qe.test(i)?this.keyHooks:{}),a=o.props?this.props.concat(o.props):this.props,e=new he.Event(r),t=a.length;t--;)e[n=a[t]]=r[n];return e.target||(e.target=r.srcElement||ae),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,a,i,r=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(a=e.target.ownerDocument||ae).documentElement,n=a.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||r===undefined||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===f()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(he.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return he.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var a=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(a,null,t),a.isDefaultPrevented()&&n.preventDefault()}},he.removeEvent=ae.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var a="on"+t;e.detachEvent&&("undefined"==typeof e[a]&&(e[a]=null),e.detachEvent(a,n))},he.Event=function(e,t){if(!(this instanceof he.Event))return new he.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?_:h):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),this[he.expando]=!0},he.Event.prototype={constructor:he.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=_,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=_,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=_,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){he.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=this,a=e.relatedTarget,i=e.handleObj;return a&&(a===n||he.contains(n,a))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),ue.submit||(he.event.special.submit={setup:function(){if(he.nodeName(this,"form"))return!1;he.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,
n=he.nodeName(t,"input")||he.nodeName(t,"button")?he.prop(t,"form"):undefined;n&&!he._data(n,"submit")&&(he.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),he._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&he.event.simulate("submit",this.parentNode,e))},teardown:function(){if(he.nodeName(this,"form"))return!1;he.event.remove(this,"._submit")}}),ue.change||(he.event.special.change={setup:function(){if(Ge.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(he.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),he.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),he.event.simulate("change",this,e)})),!1;he.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ge.test(t.nodeName)&&!he._data(t,"change")&&(he.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||he.event.simulate("change",this.parentNode,e)}),he._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return he.event.remove(this,"._change"),!Ge.test(this.nodeName)}}),ue.focusin||he.each({focus:"focusin",blur:"focusout"},function(n,a){var i=function(e){he.event.simulate(a,e.target,he.event.fix(e))};he.event.special[a]={setup:function(){var e=this.ownerDocument||this,t=he._data(e,a);t||e.addEventListener(n,i,!0),he._data(e,a,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=he._data(e,a)-1;t?he._data(e,a,t):(e.removeEventListener(n,i,!0),he._removeData(e,a))}}}),he.fn.extend({on:function(e,t,n,a){return b(this,e,t,n,a)},one:function(e,t,n,a){return b(this,e,t,n,a,1)},off:function(e,t,n){var a,i;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,he(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=h),this.each(function(){he.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this},trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return he.event.trigger(e,t,n,!0)}});var nt=/ jQuery\d+="(?:null|\d+)"/g,at=new RegExp("<(?:"+Xe+")[\\s/>]","i"),it=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rt=/<script|<style|<link/i,ot=/checked\s*(?:[^=]|=\s*.checked.)/i,st=/^true\/(.*)/,dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,lt=m(ae).appendChild(ae.createElement("div"));he.extend({htmlPrefilter:function(e){return e.replace(it,"<$1></$2>")},clone:function(e,t,n){var a,i,r,o,s,d=he.contains(e.ownerDocument,e);if(ue.html5Clone||he.isXMLDoc(e)||!at.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(lt.innerHTML=e.outerHTML,lt.removeChild(r=lt.firstChild)),!(ue.noCloneEvent&&ue.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||he.isXMLDoc(e)))for(a=g(r),s=g(e),o=0;null!=(i=s[o]);++o)a[o]&&D(i,a[o]);if(t)if(n)for(s=s||g(e),a=a||g(r),o=0;null!=(i=s[o]);o++)S(i,a[o]);else S(e,r);return 0<(a=g(r,"script")).length&&v(a,!d&&g(e,"script")),a=s=i=null,r},cleanData:function(e,t){for(var n,a,i,r,o=0,s=he.expando,d=he.cache,l=ue.attributes,c=he.event.special;null!=(n=e[o]);o++)if((t||Le(n))&&(r=(i=n[s])&&d[i])){if(r.events)for(a in r.events)c[a]?he.event.remove(n,a):he.removeEvent(n,a,r.handle);d[i]&&(delete d[i],l||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),ne.push(i))}}}),he.fn.extend({domManip:N,detach:function(e){return C(this,e,!0)},remove:function(e){return C(this,e)},text:function(e){return Fe(this,function(e){return e===undefined?he.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ae).createTextNode(e))},null,e,arguments.length)},append:function(){return N(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||x(this,e).appendChild(e)})},prepend:function(){return N(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=x(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&he.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&he.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return Fe(this,function(e){var t=this[0]||{},n=0,a=this.length;if(e===undefined)return 1===t.nodeType?t.innerHTML.replace(nt,""):undefined;if("string"==typeof e&&!rt.test(e)&&(ue.htmlSerialize||!at.test(e))&&(ue.leadingWhitespace||!Ue.test(e))&&!Je[(Ve.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;n<a;n++)1===(t=this[n]||{}).nodeType&&(he.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return N(this,arguments,function(e){var t=this.parentNode;he.inArray(this,n)<0&&(he.cleanData(g(this)),t&&t.replaceChild(e,this))},n)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){he.fn[e]=function(e){for(var t,n=0,a=[],i=he(e),r=i.length-1;n<=r;n++)t=n===r?this:this.clone(!0),he(i[n])[o](t),oe.apply(a,t.get());return this.pushStack(a)}});var ct,ut={HTML:"block",BODY:"block"},_t=/^margin/,ht=new RegExp("^("+Ie+")(?!px)[a-z%]+$","i"),ft=function(e,t,n,a){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.apply(e,a||[]),t)e.style[r]=o[r];return i},pt=ae.documentElement;!function(){function e(){var e,t,n=ae.documentElement;n.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a=r=d=!1,i=s=!0,k.getComputedStyle&&(t=k.getComputedStyle(c),a="1%"!==(t||{}).top,d="2px"===(t||{}).marginLeft,r="4px"===(t||{width:"4px"}).width,c.style.marginRight="50%",i="4px"===(t||{marginRight:"4px"}).marginRight,(e=c.appendChild(ae.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",c.style.width="1px",s=!parseFloat((k.getComputedStyle(e)||{}).marginRight),c.removeChild(e)),c.style.display="none",(o=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(e=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",o=0===e[0].offsetHeight)),n.removeChild(l)}var a,i,r,o,s,d,l=ae.createElement("div"),c=ae.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",ue.opacity="0.5"===c.style.opacity,ue.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ue.clearCloneStyle="content-box"===c.style.backgroundClip,(l=ae.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),ue.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,he.extend(ue,{reliableHiddenOffsets:function(){return null==a&&e(),o},boxSizingReliable:function(){return null==a&&e(),r},pixelMarginRight:function(){return null==a&&e(),i},pixelPosition:function(){return null==a&&e(),a},reliableMarginRight:function(){return null==a&&e(),s},reliableMarginLeft:function(){return null==a&&e(),d}}))}();var mt,gt,vt=/^(top|right|bottom|left)$/;k.getComputedStyle?(mt=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=k),t.getComputedStyle(e)},gt=function(e,t,n){var a,i,r,o,s=e.style;return""!==(o=(n=n||mt(e))?n.getPropertyValue(t)||n[t]:undefined)&&o!==undefined||he.contains(e.ownerDocument,e)||(o=he.style(e,t)),n&&!ue.pixelMarginRight()&&ht.test(o)&&_t.test(t)&&(a=s.width,i=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=a,s.minWidth=i,s.maxWidth=r),o===undefined?o:o+""}):pt.currentStyle&&(mt=function(e){return e.currentStyle},gt=function(e,t,n){var a,i,r,o,s=e.style;return null==(o=(n=n||mt(e))?n[t]:undefined)&&s&&s[t]&&(o=s[t]),ht.test(o)&&!vt.test(t)&&(a=s.left,(r=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":o,o=s.pixelLeft+"px",s.left=a,r&&(i.left=r)),o===undefined?o:o+""||"auto"});var yt=/alpha\([^)]*\)/i,bt=/opacity\s*=\s*([^)]*)/i,xt=/^(none|table(?!-c[ea]).+)/,wt=new RegExp("^("+Ie+")(.*)$","i"),kt={position:"absolute",visibility:"hidden",display:"block"},Et={letterSpacing:"0",fontWeight:"400"},St=["Webkit","O","Moz","ms"],Dt=ae.createElement("div").style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=gt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ue.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,o,s=he.camelCase(t),d=e.style;if(t=he.cssProps[s]||(he.cssProps[s]=L(s)||s),o=he.cssHooks[t]||he.cssHooks[s],n===undefined)return o&&"get"in o&&(i=o.get(e,!1,a))!==undefined?i:d[t];if("string"===(r=typeof n)&&(i=qe.exec(n))&&i[1]&&(n=u(e,t,i),r="number"),null!=n&&n==n&&("number"===r&&(n+=i&&i[3]||(he.cssNumber[s]?"":"px")),ue.clearCloneStyle||""!==n||0!==t.indexOf("background")||(d[t]="inherit"),!(o&&"set"in o&&(n=o.set(e,n,a))===undefined)))try{d[t]=n}catch(l){}}},css:function(e,t,n,a){var i,r,o,s=he.camelCase(t);return t=he.cssProps[s]||(he.cssProps[s]=L(s)||s),(o=he.cssHooks[t]||he.cssHooks[s])&&"get"in o&&(r=o.get(e,!0,n)),r===undefined&&(r=gt(e,t,a)),"normal"===r&&t in Et&&(r=Et[t]),""===n||n?(i=parseFloat(r),!0===n||isFinite(i)?i||0:r):r}}),he.each(["height","width"],function(e,i){he.cssHooks[i]={get:function(e,t,n){if(t)return xt.test(he.css(e,"display"))&&0===e.offsetWidth?ft(e,kt,function(){return P(e,i,n)}):P(e,i,n)},set:function(e,t,n){var a=n&&mt(e);return j(e,t,n?H(e,i,n,ue.boxSizing&&"border-box"===he.css(e,"boxSizing",!1,a),a):0)}}}),ue.opacity||(he.cssHooks.opacity={get:function(e,t){return bt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,a=e.currentStyle,i=he.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=a&&a.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===he.trim(r.replace(yt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||a&&!a.filter)||(n.filter=yt.test(r)?r.replace(yt,i):r+" "+i)}}),he.cssHooks.marginRight=M(ue.reliableMarginRight,function(e,t){if(t)return ft(e,{display:"inline-block"},gt,[e,"marginRight"])}),he.cssHooks.marginLeft=M(ue.reliableMarginLeft,function(e,t){if(t)return(parseFloat(gt(e,"marginLeft"))||(he.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ft(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),he.each({margin:"",padding:"",border:"Width"},function(i,r){he.cssHooks[i+r]={expand:function(e){for(var t=0,n={},a="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ze[t]+r]=a[t]||a[t-2]||a[0];return n}},_t.test(i)||(he.cssHooks[i+r].set=j)}),he.fn.extend({css:function(e,t){return Fe(this,function(e,t,n){var a,i,r={},o=0;if(he.isArray(t)){for(a=mt(e),i=t.length;o<i;o++)r[t[o]]=he.css(e,t[o],!1,a);return r}return n!==undefined?he.style(e,t,n):he.css(e,t)},e,t,1<arguments.length)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?he(this).show():he(this).hide()})}}),(he.Tween=R).prototype={constructor:R,init:function(e,t,n,a,i,r){this.elem=e,this.prop=n,this.easing=i||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=r||(he.cssNumber[n]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var t,n=R.propHooks[this.prop];return this.options.duration?this.pos=t=he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&&!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=R.prototype.init,he.fx.step={};var Nt,Ct,At,Tt,Mt,Lt,Ot,jt=/^(?:toggle|show|hide)$/,Ht=/queueHooks$/;he.Animation=he.extend($,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return u(n.elem,e,qe.exec(t),n),n}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.match(Te);for(var n,a=0,i=e.length;a<i;a++)n=e[a],$.tweeners[n]=$.tweeners[n]||[],$.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?$.prefilters.unshift(e):$.prefilters.push(e)}}),he.speed=function(e,t,n){var a=e&&"object"==typeof e?he.extend({},e):{complete:n||!n&&t||he.isFunction(e)&&e,duration:e,easing:n&&t||t&&!he.isFunction(t)&&t};return a.duration=he.fx.off?0:"number"==typeof a.duration?a.duration:a.duration in he.fx.speeds?he.fx.speeds[a.duration]:he.fx.speeds._default,null!=a.queue&&!0!==a.queue||(a.queue="fx"),a.old=a.complete,a.complete=function(){he.isFunction(a.old)&&a.old.call(this),a.queue&&he.dequeue(this,a.queue)},a},he.fn.extend({fadeTo:function(e,t,n,a){return this.filter(Be).css("opacity",0).show().end().animate({opacity:t},e,n,a)},animate:function(t,e,n,a){var i=he.isEmptyObject(t),r=he.speed(e,n,a),o=function(){var e=$(this,he.extend({},t),r);(i||he._data(this,"finish"))&&e.stop(!0)};return o.finish=o,i||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(i,e,r){var o=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof i&&(r=e,e=i,i=undefined),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=he.timers,a=he._data(this);if(t)a[t]&&a[t].stop&&o(a[t]);else for(t in a)a[t]&&a[t].stop&&Ht.test(t)&&o(a[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(r),e=!1,n.splice(t,1));!e&&r||he.dequeue(this,i)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=he._data(this),n=t[o+"queue"],a=t[o+"queueHooks"],i=he.timers,r=n?n.length:0;for(t.finish=!0,he.queue(this,o,[]),a&&a.stop&&a.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===o&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),he.each(["toggle","show","hide"],function(e,a){var i=he.fn[a];he.fn[a]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(q(a,!0),e,t,n)}}),he.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,a){he.fn[e]=function(e,t,n){return this.animate(a,e,t,n)}}),he.timers=[],he.fx.tick=function(){var e,t=he.timers,n=0;for(Nt=he.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||he.fx.stop(),Nt=undefined},he.fx.timer=function(e){he.timers.push(e),e()?he.fx.start():he.timers.pop()},he.fx.interval=13,he.fx.start=function(){Ct||(Ct=k.setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){k.clearInterval(Ct),Ct=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(a,e){return a=he.fx&&he.fx.speeds[a]||a,e=e||"fx",this.queue(e,function(e,t){var n=k.setTimeout(e,a);t.stop=function(){k.clearTimeout(n)}})},Tt=ae.createElement("input"),Mt=ae.createElement("div"),Lt=ae.createElement("select"),Ot=Lt.appendChild(ae.createElement("option")),(Mt=ae.createElement("div")).setAttribute("className","t"),Mt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",At=Mt.getElementsByTagName("a")[0],Tt.setAttribute("type","checkbox"),Mt.appendChild(Tt),(At=Mt.getElementsByTagName("a")[0]).style.cssText="top:1px",ue.getSetAttribute="t"!==Mt.className,ue.style=/top/.test(At.getAttribute("style")),ue.hrefNormalized="/a"===At.getAttribute("href"),ue.checkOn=!!Tt.value,ue.optSelected=Ot.selected,ue.enctype=!!ae.createElement("form").enctype,Lt.disabled=!0,ue.optDisabled=!Ot.disabled,(Tt=ae.createElement("input")).setAttribute("value",""),ue.input=""===Tt.getAttribute("value"),Tt.value="t",Tt.setAttribute("type","radio"),ue.radioValue="t"===Tt.value;var Pt=/\r/g,Rt=/[\x20\t\r\n\f]+/g;he.fn.extend({val:function(n){var a,e,i,t=this[0];return arguments.length?(i=he.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,he(this).val()):n)?t="":"number"==typeof t?t+="":he.isArray(t)&&(t=he.map(t,function(e){return null==e?"":e+""})),(a=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()])&&"set"in a&&a.set(this,t,"value")!==undefined||(this.value=t))})):t?(a=he.valHooks[t.type]||he.valHooks[t.nodeName.toLowerCase()])&&"get"in a&&(e=a.get(t,"value"))!==undefined?e:"string"==typeof(e=t.value)?e.replace(Pt,""):null==e?"":e:void 0}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:he.trim(he.text(e)).replace(Rt," ")}},select:{get:function(e){for(var t,n,a=e.options,i=e.selectedIndex,r="select-one"===e.type||i<0,o=r?null:[],s=r?i+1:a.length,d=i<0?s:r?i:0;d<s;d++)if(((n=a[d]).selected||d===i)&&(ue.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!he.nodeName(n.parentNode,"optgroup"))){if(t=he(n).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var n,a,i=e.options,r=he.makeArray(t),o=i.length;o--;)if(a=i[o],-1<he.inArray(he.valHooks.option.get(a),r))try{a.selected=n=!0}catch(s){a.scrollHeight}else a.selected=!1;return n||(e.selectedIndex=-1),i}}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(e,t){if(he.isArray(t))return e.checked=-1<he.inArray(he(e).val(),t)}},ue.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var It,qt,zt=he.expr.attrHandle,Bt=/^(?:checked|selected)$/i,Ft=ue.getSetAttribute,$t=ue.input;he.fn.extend({attr:function(e,t){return Fe(this,he.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,n){var a,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof e.getAttribute?he.prop(e,t,n):(1===r&&he.isXMLDoc(e)||(t=t.toLowerCase(),i=he.attrHooks[t]||(he.expr.match.bool.test(t)?qt:It)),n!==undefined?null===n?void he.removeAttr(e,t):i&&"set"in i&&(a=i.set(e,n,t))!==undefined?a:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(a=i.get(e,t))?a:null==(a=he.find.attr(e,t))?undefined:a)},attrHooks:{type:{set:function(e,t){if(!ue.radioValue&&"radio"===t&&he.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,a,i=0,r=t&&t.match(Te);if(r&&1===e.nodeType)for(;n=r[i++];)a=he.propFix[n]||n,he.expr.match.bool.test(n)?$t&&Ft||!Bt.test(n)?e[a]=!1:e[he.camelCase("default-"+n)]=e[a]=!1:he.attr(e,n,""),e.removeAttribute(Ft?n:a)}}),qt={set:function(e,t,n){return!1===t?he.removeAttr(e,n):$t&&Ft||!Bt.test(n)?e.setAttribute(!Ft&&he.propFix[n]||n,n):e[he.camelCase("default-"+n)]=e[n]=!0,n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var r=zt[t]||he.find.attr;$t&&Ft||!Bt.test(t)?zt[t]=function(e,t,n){var a,i;return n||(i=zt[t],zt[t]=a,a=null!=r(e,t,n)?t.toLowerCase():null,zt[t]=i),a}:zt[t]=function(e,t,n){if(!n)return e[he.camelCase("default-"+t)]?t.toLowerCase():null}}),$t&&Ft||(he.attrHooks.value={set:function(e,t,n){if(!he.nodeName(e,"input"))return It&&It.set(e,t,n);e.defaultValue=t}}),Ft||(It={set:function(e,t,n){var a=e.getAttributeNode(n);if(a||e.setAttributeNode(a=e.ownerDocument.createAttribute(n)),a.value=t+="","value"===n||t===e.getAttribute(n))return t}},zt.id=zt.name=zt.coords=function(e,t,n){var a;if(!n)return(a=e.getAttributeNode(t))&&""!==a.value?a.value:null},he.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:It.set},he.attrHooks.contenteditable={set:function(e,t,n){It.set(e,""!==t&&t,n)}},he.each(["width","height"],function(e,n){he.attrHooks[n]={set:function(e,t){if(""===t)return e.setAttribute(n,"auto"),t}}})),ue.style||(he.attrHooks.style={get:function(e){return e.style.cssText||undefined},set:function(e,t){return e.style.cssText=t+""}});var Vt=/^(?:input|select|textarea|button|object)$/i,Wt=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return Fe(this,he.prop,e,t,1<arguments.length)},removeProp:function(t){return t=he.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(e){}})}}),he.extend({prop:function(e,t,n){var a,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&he.isXMLDoc(e)||(t=he.propFix[t]||t,i=he.propHooks[t]),n!==undefined?i&&"set"in i&&(a=i.set(e,n,t))!==undefined?a:e[t]=n:i&&"get"in i&&null!==(a=i.get(e,t))?a:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):Vt.test(e.nodeName)||Wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ue.hrefNormalized||he.each(["href","src"],function(e,t){he.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ue.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),ue.enctype||(he.propFix.enctype="encoding");var Ut=/[\t\r\n\f]/g;he.fn.extend({addClass:function(t){var e,n,a,i,r,o,s,d=0;if(he.isFunction(t))return this.each(function(e){he(this).addClass(t.call(this,e,V(this)))});if("string"==typeof t&&t)for(e=t.match(Te)||[];n=this[d++];)if(i=V(n),a=1===n.nodeType&&(" "+i+" ").replace(Ut," ")){for(o=0;r=e[o++];)a.indexOf(" "+r+" ")<0&&(a+=r+" ");i!==(s=he.trim(a))&&he.attr(n,"class",s)}return this},removeClass:function(t){var e,n,a,i,r,o,s,d=0;if(he.isFunction(t))return this.each(function(e){he(this).removeClass(t.call(this,e,V(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Te)||[];n=this[d++];)if(i=V(n),a=1===n.nodeType&&(" "+i+" ").replace(Ut," ")){for(o=0;r=e[o++];)for(;-1<a.indexOf(" "+r+" ");)a=a.replace(" "+r+" "," ");i!==(s=he.trim(a))&&he.attr(n,"class",s)}return this},toggleClass:function(i,t){var r=typeof i;return"boolean"==typeof t&&"string"===r?t?this.addClass(i):this.removeClass(i):he.isFunction(i)?this.each(function(e){he(this).toggleClass(i.call(this,e,V(this),t),t)}):this.each(function(){var e,t,n,a;if("string"===r)for(t=0,n=he(this),a=i.match(Te)||[];e=a[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else i!==undefined&&"boolean"!==r||((e=V(this))&&he._data(this,"__className__",e),he.attr(this,"class",e||!1===i?"":he._data(this,"__className__")||""))})},hasClass:function(e){var t,n,a=0;for(t=" "+e+" ";n=this[a++];)if(1===n.nodeType&&-1<(" "+V(n)+" ").replace(Ut," ").indexOf(t))return!0;return!1}}),he.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){he.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Xt=k.location,Jt=he.now(),Yt=/\?/,Kt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;he.parseJSON=function(e){if(k.JSON&&k.JSON.parse)return k.JSON.parse(e+"");var i,r=null,t=he.trim(e+"");return t&&!he.trim(t.replace(Kt,function(e,t,n,a){return i&&t&&(r=0),0===r?e:(i=n||t,r+=!a-!n,"")}))?Function("return "+t)():he.error("Invalid JSON: "+e)},he.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{k.DOMParser?t=(new k.DOMParser).parseFromString(e,"text/xml"):((t=new k.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(n){t=undefined}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+e),t};var Gt=/#.*$/,Qt=/([?&])_=[^&]*/,Zt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,en=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,tn=/^(?:GET|HEAD)$/,nn=/^\/\//,an=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,rn={},on={},sn="*/".concat("*"),dn=Xt.href,ln=an.exec(dn.toLowerCase())||[];he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dn,type:"GET",isLocal:en.test(ln[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":he.parseJSON,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?X(X(e,he.ajaxSettings),t):X(he.ajaxSettings,e)},ajaxPrefilter:W(rn),ajaxTransport:W(on),ajax:function(e,t){function n(e,t,n,a){var i,r,o,s,d,l=t;2!==x&&(x=2,_&&k.clearTimeout(_),f=undefined,u=a||"",w.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=J(p,w,n)),s=Y(p,s,w,i),i?(p.ifModified&&((d=w.getResponseHeader("Last-Modified"))&&(he.lastModified[c]=d),(d=w.getResponseHeader("etag"))&&(he.etag[c]=d)),204===e||"HEAD"===p.type?l="nocontent":304===e?l="notmodified":(l=s.state,r=s.data,i=!(o=s.error))):(o=l,!e&&l||(l="error",e<0&&(e=0))),w.status=e,w.statusText=(t||l)+"",i?v.resolveWith(m,[r,l,w]):v.rejectWith(m,[w,l,o]),w.statusCode(b),b=undefined,h&&g.trigger(i?"ajaxSuccess":"ajaxError",[w,p,i?r:o]),y.fireWith(m,[w,l]),h&&(g.trigger("ajaxComplete",[w,p]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var a,i,c,u,_,h,f,r,p=he.ajaxSetup({},t),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?he(m):he.event,v=he.Deferred(),y=he.Callbacks("once memory"),b=p.statusCode||{},o={},s={},x=0,d="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!r)for(r={};t=Zt.exec(u);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?u:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=s[n]=s[n]||e,o[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)b[t]=[b[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||d;return f&&f.abort(t),n(0,t),this}};if(v.promise(w).complete=y.add,w.success=w.done,w.error=w.fail,p.url=((e||p.url||dn)+"").replace(Gt,"").replace(nn,ln[1]+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=he.trim(p.dataType||"*").toLowerCase().match(Te)||[""],null==p.crossDomain&&(a=an.exec(p.url.toLowerCase()),p.crossDomain=!(!a||a[1]===ln[1]&&a[2]===ln[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(ln[3]||("http:"===ln[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=he.param(p.data,p.traditional)),U(rn,p,t,w),2===x)return w;for(i in(h=he.event&&p.global)&&0==he.active++&&he.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!tn.test(p.type),c=p.url,p.hasContent||(p.data&&(c=p.url+=(Yt.test(c)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=Qt.test(c)?c.replace(Qt,"$1_="+Jt++):c+(Yt.test(c)?"&":"?")+"_="+Jt++)),p.ifModified&&(he.lastModified[c]&&w.setRequestHeader("If-Modified-Since",he.lastModified[c]),he.etag[c]&&w.setRequestHeader("If-None-Match",he.etag[c])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+sn+"; q=0.01":""):p.accepts["*"]),p.headers)w.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(!1===p.beforeSend.call(m,w,p)||2===x))return w.abort();for(i in d="abort",{success:1,error:1,complete:1})w[i](p[i]);if(f=U(on,p,t,w)){if(w.readyState=1,h&&g.trigger("ajaxSend",[w,p]),2===x)return w;p.async&&0<p.timeout&&(_=k.setTimeout(function(){w.abort("timeout")},p.timeout));try{x=1,f.send(o,n)}catch(l){if(!(x<2))throw l;n(-1,l)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return he.get(e,t,n,"json")},getScript:function(e,t){return he.get(e,undefined,t,"script")}}),he.each(["get","post"],function(e,i){he[i]=function(e,t,n,a){return he.isFunction(t)&&(a=a||n,n=t,t=undefined),he.ajax(he.extend({url:e,type:i,dataType:a,data:t,success:n},he.isPlainObject(e)&&e))}}),he._evalUrl=function(e){return he.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},he.fn.extend({wrapAll:function(t){if(he.isFunction(t))return this.each(function(e){he(this).wrapAll(t.call(this,e))});if(this[0]){var e=he(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(n){return he.isFunction(n)?this.each(function(e){he(this).wrapInner(n.call(this,e))}):this.each(function(){var e=he(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=he.isFunction(t);return this.each(function(e){he(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){he.nodeName(this,"body")||he(this).replaceWith(this.childNodes)}).end()}}),he.expr.filters.hidden=function(e){return ue.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:G(e)},he.expr.filters.visible=function(e){return!he.expr.filters.hidden(e)};var cn=/%20/g,un=/\[\]$/,_n=/\r?\n/g,hn=/^(?:submit|button|image|reset|file)$/i,fn=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,a=[],i=function(e,t){t=he.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=he.ajaxSettings&&he.ajaxSettings.traditional),he.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){i(this.name,this.value)});else for(n in e)Q(n,e[n],t,i);return a.join("&").replace(cn,"+")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&fn.test(this.nodeName)&&!hn.test(e)&&(this.checked||!$e.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace(_n,"\r\n")}}):{name:t.name,value:n.replace(_n,"\r\n")}}).get()}}),he.ajaxSettings.xhr=k.ActiveXObject!==undefined?function(){return this.isLocal?ee():8<ae.documentMode?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||ee()}:Z;var pn=0,mn={},gn=he.ajaxSettings.xhr();k.attachEvent&&k.attachEvent("onunload",function(){for(var e in mn)mn[e](undefined,!0)}),ue.cors=!!gn&&"withCredentials"in gn,(gn=ue.ajax=!!gn)&&he.ajaxTransport(function(l){var c;if(!l.crossDomain||ue.cors)return{send:function(e,o){var t,s=l.xhr(),d=++pn;if(s.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(t in l.xhrFields
)s[t]=l.xhrFields[t];for(t in l.mimeType&&s.overrideMimeType&&s.overrideMimeType(l.mimeType),l.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)e[t]!==undefined&&s.setRequestHeader(t,e[t]+"");s.send(l.hasContent&&l.data||null),c=function(e,t){var n,a,i;if(c&&(t||4===s.readyState))if(delete mn[d],c=undefined,s.onreadystatechange=he.noop,t)4!==s.readyState&&s.abort();else{i={},n=s.status,"string"==typeof s.responseText&&(i.text=s.responseText);try{a=s.statusText}catch(r){a=""}n||!l.isLocal||l.crossDomain?1223===n&&(n=204):n=i.text?200:404}i&&o(n,a,i,s.getAllResponseHeaders())},l.async?4===s.readyState?k.setTimeout(c):s.onreadystatechange=mn[d]=c:c()},abort:function(){c&&c(undefined,!0)}}}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),he.ajaxTransport("script",function(t){if(t.crossDomain){var a,i=ae.head||he("head")[0]||ae.documentElement;return{send:function(e,n){(a=ae.createElement("script")).async=!0,t.scriptCharset&&(a.charset=t.scriptCharset),a.src=t.url,a.onload=a.onreadystatechange=function(e,t){(t||!a.readyState||/loaded|complete/.test(a.readyState))&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null,t||n(200,"success"))},i.insertBefore(a,i.firstChild)},abort:function(){a&&a.onload(undefined,!0)}}}});var vn=[],yn=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=vn.pop()||he.expando+"_"+Jt++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(e,t,n){var a,i,r,o=!1!==e.jsonp&&(yn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&yn.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return a=e.jsonpCallback=he.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(yn,"$1"+a):!1!==e.jsonp&&(e.url+=(Yt.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return r||he.error(a+" was not called"),r[0]},e.dataTypes[0]="json",i=k[a],k[a]=function(){r=arguments},n.always(function(){i===undefined?he(k).removeProp(a):k[a]=i,e[a]&&(e.jsonpCallback=t.jsonpCallback,vn.push(a)),r&&he.isFunction(i)&&i(r[0]),r=i=undefined}),"script"}),he.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ae;var a=we.exec(e),i=!n&&[];return a?[t.createElement(a[1])]:(a=p([e],t,i),i&&i.length&&he(i).remove(),he.merge([],a.childNodes))};var bn=he.fn.load;he.fn.load=function(e,t,n){if("string"!=typeof e&&bn)return bn.apply(this,arguments);var a,i,r,o=this,s=e.indexOf(" ");return-1<s&&(a=he.trim(e.slice(s,e.length)),e=e.slice(0,s)),he.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(i="POST"),0<o.length&&he.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){r=arguments,o.html(a?he("<div>").append(he.parseHTML(e)).find(a):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.filters.animated=function(t){return he.grep(he.timers,function(e){return t===e.elem}).length},he.offset={setOffset:function(e,t,n){var a,i,r,o,s,d,l=he.css(e,"position"),c=he(e),u={};"static"===l&&(e.style.position="relative"),s=c.offset(),r=he.css(e,"top"),d=he.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<he.inArray("auto",[r,d])?(o=(a=c.position()).top,i=a.left):(o=parseFloat(r)||0,i=parseFloat(d)||0),he.isFunction(t)&&(t=t.call(e,n,he.extend({},s))),null!=t.top&&(u.top=t.top-s.top+o),null!=t.left&&(u.left=t.left-s.left+i),"using"in t?t.using.call(e,u):c.css(u)}},he.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){he.offset.setOffset(this,t,e)});var e,n,a={top:0,left:0},i=this[0],r=i&&i.ownerDocument;return r?(e=r.documentElement,he.contains(e,i)?("undefined"!=typeof i.getBoundingClientRect&&(a=i.getBoundingClientRect()),n=te(r),{top:a.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:a.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):a):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},a=this[0];return"fixed"===he.css(a,"position")?t=a.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],"html")||(n=e.offset()),n.top+=he.css(e[0],"borderTopWidth",!0),n.left+=he.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-he.css(a,"marginTop",!0),left:t.left-n.left-he.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!he.nodeName(e,"html")&&"static"===he.css(e,"position");)e=e.offsetParent;return e||pt})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var r=/Y/.test(i);he.fn[t]=function(e){return Fe(this,function(e,t,n){var a=te(e);if(n===undefined)return a?i in a?a[i]:a.document.documentElement[t]:e[t];a?a.scrollTo(r?he(a).scrollLeft():n,r?n:he(a).scrollTop()):e[t]=n},t,e,arguments.length,null)}}),he.each(["top","left"],function(e,n){he.cssHooks[n]=M(ue.pixelPosition,function(e,t){if(t)return t=gt(e,n),ht.test(t)?he(e).position()[n]+"px":t})}),he.each({Height:"height",Width:"width"},function(r,o){he.each({padding:"inner"+r,content:o,"":"outer"+r},function(a,e){he.fn[e]=function(e,t){var n=arguments.length&&(a||"boolean"!=typeof e),i=a||(!0===e||!0===t?"margin":"border");return Fe(this,function(e,t,n){var a;return he.isWindow(e)?e.document.documentElement["client"+r]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+r],a["scroll"+r],e.body["offset"+r],a["offset"+r],a["client"+r])):n===undefined?he.css(e,t,i):he.style(e,t,n,i)},o,n?e:undefined,n,null)}})}),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,a){return this.on(t,e,n,a)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),he.fn.size=function(){return this.length},he.fn.andSelf=he.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he});var xn=k.jQuery,wn=k.$;return he.noConflict=function(e){return k.$===he&&(k.$=wn),e&&k.jQuery===he&&(k.jQuery=xn),he},e||(k.jQuery=k.$=he),he}),function(c,d){"use strict";var l;c.rails!==d&&c.error("jquery-ujs has already been loaded!");var e=c(document);c.rails=l={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return c("meta[name=csrf-token]").attr("content")},csrfParam:function(){return c("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=l.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){c('form input[name="'+l.csrfParam()+'"]').val(l.csrfToken())},fire:function(e,t,n){var a=c.Event(t);return e.trigger(a,n),!1!==a.result},confirm:function(e){return confirm(e)},ajax:function(e){return c.ajax(e)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==d&&!1!==e.data("remote")},handleRemote:function(a){var e,t,n,i,r,o;if(l.fire(a,"ajax:before")){if(i=a.data("with-credentials")||null,r=a.data("type")||c.ajaxSettings&&c.ajaxSettings.dataType,a.is("form")){e=a.data("ujs:submit-button-formmethod")||a.attr("method"),t=a.data("ujs:submit-button-formaction")||a.attr("action"),n=c(a[0]).serializeArray();var s=a.data("ujs:submit-button");s&&(n.push(s),a.data("ujs:submit-button",null)),a.data("ujs:submit-button-formmethod",null),a.data("ujs:submit-button-formaction",null)}else a.is(l.inputChangeSelector)?(e=a.data("method"),t=a.data("url"),n=a.serialize(),a.data("params")&&(n=n+"&"+a.data("params"))):a.is(l.buttonClickSelector)?(e=a.data("method")||"get",t=a.data("url"),n=a.serialize(),a.data("params")&&(n=n+"&"+a.data("params"))):(e=a.data("method"),t=l.href(a),n=a.data("params")||null);return o={type:e||"GET",data:n,dataType:r,beforeSend:function(e,t){if(t.dataType===d&&e.setRequestHeader("accept","*/*;q=0.5, "+t.accepts.script),!l.fire(a,"ajax:beforeSend",[e,t]))return!1;a.trigger("ajax:send",e)},success:function(e,t,n){a.trigger("ajax:success",[e,t,n])},complete:function(e,t){a.trigger("ajax:complete",[e,t])},error:function(e,t,n){a.trigger("ajax:error",[e,t,n])},crossDomain:l.isCrossDomain(t)},i&&(o.xhrFields={withCredentials:i}),t&&(o.url=t),l.ajax(o)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(a){return!0}},handleMethod:function(e){var t=l.href(e),n=e.data("method"),a=e.attr("target"),i=l.csrfToken(),r=l.csrfParam(),o=c('<form method="post" action="'+t+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';r===d||i===d||l.isCrossDomain(t)||(s+='<input name="'+r+'" value="'+i+'" type="hidden" />'),a&&o.attr("target",a),o.hide().append(s).appendTo("body"),o.submit()},formElements:function(e,t){return e.is("form")?c(e[0].elements).filter(t):e.find(t)},disableFormElements:function(e){l.formElements(e,l.disableSelector).each(function(){l.disableFormElement(c(this))})},disableFormElement:function(e){var t,n;t=e.is("button")?"html":"val",(n=e.data("disable-with"))!==d&&(e.data("ujs:enable-with",e[t]()),e[t](n)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(e){l.formElements(e,l.enableSelector).each(function(){l.enableFormElement(c(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")!==d&&(e[t](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,n=e.data("confirm"),a=!1;if(!n)return!0;if(l.fire(e,"confirm")){try{a=l.confirm(n)}catch(i){(console.error||console.log).call(console,i.stack||i)}t=l.fire(e,"confirm:complete",[a])}return a&&t},blankInputs:function(e,t,n){var a,i,r,o=c(),s=t||"input,textarea",d=e.find(s),l={};return d.each(function(){(a=c(this)).is("input[type=radio]")?(r=a.attr("name"),l[r]||(0===e.find('input[type=radio]:checked[name="'+r+'"]').length&&(i=e.find('input[type=radio][name="'+r+'"]'),o=o.add(i)),l[r]=r)):(a.is("input[type=checkbox],input[type=radio]")?a.is(":checked"):!!a.val())===n&&(o=o.add(a))}),!!o.length&&o},nonBlankInputs:function(e,t){return l.blankInputs(e,t,!0)},stopEverything:function(e){return c(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(e){var t=e.data("disable-with");t!==d&&(e.data("ujs:enable-with",e.html()),e.html(t)),e.bind("click.railsDisable",function(e){return l.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==d&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},l.fire(e,"rails:attachBindings")&&(c.ajaxPrefilter(function(e,t,n){e.crossDomain||l.CSRFProtection(n)}),c(window).on("pageshow.rails",function(){c(c.rails.enableSelector).each(function(){var e=c(this);e.data("ujs:disabled")&&c.rails.enableFormElement(e)}),c(c.rails.linkDisableSelector).each(function(){var e=c(this);e.data("ujs:disabled")&&c.rails.enableElement(e)})}),e.on("ajax:complete",l.linkDisableSelector,function(){l.enableElement(c(this))}),e.on("ajax:complete",l.buttonDisableSelector,function(){l.enableFormElement(c(this))}),e.on("click.rails",l.linkClickSelector,function(e){var t=c(this),n=t.data("method"),a=t.data("params"),i=e.metaKey||e.ctrlKey;if(!l.allowAction(t))return l.stopEverything(e);if(!i&&t.is(l.linkDisableSelector)&&l.disableElement(t),l.isRemote(t)){if(i&&(!n||"GET"===n)&&!a)return!0;var r=l.handleRemote(t);return!1===r?l.enableElement(t):r.fail(function(){l.enableElement(t)}),!1}return n?(l.handleMethod(t),!1):void 0}),e.on("click.rails",l.buttonClickSelector,function(e){var t=c(this);if(!l.allowAction(t)||!l.isRemote(t))return l.stopEverything(e);t.is(l.buttonDisableSelector)&&l.disableFormElement(t);var n=l.handleRemote(t);return!1===n?l.enableFormElement(t):n.fail(function(){l.enableFormElement(t)}),!1}),e.on("change.rails",l.inputChangeSelector,function(e){var t=c(this);return l.allowAction(t)&&l.isRemote(t)?(l.handleRemote(t),!1):l.stopEverything(e)}),e.on("submit.rails",l.formSubmitSelector,function(e){var t,n,a=c(this),i=l.isRemote(a);if(!l.allowAction(a))return l.stopEverything(e);if(a.attr("novalidate")===d)if(a.data("ujs:formnovalidate-button")===d){if((t=l.blankInputs(a,l.requiredInputSelector,!1))&&l.fire(a,"ajax:aborted:required",[t]))return l.stopEverything(e)}else a.data("ujs:formnovalidate-button",d);if(i){if(n=l.nonBlankInputs(a,l.fileInputSelector)){setTimeout(function(){l.disableFormElements(a)},13);var r=l.fire(a,"ajax:aborted:file",[n]);return r||setTimeout(function(){l.enableFormElements(a)},13),r}return l.handleRemote(a),!1}setTimeout(function(){l.disableFormElements(a)},13)}),e.on("click.rails",l.formInputClickSelector,function(e){var t=c(this);if(!l.allowAction(t))return l.stopEverything(e);var n=t.attr("name"),a=n?{name:n,value:t.val()}:null,i=t.closest("form");0===i.length&&(i=c("#"+t.attr("form"))),i.data("ujs:submit-button",a),i.data("ujs:formnovalidate-button",t.attr("formnovalidate")),i.data("ujs:submit-button-formaction",t.attr("formaction")),i.data("ujs:submit-button-formmethod",t.attr("formmethod"))}),e.on("ajax:send.rails",l.formSubmitSelector,function(e){this===e.target&&l.disableFormElements(c(this))}),e.on("ajax:complete.rails",l.formSubmitSelector,function(e){this===e.target&&l.enableFormElements(c(this))}),c(function(){l.refreshCSRFTokens()}))}(jQuery),function(){var e=this;(function(){(function(){var n=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(e){var t;return null==e&&(e=null!=(t=this.getConfig("url"))?t:this.INTERNAL.default_mount_path),new d.Consumer(this.createWebSocketURL(e))},getConfig:function(e){var t;return null!=(t=document.head.querySelector("meta[name='action-cable-"+e+"']"))?t.getAttribute("content"):void 0},createWebSocketURL:function(e){var t;return e&&!/^wss?:/i.test(e)?((t=document.createElement("a")).href=e,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href):e},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var e,t;if(e=1<=arguments.length?n.call(arguments,0):[],this.debugging)return e.push(Date.now()),(t=this.logger).log.apply(t,["[ActionCable]"].concat(n.call(e)))}}}).call(this)}).call(e);var d=e.ActionCable;(function(){(function(){var a=function(e,t){return function(){return e.apply(t,arguments)}};d.ConnectionMonitor=function(){function e(e){this.connection=e,this.visibilityDidChange=a(this.visibilityDidChange,this),this.reconnectAttempts=0}var i,t,n;return e.pollInterval={min:3,max:30},e.staleThreshold=6,e.prototype.start=function(){if(!this.isRunning())return this.startedAt=t(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),d.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},e.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=t(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),d.log("ConnectionMonitor stopped")},e.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},e.prototype.recordPing=function(){return this.pingedAt=t()},e.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,d.log("ConnectionMonitor recorded connect")},e.prototype.recordDisconnect=function(){return this.disconnectedAt=t(),d.log("ConnectionMonitor recorded disconnect")},e.prototype.startPolling=function(){return this.stopPolling(),this.poll()},e.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},e.prototype.poll=function(){return this.pollTimeout=setTimeout((e=this,function(){return e.reconnectIfStale(),e.poll()}),this.getPollInterval());var e},e.prototype.getPollInterval=function(){var e,t,n,a;return n=(a=this.constructor.pollInterval).min,t=a.max,e=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*i(e,n,t))},e.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return d.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+n(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?d.log("ConnectionMonitor skipping reopening recent disconnect"):(d.log("ConnectionMonitor reopening"),this.connection.reopen())},e.prototype.connectionIsStale=function(){var e;return n(null!=(e=this.pingedAt)?e:this.startedAt)>this.constructor.staleThreshold},e.prototype.disconnectedRecently=function(){return this.disconnectedAt&&n(this.disconnectedAt)<this.constructor.staleThreshold},e.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((e=this,function(){if(e.connectionIsStale()||!e.connection.isOpen())return d.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),e.connection.reopen()}),200);var e},t=function(){return(new Date).getTime()},n=function(e){return(t()-e)/1e3},i=function(e,t,n){return Math.max(t,Math.min(n,e))},e}()}).call(this),function(){var e,i,t,n,a,r=[].slice,o=function(e,t){return function(){return e.apply(t,arguments)}},s=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};n=d.INTERNAL,i=n.message_types,t=n.protocols,a=2<=t.length?r.call(t,0,e=t.length-1):(e=0,[]),t[e++],d.Connection=function(){function e(e){this.consumer=e,this.open=o(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new d.ConnectionMonitor(this),this.disconnected=!0}return e.reopenDelay=500,e.prototype.send=function(e){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(e)),!0)},e.prototype.open=function(){return this.isActive()?(d.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(d.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+t),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new d.WebSocket(this.consumer.url,t),this.installEventHandlers(),this.monitor.start(),!0)},e.prototype.close=function(e){var t;if((null!=e?e:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(t=this.webSocket)?t.close():void 0},e.prototype.reopen=function(){var e;if(d.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(t){return e=t,d.log("Failed to reopen WebSocket",e)}finally{d.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},e.prototype.getProtocol=function(){var e;return null!=(e=this.webSocket)?e.protocol:void 0},e.prototype.isOpen=function(){return this.isState("open")},e.prototype.isActive=function(){return this.isState("open","connecting")},e.prototype.isProtocolSupported=function(){var e;return e=this.getProtocol(),0<=s.call(a,e)},e.prototype.isState=function(){var e,t;return t=1<=arguments.length?r.call(arguments,0):[],e=this.getState(),0<=s.call(t,e)},e.prototype.getState=function(){var e,t;for(t in WebSocket)if(WebSocket[t]===(null!=(e=this.webSocket)?e.readyState:void 0))return t.toLowerCase();return null},e.prototype.installEventHandlers=function(){var e,t;for(e in this.events)t=this.events[e].bind(this),this.webSocket["on"+e]=t},e.prototype.uninstallEventHandlers=function(){var e;for(e in this.events)this.webSocket["on"+e]=function(){}},e.prototype.events={message:function(e){var t,n,a;if(this.isProtocolSupported())switch(t=(a=JSON.parse(e.data)).identifier,n=a.message,a.type){case i.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case i.ping:return this.monitor.recordPing();case i.confirmation:return this.subscriptions.notify(t,"connected");case i.rejection:return this.subscriptions.reject(t);default:return this.subscriptions.notify(t,"received",n)}},open:function(){if(d.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return d.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(d.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return d.log("WebSocket onerror event")}},e}()}.call(this),function(){var l=[].slice;d.Subscriptions=function(){function e(e){this.consumer=e,this.subscriptions=[]}return e.prototype.create=function(e,t){var n,a,i;return a="object"==typeof(n=e)?n:{channel:n},i=new d.Subscription(this.consumer,a,t),this.add(i)},e.prototype.add=function(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.sendCommand(e,"subscribe"),e},e.prototype.remove=function(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e},e.prototype.reject=function(e){var t,n,a,i,r;for(i=[],t=0,n=(a=this.findAll(e)).length;t<n;t++)r=a[t],this.forget(r),this.notify(r,"rejected"),i.push(r);return i},e.prototype.forget=function(i){var r;return this.subscriptions=function(){var e,t,n,a;for(a=[],e=0,t=(n=this.subscriptions).length;e<t;e++)(r=n[e])!==i&&a.push(r);return a}.call(this),i},e.prototype.findAll=function(e){var t,n,a,i,r;for(i=[],t=0,n=(a=this.subscriptions).length;t<n;t++)(r=a[t]).identifier===e&&i.push(r);return i},e.prototype.reload=function(){var e,t,n,a,i;for(a=[],e=0,t=(n=this.subscriptions).length;e<t;e++)i=n[e],a.push(this.sendCommand(i,"subscribe"));return a},e.prototype.notifyAll=function(e){var t,n,a,i,r,o,s;for(n=e,t=2<=arguments.length?l.call(arguments,1):[],o=[],a=0,i=(r=this.subscriptions).length;a<i;a++)s=r[a],o.push(this.notify.apply(this,[s,n].concat(l.call(t))));return o},e.prototype.notify=function(e,t){var n,a,i,r,o,s,d;for(s=e,a=t,n=3<=arguments.length?l.call(arguments,2):[],o=[],i=0,r=(d="string"==typeof s?this.findAll(s):[s]).length;i<r;i++)s=d[i],o.push("function"==typeof s[a]?s[a].apply(s,n):void 0);return o},e.prototype.sendCommand=function(e,t){var n;return n=e.identifier,this.consumer.send({command:t,identifier:n})},e}()}.call(this),function(){d.Subscription=function(){function e(e,t,n){this.consumer=e,null==t&&(t={}),this.identifier=JSON.stringify(t),a(this,n)}var a;return e.prototype.perform=function(e,t){return null==t&&(t={}),t.action=e,this.send(t)},e.prototype.send=function(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})},e.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},a=function(e,t){var n,a;if(null!=t)for(n in t)a=t[n],e[n]=a;return e},e}()}.call(this),function(){d.Consumer=function(){function e(e){this.url=e,this.subscriptions=new d.Subscriptions(this),this.connection=new d.Connection(this)}return e.prototype.send=function(e){return this.connection.send(e)},e.prototype.connect=function(){return this.connection.open()},e.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},e.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},e}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=d:"function"==typeof define&&define.amd&&define(d)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),console.log(gon.user),0<gon.user.length&&(App.conversation=App.cable.subscriptions.create("ConversationChannel",{connected:function(){},disconnected:function(){},received:function(e){var t=$("#conversations-list").find("[data-conversation-id='"+e.conversation_id+"']");t.find(".messages-list").find("ul").append(e.message);var n=t.find(".messages-list"),a=n[0].scrollHeight;n.scrollTop(a)},talk:function(e){return this.perform("talk",{message:e})}}),$(document).on("submit",".new_message",function(e){e.preventDefault();var t=$(this).serializeArray();App.conversation.talk(t),$(this).trigger("reset")})),$(document).on("click",".toggle-window",function(e){e.preventDefault();var t=$(this).parent().parent(),n=t.find(".messages-list");if(t.find(".panel-body").toggle(),t.attr("class","panel panel-default"),t.find(".panel-body").is(":visible")){var a=n[0].scrollHeight;n.scrollTop(a)}}),function(){function dtmlXMLLoaderObject(e,t,n,a){return this.xmlDoc="",this.async=void 0===n||n,this.onloadAction=e||null,this.mainObject=t||null,this.waitCall=null,this.rSeed=a||!1,this}function dhtmlDragAndDropObject(){return window.dhtmlDragAndDrop?window.dhtmlDragAndDrop:(this.lastLanding=0,this.dragNode=0,this.dragStartNode=0,this.dragStartObject=0,this.tempDOMU=null,this.tempDOMM=null,this.waitDrag=0,window.dhtmlDragAndDrop=this)}function _dhtmlxError(){return this.catches||(this.catches=[]),this}function dhtmlXHeir(e,t){for(var n in t)"function"==typeof t[n]&&(e[n]=t[n]);return e}window.dhtmlx||(window.dhtmlx=function(e){for(var t in e)dhtmlx[t]=e[t];return dhtmlx}),dhtmlx.extend_api=function(e,a,t){var i=window[e];i&&(window[e]=function(e){var t;if(e&&"object"==typeof e&&!e.tagName){for(var n in t=i.apply(this,a._init?a._init(e):arguments),dhtmlx)a[n]&&this[a[n]](dhtmlx[n]);for(var n in e)a[n]?this[a[n]](e[n]):0===n.indexOf("on")&&this.attachEvent(n,e[n])}else t=i.apply(this,arguments);return a._patch&&a._patch(this),t||this},window[e].prototype=i.prototype,t&&dhtmlXHeir(window[e].prototype,t))},window.dhtmlxAjax={get:function(e,t){var n=new dtmlXMLLoaderObject(!0);return n.async=arguments.length<3,n.waitCall=t,n.loadXML(e),n},post:function(e,t,n){var a=new dtmlXMLLoaderObject(!0);return a.async=arguments.length<4,a.waitCall=n,a.loadXML(e,!0,t),a},getSync:function(e){return this.get(e,null,!0)},postSync:function(e,t){return this.post(e,t,null,!0)}},window.dtmlXMLLoaderObject=dtmlXMLLoaderObject,dtmlXMLLoaderObject.count=0,dtmlXMLLoaderObject.prototype.waitLoadFunction=function(e){var t=!0;return this.check=function(){if(e&&e.onloadAction&&(!e.xmlDoc.readyState||4==e.xmlDoc.readyState)){if(!t)return;t=!1,dtmlXMLLoaderObject.count++,"function"==typeof e.onloadAction&&e.onloadAction(e.mainObject,null,null,null,e),e.waitCall&&(e.waitCall.call(this,e),e.waitCall=null)}},this.check},dtmlXMLLoaderObject.prototype.getXMLTopNode=function(e,t){var n;if(this.xmlDoc.responseXML){if(0===(a=this.xmlDoc.responseXML.getElementsByTagName(e)).length&&-1!=e.indexOf(":"))var a=this.xmlDoc.responseXML.getElementsByTagName(e.split(":")[1]);n=a[0]}else n=this.xmlDoc.documentElement;if(n)return this._retry=!1,n;if(this._retry||!_isIE)return dhtmlxError.throwError("LoadXML","Incorrect XML",[t||this.xmlDoc,this.mainObject]),document.createElement("div");this._retry=!0;t=this.xmlDoc;return this.loadXMLString(this.xmlDoc.responseText.replace(/^[\s]+/,""),!0),this.getXMLTopNode(e,t)},dtmlXMLLoaderObject.prototype.loadXMLString=function(e,t){if(_isIE)this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=this.async,this.xmlDoc.onreadystatechange=function(){},this.xmlDoc.loadXML(e);else{var n=new DOMParser;this.xmlDoc=n.parseFromString(e,"text/xml")}t||(this.onloadAction&&this.onloadAction(this.mainObject,null,null,null,this),this.waitCall&&(this.waitCall(),this.waitCall=null))},dtmlXMLLoaderObject.prototype.loadXML=function(e,t,n,a){this.rSeed&&(e+=(-1!=e.indexOf("?")?"&":"?")+"a_dhx_rSeed="+(new Date).valueOf()),this.filePath=e,!_isIE&&window.XMLHttpRequest?this.xmlDoc=new XMLHttpRequest:this.xmlDoc=new ActiveXObject("Microsoft.XMLHTTP"),this.async&&(this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this)),"string"==typeof t?this.xmlDoc.open(t,e,this.async):this.xmlDoc.open(t?"POST":"GET",e,this.async),a?(this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")"),this.xmlDoc.setRequestHeader("Content-type","text/xml")):t&&this.xmlDoc.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xmlDoc.send(n),this.async||new this.waitLoadFunction(this)()},dtmlXMLLoaderObject.prototype.destructor=function(){return this._filterXPath=null,this._getAllNamedChilds=null,this._retry=null,this.async=null,this.rSeed=null,this.filePath=null,this.onloadAction=null,this.mainObject=null,this.xmlDoc=null,this.doXPath=null,this.doXPathOpera=null,this.doXSLTransToObject=null,this.doXSLTransToString=null,this.loadXML=null,this.loadXMLString=null,this.doSerialization=null,this.xmlNodeToJSON=null,this.getXMLTopNode=null,this.setXSLParamValue=null},dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(e){for(var t={},n=0;n<e.attributes.length;n++)t[e.attributes[n].name]=e.attributes[n].value;t._tagvalue=e.firstChild?e.firstChild.nodeValue:"";for(n=0;n<e.childNodes.length;n++){var a=e.childNodes[n].tagName;a&&(t[a]||(t[a]=[]),t[a].push(this.xmlNodeToJSON(e.childNodes[n])))}return t},window.dhtmlDragAndDropObject=dhtmlDragAndDropObject,dhtmlDragAndDropObject.prototype.removeDraggableItem=function(e){e.onmousedown=null,e.dragStarter=null,e.dragLanding=null},dhtmlDragAndDropObject.prototype.addDraggableItem=function(e,t){e.onmousedown=this.preCreateDragCopy,e.dragStarter=t,this.addDragLanding(e,t)},dhtmlDragAndDropObject.prototype.addDragLanding=function(e,t){e.dragLanding=t},dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(e){if(!e&&!window.event||2!=(e||event).button)return window.dhtmlDragAndDrop.waitDrag?(window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM,!1):(window.dhtmlDragAndDrop.dragNode&&window.dhtmlDragAndDrop.stopDrag(e),window.dhtmlDragAndDrop.waitDrag=1,window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup,window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove,window.dhtmlDragAndDrop.dragStartNode=this,window.dhtmlDragAndDrop.dragStartObject=this.dragStarter,document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy,document.body.onmousemove=window.dhtmlDragAndDrop.callDrag,window.dhtmlDragAndDrop.downtime=(new Date).valueOf(),!(!e||!e.preventDefault||(e.preventDefault(),1)))},dhtmlDragAndDropObject.prototype.callDrag=function(e){e||(e=window.event);var t=window.dhtmlDragAndDrop;if(!((new Date).valueOf()-t.downtime<100)){if(!t.dragNode){if(!t.waitDrag)return t.stopDrag(e,!0);if(t.dragNode=t.dragStartObject._createDragNode(t.dragStartNode,e),!t.dragNode)return t.stopDrag();t.dragNode.onselectstart=function(){return!1},t.gldragNode=t.dragNode,document.body.appendChild(t.dragNode),document.body.onmouseup=t.stopDrag,
t.waitDrag=0,t.dragNode.pWindow=window,t.initFrameRoute()}if(t.dragNode.parentNode!=window.document.body&&t.gldragNode){var n=t.gldragNode;t.gldragNode.old&&(n=t.gldragNode.old),n.parentNode.removeChild(n);var a=t.dragNode.pWindow;if(n.pWindow&&n.pWindow.dhtmlDragAndDrop.lastLanding&&n.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(n.pWindow.dhtmlDragAndDrop.lastLanding),_isIE){var i=document.createElement("div");i.innerHTML=t.dragNode.outerHTML,t.dragNode=i.childNodes[0]}else t.dragNode=t.dragNode.cloneNode(!0);t.dragNode.pWindow=window,t.gldragNode.old=t.dragNode,document.body.appendChild(t.dragNode),a.dhtmlDragAndDrop.dragNode=t.dragNode}var r;t.dragNode.style.left=e.clientX+15+(t.fx?-1*t.fx:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px",t.dragNode.style.top=e.clientY+3+(t.fy?-1*t.fy:0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px",r=e.srcElement?e.srcElement:e.target,t.checkLanding(r,e)}},dhtmlDragAndDropObject.prototype.calculateFramePosition=function(e){if(window.name){for(var t=parent.frames[window.name].frameElement.offsetParent,n=0,a=0;t;)n+=t.offsetLeft,a+=t.offsetTop,t=t.offsetParent;if(parent.dhtmlDragAndDrop){var i=parent.dhtmlDragAndDrop.calculateFramePosition(1);n+=1*i.split("_")[0],a+=1*i.split("_")[1]}if(e)return n+"_"+a;this.fx=n,this.fy=a}return"0_0"},dhtmlDragAndDropObject.prototype.checkLanding=function(e,t){e&&e.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=e,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,t.clientX,t.clientY,t),this.lastLanding_scr=_isIE?t.srcElement:t.target):e&&"BODY"!=e.tagName?this.checkLanding(e.parentNode,t):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,t.clientX,t.clientY,t),this.lastLanding=0,this._onNotFound&&this._onNotFound())},dhtmlDragAndDropObject.prototype.stopDrag=function(e,t){var n=window.dhtmlDragAndDrop;if(!t){n.stopFrameRoute();var a=n.lastLanding;n.lastLanding=null,a&&a.dragLanding._drag(n.dragStartNode,n.dragStartObject,a,_isIE?event.srcElement:e.target)}n.lastLanding=null,n.dragNode&&n.dragNode.parentNode==document.body&&n.dragNode.parentNode.removeChild(n.dragNode),n.dragNode=0,n.gldragNode=0,n.fx=0,n.fy=0,n.dragStartNode=0,n.dragStartObject=0,document.body.onmouseup=n.tempDOMU,document.body.onmousemove=n.tempDOMM,n.tempDOMU=null,n.tempDOMM=null,n.waitDrag=0},dhtmlDragAndDropObject.prototype.stopFrameRoute=function(e){e&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var t=0;t<window.frames.length;t++)try{window.frames[t]!=e&&window.frames[t].dhtmlDragAndDrop&&window.frames[t].dhtmlDragAndDrop.stopFrameRoute(window)}catch(e){}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=e&&parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(e){}},dhtmlDragAndDropObject.prototype.initFrameRoute=function(e,t){e&&(window.dhtmlDragAndDrop.preCreateDragCopy(),window.dhtmlDragAndDrop.dragStartNode=e.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=e.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=e.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=e.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&t&&(!_isFF||_FFrv<1.8)&&window.dhtmlDragAndDrop.calculateFramePosition());try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=e&&parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(e){}for(var n=0;n<window.frames.length;n++)try{window.frames[n]!=e&&window.frames[n].dhtmlDragAndDrop&&window.frames[n].dhtmlDragAndDrop.initFrameRoute(window,!e||t?1:0)}catch(e){}};var _isFF=!1,_isIE=!1,_isOpera=!1,_isKHTML=!1,_isMacOS=!1,_isChrome=!1,_FFrv=!1,_KHTMLrv=!1,_OperaRv=!1;-1!=navigator.userAgent.indexOf("Macintosh")&&(_isMacOS=!0),-1<navigator.userAgent.toLowerCase().indexOf("chrome")&&(_isChrome=!0),-1!=navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Konqueror")?(_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5)),525<_KHTMLrv?(_isFF=!0,_FFrv=1.9):_isKHTML=!0):-1!=navigator.userAgent.indexOf("Opera")?(_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))):-1!=navigator.appName.indexOf("Microsoft")?(_isIE=!0,-1==navigator.appVersion.indexOf("MSIE 8.0")&&-1==navigator.appVersion.indexOf("MSIE 9.0")&&-1==navigator.appVersion.indexOf("MSIE 10.0")||"BackCompat"==document.compatMode||(_isIE=8)):"Netscape"==navigator.appName&&-1!=navigator.userAgent.indexOf("Trident")?_isIE=8:(_isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1])),dtmlXMLLoaderObject.prototype.doXPath=function(e,t,n,a){if(_isKHTML||!_isIE&&!window.XPathResult)return this.doXPathOpera(e,t);if(_isIE)return t||(t=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),t||dhtmlxError.throwError("LoadXML","Incorrect XML",[t||this.xmlDoc,this.mainObject]),n&&t.setProperty("SelectionNamespaces","xmlns:xsl='"+n+"'"),"single"==a?t.selectSingleNode(e):t.selectNodes(e)||new Array(0);var i=t;t||(t=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),t||dhtmlxError.throwError("LoadXML","Incorrect XML",[t||this.xmlDoc,this.mainObject]),-1!=t.nodeName.indexOf("document")?i=t:t=(i=t).ownerDocument;var r=XPathResult.ANY_TYPE;"single"==a&&(r=XPathResult.FIRST_ORDERED_NODE_TYPE);var o=[],s=t.evaluate(e,i,function(){return n},r,null);if(r==XPathResult.FIRST_ORDERED_NODE_TYPE)return s.singleNodeValue;for(var d=s.iterateNext();d;)o[o.length]=d,d=s.iterateNext();return o},_dhtmlxError.prototype.catchError=function(e,t){this.catches[e]=t},_dhtmlxError.prototype.throwError=function(e,t,n){return this.catches[e]?this.catches[e](e,t,n):this.catches.ALL?this.catches.ALL(e,t,n):(window.alert("Error type: "+e+"\nDescription: "+t),null)},window.dhtmlxError=new _dhtmlxError,dtmlXMLLoaderObject.prototype.doXPathOpera=function(e,t){var n=e.replace(/[\/]+/gi,"/").split("/"),a=null,i=1;if(!n.length)return[];if("."==n[0])a=[t];else{if(""!==n[0])return[];a=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(n[i].replace(/\[[^\]]*\]/g,"")),i++}for(;i<n.length;i++)a=this._getAllNamedChilds(a,n[i]);return-1!=n[i-1].indexOf("[")&&(a=this._filterXPath(a,n[i-1])),a},dtmlXMLLoaderObject.prototype._filterXPath=function(e,t){for(var n=[],a=(t=t.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,""),0);a<e.length;a++)e[a].getAttribute(t)&&(n[n.length]=e[a]);return n},dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(e,t){var n=[];_isKHTML&&(t=t.toUpperCase());for(var a=0;a<e.length;a++)for(var i=0;i<e[a].childNodes.length;i++)_isKHTML?e[a].childNodes[i].tagName&&e[a].childNodes[i].tagName.toUpperCase()==t&&(n[n.length]=e[a].childNodes[i]):e[a].childNodes[i].tagName==t&&(n[n.length]=e[a].childNodes[i]);return n},void 0===window.dhtmlxEvent&&(window.dhtmlxEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}),dtmlXMLLoaderObject.prototype.xslDoc=null,dtmlXMLLoaderObject.prototype.setXSLParamValue=function(e,t,n){n||(n=this.xslDoc),n.responseXML&&(n=n.responseXML);var a=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+e+"']",n,"http://www.w3.org/1999/XSL/Transform","single");a&&(a.firstChild.nodeValue=t)},dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(e,t){var n;if(e||(e=this.xslDoc),e.responseXML&&(e=e.responseXML),t||(t=this.xmlDoc),t.responseXML&&(t=t.responseXML),_isIE){n=new ActiveXObject("Msxml2.DOMDocument.3.0");try{t.transformNodeToObject(e,n)}catch(a){n=t.transformNode(e)}}else this.XSLProcessor||(this.XSLProcessor=new XSLTProcessor,this.XSLProcessor.importStylesheet(e)),n=this.XSLProcessor.transformToDocument(t);return n},dtmlXMLLoaderObject.prototype.doXSLTransToString=function(e,t){var n=this.doXSLTransToObject(e,t);return"string"==typeof n?n:this.doSerialization(n)},dtmlXMLLoaderObject.prototype.doSerialization=function(e){return e||(e=this.xmlDoc),e.responseXML&&(e=e.responseXML),_isIE?e.xml:(new XMLSerializer).serializeToString(e)},window.dhtmlxEventable=function(obj){obj.attachEvent=function(e,t,n){return this[e="ev_"+e.toLowerCase()]||(this[e]=new this.eventCatcher(n||this)),e+":"+this[e].addEvent(t)},obj.callEvent=function(e,t){return!this[e="ev_"+e.toLowerCase()]||this[e].apply(this,t)},obj.checkEvent=function(e){return!!this["ev_"+e.toLowerCase()]},obj.eventCatcher=function(obj){var dhx_catch=[],z=function(){for(var e=!0,t=0;t<dhx_catch.length;t++)if(dhx_catch[t]){var n=dhx_catch[t].apply(obj,arguments);e=e&&n}return e};return z.addEvent=function(ev){return"function"!=typeof ev&&(ev=eval(ev)),!!ev&&dhx_catch.push(ev)-1},z.removeEvent=function(e){dhx_catch[e]=null},z},obj.detachEvent=function(e){if(e){var t=e.split(":");this[t[0]].removeEvent(t[1])}},obj.detachAllEvents=function(){for(var e in this)0===e.indexOf("ev_")&&(this.detachEvent(e),this[e]=null)},obj=null},window.dhtmlx||(window.dhtmlx={}),function(){function u(t,n){setTimeout(function(){if(t.box){var e=t.callback;s(!1),t.box.parentNode.removeChild(t.box),dhtmlx.callEvent("onAfterMessagePopup",[t.box]),f=t.box=null,e&&e(n)}},1)}function o(e){if(f){var t=(e=e||event).which||event.keyCode,n=!1;if(dhtmlx.message.keyboard){if(13==t||32==t){var a=e.target||e.srcElement;-1<scheduler._getClassName(a).indexOf("dhtmlx_popup_button")&&a.click?a.click():(u(f,!0),n=!0)}27==t&&(u(f,!1),n=!0)}if(n)return e.preventDefault&&e.preventDefault(),!(e.cancelBubble=!0)}}function s(e){s.cover||(s.cover=document.createElement("div"),s.cover.onkeydown=o,s.cover.className="dhx_modal_cover",document.body.appendChild(s.cover)),document.body.scrollHeight,s.cover.style.display=e?"inline-block":"none"}function _(e,t,n){return"<div "+scheduler._waiAria.messageButtonAttrString(e)+"class='dhtmlx_popup_button dhtmlx_"+(n||e||"").toLowerCase().replace(/ /g,"_")+"_button' result='"+t+"' ><div>"+e+"</div></div>"}function i(e){p.area||(p.area=document.createElement("div"),p.area.className="dhtmlx_message_area",p.area.style[p.position]="5px",document.body.appendChild(p.area)),p.hide(e.id);var t=document.createElement("div");return t.innerHTML="<div>"+e.text+"</div>",t.className="dhtmlx-info dhtmlx-"+e.type,t.onclick=function(){p.hide(e.id),e=null},scheduler._waiAria.messageInfoAttr(t),"bottom"==p.position&&p.area.firstChild?p.area.insertBefore(t,p.area.firstChild):p.area.appendChild(t),0<e.expire&&(p.timers[e.id]=window.setTimeout(function(){p.hide(e.id)},e.expire)),p.pull[e.id]=t,t=null,e.id}function d(i,e,t){var n=document.createElement("div");n.className=" dhtmlx_modal_box dhtmlx-"+i.type,n.setAttribute("dhxbox",1);var a=scheduler.uid();scheduler._waiAria.messageModalAttr(n,a);var r="",o=!1;if(i.width&&(n.style.width=i.width),i.height&&(n.style.height=i.height),i.title&&(r+='<div class="dhtmlx_popup_title" id="'+a+'">'+i.title+"</div>",o=!0),r+='<div class="dhtmlx_popup_text" '+(o?"":' id="'+a+'" ')+"><span>"+(i.content?"":i.text)+'</span></div><div  class="dhtmlx_popup_controls">',e){var s=i.ok||scheduler.locale.labels.message_ok;void 0===s&&(s="OK"),r+=_(s,!0,"ok")}if(t){var d=i.cancel||scheduler.locale.labels.message_cancel;void 0===d&&(d="Cancel"),r+=_(d,!1,"cancel")}if(i.buttons)for(var l=0;l<i.buttons.length;l++)r+=_(i.buttons[l],l);if(r+="</div>",n.innerHTML=r,i.content){var c=i.content;"string"==typeof c&&(c=document.getElementById(c)),"none"==c.style.display&&(c.style.display=""),n.childNodes[i.title?1:0].appendChild(c)}return n.onclick=function(e){var t=(e=e||event).target||e.srcElement,n=scheduler._getClassName(t);if(n||(t=t.parentNode),"dhtmlx_popup_button"==(n=scheduler._getClassName(t)).split(" ")[0]){var a=t.getAttribute("result");u(i,a="true"==a||"false"!=a&&a)}},i.box=n,f=i,n}function t(e,t,n){var a=e.tagName?e:d(e,t,n);e.hidden||s(!0),document.body.appendChild(a);var i=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-a.offsetWidth)/2)),r=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-a.offsetHeight)/2));return"top"==e.position?a.style.top="-3px":a.style.top=r+"px",a.style.left=i+"px",a.onkeydown=o,dhtmlx.modalbox.focus(a),e.hidden&&dhtmlx.modalbox.hide(a),dhtmlx.callEvent("onMessagePopup",[a]),a}function r(e){return t(e,!0,!1)}function l(e){return t(e,!0,!0)}function c(e){return t(e)}function n(e,t,n){return"object"!=typeof e&&("function"==typeof t&&(n=t,t=""),e={text:e,type:t,callback:n}),e}function h(e,t,n,a){return"object"!=typeof e&&(e={text:e,type:t,expire:n,id:a}),e.id=e.id||p.uid(),e.expire=e.expire||p.expire,e}var f=null;document.attachEvent?document.attachEvent("onkeydown",o):document.addEventListener("keydown",o,!0),dhtmlx.alert=function(){var e=n.apply(this,arguments);return e.type=e.type||"confirm",r(e)},dhtmlx.confirm=function(){var e=n.apply(this,arguments);return e.type=e.type||"alert",l(e)},dhtmlx.modalbox=function(){var e=n.apply(this,arguments);return e.type=e.type||"alert",c(e)},dhtmlx.modalbox.hide=function(e){for(;e&&e.getAttribute&&!e.getAttribute("dhxbox");)e=e.parentNode;e&&(e.parentNode.removeChild(e),s(!1))},dhtmlx.modalbox.focus=function(t){setTimeout(function(){var e=scheduler._getFocusableNodes(t);e.length&&e[0].focus&&e[0].focus()},1)};var p=dhtmlx.message=function(e,t,n,a){switch((e=h.apply(this,arguments)).type=e.type||"info",e.type.split("-")[0]){case"alert":return r(e);case"confirm":return l(e);case"modalbox":return c(e);default:return i(e)}};p.seed=(new Date).valueOf(),p.uid=function(){return p.seed++},p.expire=4e3,p.keyboard=!0,p.position="top",p.pull={},p.timers={},p.hideAll=function(){for(var e in p.pull)p.hide(e)},p.hide=function(e){var t=p.pull[e];t&&t.parentNode&&(window.setTimeout(function(){t.parentNode.removeChild(t),t=null},2e3),t.className+=" hidden",p.timers[e]&&window.clearTimeout(p.timers[e]),delete p.pull[e])}}(),dhtmlx.attachEvent||dhtmlxEventable(dhtmlx);var dataProcessor=window.dataProcessor=function(e){return this.serverProcessor=e,this.action_param="!nativeeditor_status",this.object=null,this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._tMode="GET",this._headers=null,this._payload=null,this.post_delim="_",this._waitMode=0,this._in_progress={},this._invalid={},this.mandatoryFields=[],this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),dhtmlxEventable(this),this};dataProcessor.prototype={setTransactionMode:function(e,t){"object"==typeof e?(this._tMode=e.mode||this._tMode,void 0!==e.headers&&(this._headers=e.headers),void 0!==e.payload&&(this._payload=e.payload)):(this._tMode=e,this._tSend=t),"REST"==this._tMode&&(this._tSend=!1,this._endnm=!0),"JSON"==this._tMode&&(this._tSend=!1,this._endnm=!0,this._headers=this._headers||{},this._headers["Content-type"]="application/json")},escape:function(e){return this._utf?encodeURIComponent(e):escape(e)},enableUTFencoding:function(e){this._utf=!!e},setDataColumns:function(e){this._columns="string"==typeof e?e.split(","):e},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(e){this._endnm=!!e},enablePartialDataSend:function(e){this._changed=!!e},setUpdateMode:function(e,t){this.autoUpdate="cell"==e,this.updateMode=e,this.dnd=t},ignore:function(e,t){this._silent_mode=!0,e.call(t||window),this._silent_mode=!1},setUpdated:function(e,t,n){if(!this._silent_mode){var a=this.findRow(e);n=n||"updated";var i=this.obj.getUserData(e,this.action_param);i&&"updated"==n&&(n=i),t?(this.set_invalid(e,!1),this.updatedRows[a]=e,this.obj.setUserData(e,this.action_param,n),this._in_progress[e]&&(this._in_progress[e]="wait")):this.is_invalid(e)||(this.updatedRows.splice(a,1),this.obj.setUserData(e,this.action_param,"")),t||this._clearUpdateFlag(e),this.markRow(e,t,n),t&&this.autoUpdate&&this.sendData(e)}},_clearUpdateFlag:function(){},markRow:function(e,t,n){var a="",i=this.is_invalid(e);if(i&&(a=this.styles[i],t=!0),this.callEvent("onRowMark",[e,t,n,i])&&(a=this.styles[t?n:"clear"]+a,this.obj[this._methods[0]](e,a),i&&i.details)){a+=this.styles[i+"_cell"];for(var r=0;r<i.details.length;r++)i.details[r]&&this.obj[this._methods[1]](e,r,a)}},getState:function(e){return this.obj.getUserData(e,this.action_param)},is_invalid:function(e){return this._invalid[e]},set_invalid:function(e,t,n){n&&(t={value:t,details:n,toString:function(){return this.value.toString()}}),this._invalid[e]=t},checkBeforeUpdate:function(){return!0},sendData:function(e){if(!this._waitMode||"tree"!=this.obj.mytype&&!this.obj._h2){if(this.obj.editStop&&this.obj.editStop(),void 0===e||this._tSend)return this.sendAllData();if(this._in_progress[e])return!1;if(this.messages=[],!this.checkBeforeUpdate(e)&&this.callEvent("onValidationError",[e,this.messages]))return!1;this._beforeSendData(this._getRowData(e),e)}},_beforeSendData:function(e,t){if(!this.callEvent("onBeforeUpdate",[t,this.getState(t),e]))return!1;this._sendData(e,t)},serialize:function(e,t){if("string"==typeof e)return e;if(void 0!==t)return this.serialize_one(e,"");var n=[],a=[];for(var i in e)e.hasOwnProperty(i)&&(n.push(this.serialize_one(e[i],i+this.post_delim)),a.push(i));return n.push("ids="+this.escape(a.join(","))),(scheduler.security_key||dhtmlx.security_key)&&n.push("dhx_security="+(scheduler.security_key||dhtmlx.security_key)),n.join("&")},serialize_one:function(e,t){if("string"==typeof e)return e;var n=[];for(var a in e)if(e.hasOwnProperty(a)){if(("id"==a||a==this.action_param)&&"REST"==this._tMode)continue;n.push(this.escape((t||"")+a)+"="+this.escape(e[a]))}return n.join("&")},_applyPayload:function(e){var t=this.obj.$ajax;if(this._payload)for(var n in this._payload)e=e+t.urlSeparator(e)+this.escape(n)+"="+this.escape(this._payload[n]);return e},_sendData:function(a,i){if(a){if(!this.callEvent("onBeforeDataSending",i?[i,this.getState(i),a]:[null,null,a]))return!1;i&&(this._in_progress[i]=(new Date).valueOf());var r=this,e=function(e){var t=[];if(i)t.push(i);else if(a)for(var n in a)t.push(n);return r.afterUpdate(r,e,t)},t=this.obj.$ajax,n=this.serverProcessor+(this._user?t.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.obj.getUserData(0,"version")].join("&"):""),o=this._applyPayload(n);if("GET"==this._tMode)t.query({url:o+t.urlSeparator(o)+this.serialize(a,i),method:"GET",callback:e,headers:this._headers});else if("POST"==this._tMode)t.query({url:o,method:"POST",headers:this._headers,data:this.serialize(a,i),callback:e});else if("JSON"==this._tMode){var s=a[this.action_param],d={};for(var l in a)d[l]=a[l];delete d[this.action_param],delete d.id,delete d.gr_id,t.query({url:o,method:"POST",headers:this._headers,callback:e,data:JSON.stringify({id:i,action:s,data:d})})}else if("REST"==this._tMode){var c=this.getState(i),u=n.replace(/(\&|\?)editing\=true/,""),_=(d="","post");"inserted"==c?d=this.serialize(a,i):("deleted"==c?_="DELETE":(_="PUT",d=this.serialize(a,i)),u=u+("/"==u.slice(-1)?"":"/")+i),u=this._applyPayload(u),t.query({url:u,method:_,headers:this._headers,data:d,callback:e})}this._waitMode++}},sendAllData:function(){if(this.updatedRows.length){this.messages=[];for(var e=!0,t=0;t<this.updatedRows.length;t++)e&=this.checkBeforeUpdate(this.updatedRows[t]);if(!e&&!this.callEvent("onValidationError",["",this.messages]))return!1;if(this._tSend)this._sendData(this._getAllData());else for(t=0;t<this.updatedRows.length;t++)if(!this._in_progress[this.updatedRows[t]]){if(this.is_invalid(this.updatedRows[t]))continue;if(this._beforeSendData(this._getRowData(this.updatedRows[t]),this.updatedRows[t]),this._waitMode&&("tree"==this.obj.mytype||this.obj._h2))return}}},_getAllData:function(){for(var e={},t=!1,n=0;n<this.updatedRows.length;n++){var a=this.updatedRows[n];if(!this._in_progress[a]&&!this.is_invalid(a)){var i=this._getRowData(a);this.callEvent("onBeforeUpdate",[a,this.getState(a),i])&&(e[a]=i,t=!0,this._in_progress[a]=(new Date).valueOf())}}return t?e:null},setVerificator:function(e,t){this.mandatoryFields[e]=t||function(e){return""!==e}},clearVerificator:function(e){this.mandatoryFields[e]=!1},findRow:function(e){var t=0;for(t=0;t<this.updatedRows.length&&e!=this.updatedRows[t];t++);return t},defineAction:function(e,t){this._uActions||(this._uActions=[]),this._uActions[e]=t},afterUpdateCallback:function(e,t,n,a){var i=e,r="error"!=n&&"invalid"!=n;if(r||this.set_invalid(e,n),this._uActions&&this._uActions[n]&&!this._uActions[n](a))return delete this._in_progress[i];"wait"!=this._in_progress[i]&&this.setUpdated(e,!1);var o=e;switch(n){case"inserted":case"insert":t!=e&&(this.setUpdated(e,!1),this.obj[this._methods[2]](e,t),e=t);break;case"delete":case"deleted":return this.obj.setUserData(e,this.action_param,"true_deleted"),this.obj[this._methods[3]](e,t),delete this._in_progress[i],this.callEvent("onAfterUpdate",[e,n,t,a])}"wait"!=this._in_progress[i]?(r&&this.obj.setUserData(e,this.action_param,""),delete this._in_progress[i]):(delete this._in_progress[i],this.setUpdated(t,!0,this.obj.getUserData(e,this.action_param))),this.callEvent("onAfterUpdate",[o,n,t,a])},_errorResponse:function(e,t){return this.obj&&this.obj.callEvent&&this.obj.callEvent("onSaveError",[t,e.xmlDoc]),this.cleanUpdate(t)},afterUpdate:function(e,t,n){var a=this.obj.$ajax;if(200===t.xmlDoc.status){if(window.JSON){var i;try{i=JSON.parse(t.xmlDoc.responseText)}catch(e){t.xmlDoc.responseText.length||(i={})}if(i){var r=i.action||this.getState(n)||"updated",o=i.sid||n[0],s=i.tid||n[0];return e.afterUpdateCallback(o,s,r,i),void e.finalizeUpdate()}}var d=a.xmltop("data",t.xmlDoc);if(!d)return this._errorResponse(t,n);var l=a.xpath("//data/action",d);l.length||this._errorResponse(t,n);for(var c=0;c<l.length;c++){var u=l[c];r=u.getAttribute("type"),o=u.getAttribute("sid"),s=u.getAttribute("tid");e.afterUpdateCallback(o,s,r,u)}e.finalizeUpdate()}else this._errorResponse(t,n)},cleanUpdate:function(e){if(e)for(var t=0;t<e.length;t++)delete this._in_progress[e[t]]},finalizeUpdate:function(){this._waitMode&&this._waitMode--,("tree"==this.obj.mytype||this.obj._h2)&&this.updatedRows.length&&this.sendData(),this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(e){this.obj=e,this.obj._dp_init&&this.obj._dp_init(this)},setOnAfterUpdate:function(e){this.attachEvent("onAfterUpdate",e)},enableDebug:function(){},setOnBeforeUpdateHandler:function(e){this.attachEvent("onBeforeDataSending",e)},setAutoUpdate:function(e,t){e=e||2e3,this._user=t||(new Date).valueOf(),this._need_update=!1,this._update_busy=!1,this.attachEvent("onAfterUpdate",function(e,t,n,a){this.afterAutoUpdate(e,t,n,a)}),this.attachEvent("onFullSync",function(){this.fullSync()});var n=this;window.setInterval(function(){n.loadUpdate()},e)},afterAutoUpdate:function(e,t){return"collision"!=t||!(this._need_update=!0)},fullSync:function(){return this._need_update&&(this._need_update=!1,this.loadUpdate()),!0},getUpdates:function(e,t){var n=this.obj.$ajax;if(this._update_busy)return!1;this._update_busy=!0,n.get(e,t)},_v:function(e){return e.firstChild?e.firstChild.nodeValue:""},_a:function(e){for(var t=[],n=0;n<e.length;n++)t[n]=this._v(e[n]);return t},loadUpdate:function(){var s=this.obj.$ajax,d=this,e=this.obj.getUserData(0,"version"),t=this.serverProcessor+s.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+e].join("&");t=t.replace("editing=true&",""),this.getUpdates(t,function(e){var t=s.xpath("//userdata",e);d.obj.setUserData(0,"version",d._v(t[0]));var n=s.xpath("//update",e);if(n.length){d._silent_mode=!0;for(var a=0;a<n.length;a++){var i=n[a].getAttribute("status"),r=n[a].getAttribute("id"),o=n[a].getAttribute("parent");switch(i){case"inserted":d.callEvent("insertCallback",[n[a],r,o]);break;case"updated":d.callEvent("updateCallback",[n[a],r,o]);break;case"deleted":d.callEvent("deleteCallback",[n[a],r,o])}}d._silent_mode=!1}d._update_busy=!1,d=null})}},window.dataProcessor&&!dataProcessor.prototype.init_original&&(dataProcessor.prototype.init_original=dataProcessor.prototype.init,dataProcessor.prototype.init=function(e){this.init_original(e),(e._dataprocessor=this).setTransactionMode("POST",!0),this.serverProcessor+=(-1!=this.serverProcessor.indexOf("?")?"&":"?")+"editing=true"}),dhtmlxError.catchError("LoadXML",function(e,t,n){var a=n[0].responseText;switch(scheduler.config.ajax_error){case"alert":window.alert(a);break;case"console":window.console.log(a)}});var Scheduler={_seed:0,plugin:function(e){this._schedulerPlugins.push(e),e(window.scheduler)},_schedulerPlugins:[],getSchedulerInstance:function(){function a(e){var t=document.createElement("div");return(e||"").split(" ").forEach(function(e){t.classList.add(e)}),t}function i(e){var t;if(e.view)switch(e.view){case"today":case"next":case"prev":t=g.builtInButton;break;case"date":t=g.date;break;case"spacer":t=g.spacer;break;case"button":t=g.button;break;default:t=g.view}else e.rows?t=g.rows_container:e.cols&&(t=g.row);return t}function s(e){var t=i(e);if(t){var n=t(e);if(e.css&&n.classList.add(e.css),e.width)(a=e.width)===1*a&&(a+="px"),n.style.width=a;if(e.height)(a=e.height)===1*a&&(a+="px"),n.style.height=a;if(e.click&&n.addEventListener("click",e.click),e.html&&(n.innerHTML=e.html),e.align){var a="";"right"==e.align?a="flex-end":"left"==e.align&&(a="flex-start"),n.style.justifyContent=a}return n}}function d(e){return"string"==typeof e&&(e={view:e}),e.view||e.rows||e.cols||(e.view="button"),e}function l(e){var t,n=document.createDocumentFragment();t=Array.isArray(e)?e:[e];for(var a=0;a<t.length;a++){var i,r=d(t[a]);if("day"===r.view&&t[a+1])"week"!==(i=d(t[a+1])).view&&"month"!==i.view||(r.$firstTab=!0);if("month"===r.view&&t[a-1])"week"!==(i=d(t[a-1])).view&&"day"!==i.view||(r.$lastTab=!0);var o=s(r);n.appendChild(o),(r.cols||r.rows)&&o.appendChild(l(r.cols||r.rows))}return n}function r(e){return!!(e.querySelector(".dhx_cal_header")&&e.querySelector(".dhx_cal_data")&&e.querySelector(".dhx_cal_navline"))}function o(t){var n=["day","week","month"],e=["date"],a=["prev","today","next"];if(t.matrix)for(var i in t.matrix)n.push(i);if(t._props)for(var i in t._props)n.push(i);if(t._grid&&t._grid.names)for(var i in t._grid.names)n.push(i);return["map","agenda","week_agenda","year"].forEach(function(e){t[e+"_view"]&&n.push(e)}),n.concat(e).concat(a)}function c(e){return Array.isArray?Array.isArray(e):e&&void 0!==e.length&&e.pop&&e.push}function u(e){return e&&"object"==typeof e&&"function String() { [native code] }"===Function.prototype.toString.call(e.constructor)}function _(e){return e&&"object"==typeof e&&"function Number() { [native code] }"===Function.prototype.toString.call(e.constructor)}function h(e){return e&&"object"==typeof e&&"function Boolean() { [native code] }"===Function.prototype.toString.call(e.constructor)}function f(e){return!(!e||"object"!=typeof e||!(e.getFullYear&&e.getMonth&&e.getDate))}function e(){if(void 0===k){var e=document.createElement("div");e.style.position="absolute",e.style.left="-9999px",e.style.top="-9999px",e.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_scale_placeholder'></div><div>",document.body.appendChild(e);var t=window.getComputedStyle(e.querySelector(".dhx_cal_scale_placeholder")).getPropertyValue("position");k="absolute"===t,setTimeout(function(){k=null},500)}return k}function t(){if(N._is_material_skin())return!0;if(void 0!==E)return E;var e=document.createElement("div");e.style.position="absolute",e.style.left="-9999px",e.style.top="-9999px",e.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_data'><div class='dhx_cal_event'><div class='dhx_body'></div></div><div>",document.body.appendChild(e);var t=window.getComputedStyle(e.querySelector(".dhx_body")).getPropertyValue("box-sizing");document.body.removeChild(e),(E=!("border-box"!==t))||setTimeout(function(){E=void 0},1e3)}function n(){if(!N._is_material_skin()&&!N._border_box_events()){var e=E;k=E=void 0,e!==t()&&N.$container&&N.setCurrentView()}}var N={version:"5.3.6"},p={agenda:"https://docs.dhtmlx.com/scheduler/agenda_view.html",grid:"https://docs.dhtmlx.com/scheduler/grid_view.html",map:"https://docs.dhtmlx.com/scheduler/map_view.html",unit:"https://docs.dhtmlx.com/scheduler/units_view.html",timeline:"https://docs.dhtmlx.com/scheduler/timeline_view.html",week_agenda:"https://docs.dhtmlx.com/scheduler/weekagenda_view.html",year:"https://docs.dhtmlx.com/scheduler/year_view.html",anythingElse:"https://docs.dhtmlx.com/scheduler/views.html"},m={agenda:"ext/dhtmlxscheduler_agenda_view.js",grid:"ext/dhtmlxscheduler_grid_view.js",map:"ext/dhtmlxscheduler_map_view.js",unit:"ext/dhtmlxscheduler_units.js",timeline:"ext/dhtmlxscheduler_timeline.js, ext/dhtmlxscheduler_treetimeline.js, ext/dhtmlxscheduler_daytimeline.js",week_agenda:"ext/dhtmlxscheduler_week_agenda.js",year:"ext/dhtmlxscheduler_year_view.js",limit:"ext/dhtmlxscheduler_limit.js"};N._commonErrorMessages={unknownView:function(e){var t="Related docs: "+(p[e]||p.anythingElse),n=m[e]?"You're probably missing "+m[e]+".":"";return"`"+e+"` view is not defined. \nPlease check parameters you pass to `scheduler.init` or `scheduler.setCurrentView` in your code and ensure you've imported appropriate extensions. \n"+t+"\n"+(n?n+"\n":"")},collapsedContainer:function(){return"Scheduler container height is set to *100%* but the rendered height is zero and the scheduler is not visible. \nMake sure that the container has some initial height or use different units. For example:\n<div id='scheduler_here' class='dhx_cal_container' style='width:100%; height:600px;'> \n"}},N.createTimelineView=function(){throw new Error("scheduler.createTimelineView is not implemented. Be sure to add the required extension: "+m.timeline+"\nRelated docs: "+p.timeline)},N.createUnitsView=function(){throw new Error("scheduler.createUnitsView is not implemented. Be sure to add the required extension: "+m.unit+"\nRelated docs: "+p.unit)},N.createGridView=function(){throw new Error("scheduler.createGridView is not implemented. Be sure to add the required extension: "+m.grid+"\nRelated docs: "+p.grid)},N.addMarkedTimespan=function(){throw new Error("scheduler.addMarkedTimespan is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_limit.js\nRelated docs: https://docs.dhtmlx.com/scheduler/limits.html")},N.renderCalendar=function(){throw new Error("scheduler.renderCalendar is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_minical.js\nhttps://docs.dhtmlx.com/scheduler/minicalendar.html")},N.exportToPNG=function(){throw new Error(["scheduler.exportToPNG is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/png.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join("\n"))},N.exportToPDF=function(){throw new Error(["scheduler.exportToPDF is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/pdf.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join("\n"))},dhtmlxEventable(N);var g={rows_container:function(){return a("dhx_cal_navbar_rows_container")},row:function(){return a("dhx_cal_navbar_row")},view:function(e){var t=a("dhx_cal_tab");return t.setAttribute("name",e.view+"_tab"),t.setAttribute("data-viewname",e.view),N.config.fix_tab_position&&(e.$firstTab?t.classList.add("dhx_cal_tab_first"):e.$lastTab?t.classList.add("dhx_cal_tab_last"):"week"!==e.view&&t.classList.add("dhx_cal_tab_standalone")),t},date:function(){return a("dhx_cal_date")},button:function(){return a("dhx_cal_nav_button dhx_cal_nav_button_custom dhx_cal_tab")},builtInButton:function(e){return a("dhx_cal_"+e.view+"_button dhx_cal_nav_button")},spacer:function(){return a("dhx_cal_line_spacer")},html_element:function(){return a("dhx_cal_nav_content")}};N._init_nav_bar=function(e){var t=this.$container.querySelector(".dhx_cal_navline");return t||((t=document.createElement("div")).className="dhx_cal_navline dhx_cal_navline_flex",N._update_nav_bar(e,t),t)};var v=null,y=null;N._update_nav_bar=function(e,t){if(e){var n=!1,a=!1,i=e.height||N.xy.nav_height;null!==y&&y===i||(n=!0),v&&JSON.stringify(e)===v||(a=!0),n&&(N.xy.nav_height=i),a&&(t.innerHTML="",t.appendChild(l(e))),(n||a)&&(N._els=[],N.get_elements(),N.set_actions()),t.style.display=0===i?"none":"",y=i}},N._detachDomEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},N._init_once=function(){function t(e){for(var t=document.body;e&&e!=t;)e=e.parentNode;return!(t!=e)}function n(){return{
w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight}}function a(e,t){return e.w==t.w&&e.h==t.h}var i=n();N.event(window,"resize",function(){t(N._obj)&&(window.clearTimeout(N._resize_timer),N._resize_timer=window.setTimeout(function(){var e=n();if(!a(i,e)){if(!t(N._obj))return;N.callEvent("onSchedulerResize",[])&&(N.updateView(),N.callEvent("onAfterSchedulerResize",[]))}i=e},100))}),N._init_once=function(){}};var b,x={navbar:{render:function(e){return N._init_nav_bar(e)}},header:{render:function(){var e=document.createElement("div");return e.className="dhx_cal_header",e}},dataArea:{render:function(){var e=document.createElement("div");return e.className="dhx_cal_data",e}},html_element:{render:function(e){return e.html}}};if(N.init=function(e,t,n){if(t=t||N._currentDate(),n=n||"week",this._obj&&this.unset_actions(),this._obj="string"==typeof e?document.getElementById(e):e,this.$container=this._obj,!this.$container.offsetHeight&&this.$container.offsetWidth&&"100%"===this.$container.style.height&&window.console.error(N._commonErrorMessages.collapsedContainer(),this.$container),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&this.$container.setAttribute("role","application"),this.config.header||r(this.$container)||(this.config.header=o(this),console.log(["Required DOM elements are missing from the scheduler container and **scheduler.config.header** is not specified.","Using a default header configuration: ","scheduler.config.header = "+JSON.stringify(this.config.header,null,2),"Check this article for the details: https://docs.dhtmlx.com/scheduler/initialization.html"].join("\n"))),this.config.header)this.$container.innerHTML="",this.$container.classList.add("dhx_cal_container"),this.config.header.height&&(this.xy.nav_height=this.config.header.height),this.$container.appendChild(x.navbar.render(this.config.header)),this.$container.appendChild(x.header.render()),this.$container.appendChild(x.dataArea.render());else if(!r(this.$container))throw new Error(["Required DOM elements are missing from the scheduler container.","Be sure to either specify them manually in the markup: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviamarkup","Or to use **scheduler.config.header** setting so they could be created automatically: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviaheaderconfig"].join("\n"));this.config.rtl&&(this.$container.className+=" dhx_cal_container_rtl"),this._skin_init&&N._skin_init(),N.date.init(),this._scroll=!0,this._quirks=this.$env.isIE&&"BackCompat"==document.compatMode,this._quirks7=this.$env.isIE&&-1==navigator.appVersion.indexOf("MSIE 8"),this._els=[],this.get_elements(),this.init_templates(),this.set_actions(),this._init_once(),this._init_touch_events(),this.set_sizes(),N.callEvent("onSchedulerReady",[]),this.setCurrentView(t,n)},N.xy={min_event_height:40,scale_width:50,scroll_width:18,scale_height:20,month_scale_height:20,menu_width:25,margin_top:0,margin_left:0,editor_width:140,month_head_height:22,event_header_height:14},N.keys={edit_save:13,edit_cancel:27},N.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},N.set_sizes=function(){var e=this._x=this._obj.clientWidth-this.xy.margin_left,t=this._y=this._obj.clientHeight-this.xy.margin_top,n=this._table_view?0:this.xy.scale_width+this.xy.scroll_width,a=this._table_view?-1:this.xy.scale_width,i=this.$container.querySelector(".dhx_cal_scale_placeholder");N._is_material_skin()?(i||((i=document.createElement("div")).className="dhx_cal_scale_placeholder",this.$container.insertBefore(i,this._els.dhx_cal_header[0])),i.style.display="block",this.set_xy(i,e,this.xy.scale_height+1,0,this.xy.nav_height+(this._quirks?-1:1))):i&&i.parentNode.removeChild(i),this._lightbox&&(N.$container.offsetWidth<1200||this._setLbPosition(document.querySelector(".dhx_cal_light"))),this.set_xy(this._els.dhx_cal_navline[0],e,this.xy.nav_height,0,0),this.set_xy(this._els.dhx_cal_header[0],e-n,this.xy.scale_height,a,this.xy.nav_height+(this._quirks?-1:1));var r=this._els.dhx_cal_navline[0].offsetHeight;0<r&&(this.xy.nav_height=r);var o=this.xy.scale_height+this.xy.nav_height+(this._quirks?-2:0);this.set_xy(this._els.dhx_cal_data[0],e,t-(o+2),0,o+2)},N.set_xy=function(e,t,n,a,i){var r="left";e.style.width=Math.max(0,t)+"px",e.style.height=Math.max(0,n)+"px",3<arguments.length&&(this.config.rtl&&(r="right"),e.style[r]=a+"px",e.style.top=i+"px")},N.get_elements=function(){for(var e=this._obj.getElementsByTagName("DIV"),t=0;t<e.length;t++){var n=N._getClassName(e[t]),a=e[t].getAttribute("name")||"";n&&(n=n.split(" ")[0]),this._els[n]||(this._els[n]=[]),this._els[n].push(e[t]);var i=N.locale.labels[a||n];"string"!=typeof i&&a&&!e[t].innerHTML&&(i=a.split("_")[0]),i&&(this._waiAria.labelAttr(e[t],i),e[t].innerHTML=i)}},N.unset_actions=function(){for(var e in this._els)if(this._click[e])for(var t=0;t<this._els[e].length;t++)this._els[e][t].onclick=null;this._obj.onselectstart=null,this._obj.onmousemove=null,this._obj.onmousedown=null,this._obj.onmouseup=null,this._obj.ondblclick=null,this._obj.oncontextmenu=null},N.set_actions=function(){for(var e in this._els)if(this._click[e])for(var t=0;t<this._els[e].length;t++)this._els[e][t].onclick=N._click[e];this._obj.onselectstart=function(){return!1},this._obj.onmousemove=function(e){N._temp_touch_block||N._on_mouse_move(e||event)},this._obj.onmousedown=function(e){N._ignore_next_click||N._on_mouse_down(e||event)},this._obj.onmouseup=function(e){N._ignore_next_click||N._on_mouse_up(e||event)},this._obj.ondblclick=function(e){N._on_dbl_click(e||event)},this._obj.oncontextmenu=function(e){var t=e||event,n=t.target||t.srcElement;return N.callEvent("onContextMenu",[N._locate_event(n),t])}},N.select=function(e){this._select_id!=e&&(N._close_not_saved(),this.editStop(!1),this.unselect(),this._select_id=e,this.updateEvent(e))},N.unselect=function(e){if(!e||e==this._select_id){var t=this._select_id;this._select_id=null,t&&this.getEvent(t)&&this.updateEvent(t)}},N.getState=function(){return{mode:this._mode,date:new Date(this._date),min_date:new Date(this._min_date),max_date:new Date(this._max_date),editor_id:this._edit_id,lightbox_id:this._lightbox_id,new_event:this._new_event,select_id:this._select_id,expanded:this.expanded,drag_id:this._drag_id,drag_mode:this._drag_mode}},N._click={dhx_cal_data:function(e){if(N._ignore_next_click)return e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,N._ignore_next_click=!1;var t=e?e.target:event.srcElement,n=N._locate_event(t);if(e=e||event,n){if(!N.callEvent("onClick",[n,e])||N.config.readonly)return}else N.callEvent("onEmptyClick",[N.getActionData(e).date,e]);if(n&&N.config.select){N.select(n);var a=N._getClassName(t);-1!=a.indexOf("_icon")&&N._click.buttons[a.split(" ")[1].replace("icon_","")](n)}else N._close_not_saved(),500<(new Date).valueOf()-(N._new_event||0)&&N.unselect()},dhx_cal_prev_button:function(){N._click.dhx_cal_next_button(0,-1)},dhx_cal_next_button:function(e,t){var n=1;N.config.rtl&&(t=-t,n=-n),N.setCurrentView(N.date.add(N.date[N._mode+"_start"](new Date(N._date)),t||n,N._mode))},dhx_cal_today_button:function(){N.callEvent("onBeforeTodayDisplayed",[])&&N.setCurrentView(N._currentDate())},dhx_cal_tab:function(){var e=this.getAttribute("name"),t=e.substring(0,e.search("_tab"));N.setCurrentView(N._date,t)},buttons:{"delete":function(e){var t=N.locale.labels.confirm_deleting;N._dhtmlx_confirm(t,N.locale.labels.title_confirm_deleting,function(){N.deleteEvent(e)})},edit:function(e){N.edit(e)},save:function(){N.editStop(!0)},details:function(e){N.showLightbox(e)},cancel:function(){N.editStop(!1)}}},N._dhtmlx_confirm=function(e,t,n){if(!e)return n();var a={text:e};t&&(a.title=t),n&&(a.callback=function(e){e&&n()}),dhtmlx.confirm(a)},N.addEventNow=function(e,t,n){var a={};N._isObject(e)&&!N._isDate(e)&&(a=e,e=null);var i=6e4*(this.config.event_duration||this.config.time_step);e||(e=a.start_date||Math.round(N._currentDate().valueOf()/i)*i);var r=new Date(e);if(!t){var o=this.config.first_hour;o>r.getHours()&&(r.setHours(o),e=r.valueOf()),t=e.valueOf()+i}var s=new Date(t);r.valueOf()==s.valueOf()&&s.setTime(s.valueOf()+i),a.start_date=a.start_date||r,a.end_date=a.end_date||s,a.text=a.text||this.locale.labels.new_event,a.id=this._drag_id=a.id||this.uid(),this._drag_mode="new-size",this._loading=!0;var d=this.addEvent(a);return this.callEvent("onEventCreated",[this._drag_id,n]),this._loading=!1,this._drag_event={},this._on_mouse_up(n),d},N._on_dbl_click=function(e,t){if(t=t||e.target||e.srcElement,!this.config.readonly){var n=N._getClassName(t).split(" ")[0];switch(n){case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_wa_day_data":if(!N.config.dblclick_create)break;this.addEventNow(this.getActionData(e).date,null,e);break;case"dhx_cal_event":case"dhx_wa_ev_body":case"dhx_agenda_line":case"dhx_grid_event":case"dhx_cal_event_line":case"dhx_cal_event_clear":var a=this._locate_event(t);if(!this.callEvent("onDblClick",[a,e]))return;this.config.details_on_dblclick||this._table_view||!this.getEvent(a)._timed||!this.config.select?this.showLightbox(a):this.edit(a);break;case"dhx_time_block":case"dhx_cal_container":return;default:var i=this["dblclick_"+n];if(i)i.call(this,e);else if(t.parentNode&&t!=this)return N._on_dbl_click(e,t.parentNode)}}},N._get_column_index=function(e){var t=0;if(this._cols){for(var n=0,a=0;n+this._cols[a]<e&&a<this._cols.length;)n+=this._cols[a],a++;if(t=a+(this._cols[a]?(e-n)/this._cols[a]:0),this._ignores&&t>=this._cols.length)for(;1<=t&&this._ignores[Math.floor(t)];)t--}return t},N._week_indexes_from_pos=function(e){if(this._cols){var t=this._get_column_index(e.x);return e.x=Math.min(this._cols.length-1,Math.max(0,Math.ceil(t)-1)),e.y=Math.max(0,Math.ceil(60*e.y/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step),e}return e},N._mouse_coords=function(e){var t,n=document.body,a=document.documentElement;t=this.$env.isIE||!e.pageX&&!e.pageY?{x:e.clientX+(n.scrollLeft||a.scrollLeft||0)-n.clientLeft,y:e.clientY+(n.scrollTop||a.scrollTop||0)-n.clientTop}:{x:e.pageX,y:e.pageY},this.config.rtl&&this._colsS?(t.x=this.$container.querySelector(".dhx_cal_data").offsetWidth-t.x,"month"!==this._mode&&(t.x-=this.xy.scale_width)):t.x-=this.$domHelpers.getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width),t.y-=this.$domHelpers.getAbsoluteTop(this._obj)+this.xy.nav_height+(this._dy_shift||0)+this.xy.scale_height-this._els.dhx_cal_data[0].scrollTop,t.ev=e;var i=this["mouse_"+this._mode];if(i)t=i.call(this,t);else if(this._table_view){var r=this._get_column_index(t.x);if(!this._cols||!this._colsS)return t;var o=0;for(o=1;o<this._colsS.heights.length&&!(this._colsS.heights[o]>t.y);o++);t.y=Math.ceil(24*(Math.max(0,r)+7*Math.max(0,o-1))*60/this.config.time_step),(N._drag_mode||"month"==this._mode)&&(t.y=24*(Math.max(0,Math.ceil(r)-1)+7*Math.max(0,o-1))*60/this.config.time_step),"move"==this._drag_mode&&N._ignores_detected&&N.config.preserve_length&&(t._ignores=!0,this._drag_event._event_length||(this._drag_event._event_length=this._get_real_event_length(this._drag_event.start_date,this._drag_event.end_date,{x_step:1,x_unit:"day"}))),t.x=0}else t=this._week_indexes_from_pos(t);return t.timestamp=+new Date,t},N._close_not_saved=function(){if(500<(new Date).valueOf()-(N._new_event||0)&&N._edit_id){var e=N.locale.labels.confirm_closing;N._dhtmlx_confirm(e,N.locale.labels.title_confirm_closing,function(){N.editStop(N.config.positive_closing)}),e&&(this._drag_id=this._drag_pos=this._drag_mode=null)}},N._correct_shift=function(e,t){return e-6e4*(new Date(N._min_date).getTimezoneOffset()-new Date(e).getTimezoneOffset())*(t?-1:1)},N._is_pos_changed=function(e,t){function n(e,t,n){return!!(Math.abs(e-t)>n)}if(!e||!this._drag_pos)return!0;var a=5;return!!(this._drag_pos.has_moved||!this._drag_pos.timestamp||100<t.timestamp-this._drag_pos.timestamp||n(e.ev.clientX,t.ev.clientX,a)||n(e.ev.clientY,t.ev.clientY,a))},N._correct_drag_start_date=function(e){var t;N.matrix&&(t=N.matrix[N._mode]),t=t||{x_step:1,x_unit:"day"},e=new Date(e);var n=1;return(t._start_correction||t._end_correction)&&(n=60*(t.last_hour||0)-(60*e.getHours()+e.getMinutes())||1),1*e+(N._get_fictional_event_length(e,n,t)-n)},N._correct_drag_end_date=function(e,t){var n;N.matrix&&(n=N.matrix[N._mode]),n=n||{x_step:1,x_unit:"day"};var a=1*e+N._get_fictional_event_length(e,t,n);return new Date(1*a-(N._get_fictional_event_length(a,-1,n,-1)+1))},N._on_mouse_move=function(e){if(this._drag_mode){var t=this._mouse_coords(e);if(this._is_pos_changed(this._drag_pos,t)){var n,a;if(this._edit_id!=this._drag_id&&this._close_not_saved(),!this._drag_mode)return;var i=null;if(this._drag_pos&&!this._drag_pos.has_moved&&((i=this._drag_pos).has_moved=!0),this._drag_pos=t,this._drag_pos.has_moved=!0,"create"==this._drag_mode){if(i&&(t=i),this._close_not_saved(),this.unselect(this._select_id),this._loading=!0,n=this._get_date_from_pos(t).valueOf(),!this._drag_start)return this.callEvent("onBeforeEventCreated",[e,this._drag_id])?(this._loading=!1,void(this._drag_start=n)):void(this._loading=!1);a=n,this._drag_start;var r=new Date(this._drag_start),o=new Date(a);"day"!=this._mode&&"week"!=this._mode||r.getHours()!=o.getHours()||r.getMinutes()!=o.getMinutes()||(o=new Date(this._drag_start+1e3)),this._drag_id=this.uid(),this.addEvent(r,o,this.locale.labels.new_event,this._drag_id,t.fields),this.callEvent("onEventCreated",[this._drag_id,e]),this._loading=!1,this._drag_mode="new-size"}var s,d=this.config.time_step,l=this.getEvent(this._drag_id);if(N.matrix&&(s=N.matrix[N._mode]),s=s||{x_step:1,x_unit:"day"},"move"==this._drag_mode)n=this._min_date.valueOf()+6e4*(t.y*this.config.time_step+24*t.x*60),!t.custom&&this._table_view&&(n+=1e3*this.date.time_part(l.start_date)),!this._table_view&&this._dragEventBody&&void 0===this._drag_event._move_event_shift&&(this._drag_event._move_event_shift=n-l.start_date),this._drag_event._move_event_shift&&(n-=this._drag_event._move_event_shift),n=this._correct_shift(n),t._ignores&&this.config.preserve_length&&this._table_view?(n=N._correct_drag_start_date(n),a=N._correct_drag_end_date(n,this._drag_event._event_length)):a=l.end_date.valueOf()-(l.start_date.valueOf()-n);else{if(n=l.start_date.valueOf(),a=l.end_date.valueOf(),this._table_view){var c=this._min_date.valueOf()+t.y*this.config.time_step*6e4+(t.custom?0:864e5);if("month"==this._mode)if(c=this._correct_shift(c,!1),this._drag_from_start){var u=864e5;c<=N.date.date_part(new Date(a+u-1)).valueOf()&&(n=c-u)}else a=c;else this.config.preserve_length?t.resize_from_start?n=N._correct_drag_start_date(c):a=N._correct_drag_end_date(c,0):t.resize_from_start?n=c:a=c}else{var _=this.date.date_part(new Date(l.end_date.valueOf()-1)).valueOf(),h=new Date(_),f=this.config.first_hour,p=60/d*(this.config.last_hour-f);this.config.time_step=1;var m=this._mouse_coords(e);this.config.time_step=d;var g=t.y*d*6e4,v=Math.min(t.y+1,p)*d*6e4,y=6e4*m.y;a=Math.abs(g-y)>Math.abs(v-y)?_+v:_+g,a+=6e4*(new Date(a).getTimezoneOffset()-h.getTimezoneOffset()),this._els.dhx_cal_data[0].style.cursor="s-resize","week"!=this._mode&&"day"!=this._mode||(a=this._correct_shift(a))}if("new-size"==this._drag_mode)if(a<=this._drag_start){var b=t.shift||(this._table_view&&!t.custom?864e5:0);n=a-(t.shift?0:b),a=this._drag_start+(b||6e4*d)}else n=this._drag_start;else a<=n&&(a=n+6e4*d)}var x=new Date(a-1),w=new Date(n);if("move"==this._drag_mode&&N.config.limit_drag_out&&(+w<+N._min_date||+a>+N._max_date)){if(+l.start_date<+N._min_date||+l.end_date>+N._max_date)w=new Date(l.start_date),a=new Date(l.end_date);else{var k=a-w;+w<+N._min_date?(w=new Date(N._min_date),t._ignores&&this.config.preserve_length&&this._table_view?(w=new Date(N._correct_drag_start_date(w)),s._start_correction&&(w=new Date(w.valueOf()+s._start_correction)),a=new Date(1*w+this._get_fictional_event_length(w,this._drag_event._event_length,s))):a=new Date(+w+k)):(a=new Date(N._max_date),t._ignores&&this.config.preserve_length&&this._table_view?(s._end_correction&&(a=new Date(a.valueOf()-s._end_correction)),a=new Date(1*a-this._get_fictional_event_length(a,0,s,!0)),w=new Date(1*a-this._get_fictional_event_length(a,this._drag_event._event_length,s,!0)),this._ignores_detected&&(w=N.date.add(w,s.x_step,s.x_unit),a=new Date(1*a-this._get_fictional_event_length(a,0,s,!0)),a=N.date.add(a,s.x_step,s.x_unit))):w=new Date(+a-k))}x=new Date(a-1)}if(!this._table_view&&this._dragEventBody&&!N.config.all_timed&&(!N._get_section_view()&&t.x!=this._get_event_sday({start_date:new Date(n),end_date:new Date(n)})||new Date(n).getHours()<this.config.first_hour)){k=a-w;if("move"==this._drag_mode){u=this._min_date.valueOf()+24*t.x*60*6e4;(w=new Date(u)).setHours(this.config.first_hour),a=new Date(w.valueOf()+k),x=new Date(a-1)}}if(!this._table_view&&!N.config.all_timed&&(!N.getView()&&t.x!=this._get_event_sday({start_date:new Date(a),end_date:new Date(a)})||new Date(a).getHours()>=this.config.last_hour)){k=a-w,u=this._min_date.valueOf()+24*t.x*60*6e4;(a=N.date.date_part(new Date(u))).setHours(this.config.last_hour),x=new Date(a-1),"move"==this._drag_mode&&(w=new Date(+a-k))}if(this._table_view||x.getDate()==w.getDate()&&x.getHours()<this.config.last_hour||N._allow_dnd)if(l.start_date=w,l.end_date=new Date(a),this.config.update_render){var E=N._els.dhx_cal_data[0].scrollTop;this.update_view(),N._els.dhx_cal_data[0].scrollTop=E}else this.updateEvent(this._drag_id);this._table_view&&this.for_rendered(this._drag_id,function(e){e.className+=" dhx_in_move dhx_cal_event_drag"}),this.callEvent("onEventDrag",[this._drag_id,this._drag_mode,e])}}else if(N.checkEvent("onMouseMove")){var S=this._locate_event(e.target||e.srcElement);this.callEvent("onMouseMove",[S,e])}},N._on_mouse_down=function(e,t){if(2!=e.button&&!this.config.readonly&&!this._drag_mode){t=t||e.target||e.srcElement;var n=N._getClassName(t).split(" ")[0];switch(this.config.drag_event_body&&"dhx_body"==n&&t.parentNode&&-1===t.parentNode.className.indexOf("dhx_cal_select_menu")&&(n="dhx_event_move",this._dragEventBody=!0),n){case"dhx_cal_event_line":case"dhx_cal_event_clear":this._table_view&&(this._drag_mode="move");break;case"dhx_event_move":case"dhx_wa_ev_body":this._drag_mode="move";break;case"dhx_event_resize":this._drag_mode="resize",N._getClassName(t).indexOf("dhx_event_resize_end")<0?N._drag_from_start=!0:N._drag_from_start=!1;break;case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_matrix_cell":case"dhx_marked_timespan":this._drag_mode="create";break;case"":if(t.parentNode)return N._on_mouse_down(e,t.parentNode);break;default:if((!N.checkEvent("onMouseDown")||N.callEvent("onMouseDown",[n,e]))&&t.parentNode&&t!=this&&"dhx_body"!=n)return N._on_mouse_down(e,t.parentNode);this._drag_mode=null,this._drag_id=null}if(this._drag_mode){var a=this._locate_event(t);if(this.config["drag_"+this._drag_mode]&&this.callEvent("onBeforeDrag",[a,this._drag_mode,e])){if(this._drag_id=a,(this._edit_id!=this._drag_id||this._edit_id&&"create"==this._drag_mode)&&this._close_not_saved(),!this._drag_mode)return;this._drag_event=N._lame_clone(this.getEvent(this._drag_id)||{}),this._drag_pos=this._mouse_coords(e)}else this._drag_mode=this._drag_id=0}this._drag_start=null}},N._get_private_properties=function(e){var t={};for(var n in e)0===n.indexOf("_")&&(t[n]=!0);return t},N._clear_temporary_properties=function(e,t){var n=this._get_private_properties(e),a=this._get_private_properties(t);for(var i in a)n[i]||delete t[i]},N._on_mouse_up=function(e){if(!e||2!=e.button||!this._mobile){if(this._drag_mode&&this._drag_id){this._els.dhx_cal_data[0].style.cursor="default";var t=this._drag_id,n=this._drag_mode,a=!this._drag_pos||this._drag_pos.has_moved;delete this._drag_event._move_event_shift;var i=this.getEvent(this._drag_id);if(a&&(this._drag_event._dhx_changed||!this._drag_event.start_date||i.start_date.valueOf()!=this._drag_event.start_date.valueOf()||i.end_date.valueOf()!=this._drag_event.end_date.valueOf())){var r="new-size"==this._drag_mode;if(this.callEvent("onBeforeEventChanged",[i,e,r,this._drag_event]))if(this._drag_id=this._drag_mode=null,r&&this.config.edit_on_create){if(this.unselect(),this._new_event=new Date,this._table_view||this.config.details_on_create||!this.config.select||!this.isOneDayEvent(this.getEvent(t)))return N.callEvent("onDragEnd",[t,n,e]),this.showLightbox(t);this._drag_pos=!0,this._select_id=this._edit_id=t}else this._new_event||this.callEvent(r?"onEventAdded":"onEventChanged",[t,this.getEvent(t)]);else r?this.deleteEvent(i.id,!0):(this._drag_event._dhx_changed=!1,this._clear_temporary_properties(i,this._drag_event),N._lame_copy(i,this._drag_event),this.updateEvent(i.id))}this._drag_pos&&(this._drag_pos.has_moved||!0===this._drag_pos)&&(this._drag_id=this._drag_mode=null,this.render_view_data()),N.callEvent("onDragEnd",[t,n,e])}this._drag_id=null,this._drag_mode=null,this._drag_pos=null}},N._trigger_dyn_loading=function(){return!(!this._load_mode||!this._load()||(this._render_wait=!0,0))},N.update_view=function(){this._reset_ignores(),this._update_nav_bar(this.config.header,this.$container.querySelector(".dhx_cal_navline"));var e=this[this._mode+"_view"];if(e?e(!0):this._reset_scale(),this._trigger_dyn_loading())return!0;this.render_view_data()},N.isViewExists=function(e){return!!(N[e+"_view"]||N.date[e+"_start"]&&N.templates[e+"_date"]&&N.templates[e+"_scale_date"])},N._set_aria_buttons_attrs=function(){for(var e=["dhx_cal_next_button","dhx_cal_prev_button","dhx_cal_tab","dhx_cal_today_button"],t=0;t<e.length;t++)for(var n=this._els[e[t]],a=0;n&&a<n.length;a++){var i=n[a].getAttribute("name"),r=this.locale.labels[e[t]];i&&(r=this.locale.labels[i]||r),"dhx_cal_next_button"==e[t]?r=this.locale.labels.next:"dhx_cal_prev_button"==e[t]&&(r=this.locale.labels.prev),this._waiAria.headerButtonsAttributes(n[a],r||"")}},N.updateView=function(e,t){if(!this.$container)throw new Error("The scheduler is not initialized. \n **scheduler.updateView** or **scheduler.setCurrentView** can be called only after **scheduler.init**");e=e||this._date,t=t||this._mode;var n="dhx_cal_data",a=this._obj,i="dhx_scheduler_"+this._mode,r="dhx_scheduler_"+t;this._mode&&-1!=a.className.indexOf(i)?a.className=a.className.replace(i,r):a.className+=" "+r;var o,s="dhx_multi_day",d=!(this._mode!=t||!this.config.preserve_scroll)&&this._els[n][0].scrollTop;this._els[s]&&this._els[s][0]&&(o=this._els[s][0].scrollTop),this[this._mode+"_view"]&&t&&this._mode!=t&&this[this._mode+"_view"](!1),this._close_not_saved(),this._els[s]&&(this._els[s][0].parentNode.removeChild(this._els[s][0]),this._els[s]=null),this._mode=t,this._date=e,this._table_view="month"==this._mode,this._dy_shift=0,this.update_view(),this._set_aria_buttons_attrs();var l=this._els.dhx_cal_tab;if(l)for(var c=0;c<l.length;c++){var u=l[c];u.getAttribute("name")==this._mode+"_tab"?(u.classList.add("active"),this._waiAria.headerToggleState(u,!0)):(u.classList.remove("active"),this._waiAria.headerToggleState(u,!1))}"number"==typeof d&&(this._els[n][0].scrollTop=d),"number"==typeof o&&this._els[s]&&this._els[s][0]&&(this._els[s][0].scrollTop=o)},N.setCurrentView=function(e,t){this.callEvent("onBeforeViewChange",[this._mode,this._date,t||this._mode,e||this._date])&&(this.updateView(e,t),this.callEvent("onViewChange",[this._mode,this._date]))},N.render=function(e,t){N.setCurrentView(e,t)},N._render_x_header=function(e,t,n,a,i){i=i||0;var r=document.createElement("div");r.className="dhx_scale_bar",this.templates[this._mode+"_scalex_class"]&&(r.className+=" "+this.templates[this._mode+"_scalex_class"](n));var o=this._cols[e]-1;"month"==this._mode&&0===e&&this.config.left_border&&(r.className+=" dhx_scale_bar_border",t+=1),this.set_xy(r,o,this.xy.scale_height-2,t,i);var s=this.templates[this._mode+"_scale_date"](n,this._mode);r.innerHTML=s,this._waiAria.dayHeaderAttr(r,s),a.appendChild(r)},N._get_columns_num=function(e,t){var n=7;if(!N._table_view){var a=N.date["get_"+N._mode+"_end"];a&&(t=a(e)),n=Math.round((t.valueOf()-e.valueOf())/864e5)}return n},N._get_timeunit_start=function(){return this.date[this._mode+"_start"](new Date(this._date.valueOf()))},N._get_view_end=function(){var e=this._get_timeunit_start(),t=N.date.add(e,1,this._mode);if(!N._table_view){var n=N.date["get_"+N._mode+"_end"];n&&(t=n(e))}return t},N._calc_scale_sizes=function(e,t,n){var a=this.config.rtl,i=e,r=this._get_columns_num(t,n);this._process_ignores(t,r,"day",1);for(var o=r-this._ignores_detected,s=0;s<r;s++)this._ignores[s]?(this._cols[s]=0,o++):this._cols[s]=Math.floor(i/(o-s)),i-=this._cols[s],this._colsS[s]=(this._cols[s-1]||0)+(this._colsS[s-1]||(this._table_view?0:(a?this.xy.scroll_width:this.xy.scale_width)+2));this._colsS.col_length=r,this._colsS[r]=this._cols[r-1]+this._colsS[r-1]||0},N._set_scale_col_size=function(e,t,n){var a=this.config;this.set_xy(e,t-1,a.hour_size_px*(a.last_hour-a.first_hour),n+this.xy.scale_width+1,0)},N._render_scales=function(e,t){var n=new Date(N._min_date),a=new Date(N._max_date),i=this.date.date_part(N._currentDate()),r=parseInt(e.style.width,10),o=new Date(this._min_date),s=this._get_columns_num(n,a);this._calc_scale_sizes(r,n,a);var d=0;e.innerHTML="";for(var l=0;l<s;l++){if(this._ignores[l]||this._render_x_header(l,d,o,e),!this._table_view){var c=document.createElement("div"),u="dhx_scale_holder";o.valueOf()==i.valueOf()&&(u="dhx_scale_holder_now"),c.setAttribute("data-column-index",l),this._ignores_detected&&this._ignores[l]&&(u+=" dhx_scale_ignore"),c.className=u+" "+this.templates.week_date_class(o,i),this._waiAria.dayColumnAttr(c,o),this._set_scale_col_size(c,this._cols[l],d),t.appendChild(c),this.callEvent("onScaleAdd",[c,o])}d+=this._cols[l],o=this.date.add(o,1,"day"),o=this.date.day_start(o)}},N._getNavDateElement=function(){return this.$container.querySelector(".dhx_cal_date")},N._reset_scale=function(){if(this.templates[this._mode+"_date"]){var e=this._els.dhx_cal_header[0],t=this._els.dhx_cal_data[0],n=this.config;e.innerHTML="",t.innerHTML="";var a=(n.readonly||!n.drag_resize?" dhx_resize_denied":"")+(n.readonly||!n.drag_move?" dhx_move_denied":"");t.className="dhx_cal_data"+a,this._scales={},this._cols=[],this._colsS={height:0},this._dy_shift=0,this.set_sizes();var i,r,o=this._get_timeunit_start(),s=N._get_view_end();i=r=this._table_view?N.date.week_start(o):o,this._min_date=i;var d=this.templates[this._mode+"_date"](o,s,this._mode),l=this._getNavDateElement();if(l&&(l.innerHTML=d,this._waiAria.navBarDateAttr(l,d)),this._max_date=s,N._render_scales(e,t),this._table_view)this._reset_month_scale(t,o,r);else if(this._reset_hours_scale(t,o,r),n.multi_day){var c="dhx_multi_day";this._els[c]&&(this._els[c][0].parentNode.removeChild(this._els[c][0]),this._els[c]=null);var u=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+1,_=document.createElement("div");_.className=c,_.style.visibility="hidden";var h=this._colsS[this._colsS.col_length],f=n.rtl?this.xy.scale_width:this.xy.scroll_width,p=Math.max(h+f-2,0);this.set_xy(_,p,0,0,u),t.parentNode.insertBefore(_,t);var m=_.cloneNode(!0);m.className=c+"_icon",m.style.visibility="hidden",this.set_xy(m,this.xy.scale_width,0,0,u),_.appendChild(m),this._els[c]=[_,m],this._els[c][0].onclick=this._click.dhx_cal_data}}},N._reset_hours_scale=function(e){var t=document.createElement("div");t.className="dhx_scale_holder";for(var n=new Date(1980,1,1,this.config.first_hour,0,0),a=1*this.config.first_hour;a<this.config.last_hour;a++){var i=document.createElement("div");i.className="dhx_scale_hour",i.style.height=this.config.hour_size_px+"px";var r=this.xy.scale_width;this.config.left_border&&(i.className+=" dhx_scale_hour_border"),i.style.width=r+"px";var o=N.templates.hour_scale(n);i.innerHTML=o,this._waiAria.hourScaleAttr(i,o),t.appendChild(i),n=this.date.add(n,1,"hour")}e.appendChild(t),this.config.scroll_hour&&(e.scrollTop=this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour))},N._currentDate=function(){return N.config.now_date?new Date(N.config.now_date):new Date},N._reset_ignores=function(){this._ignores={},this._ignores_detected=0},N._process_ignores=function(e,t,n,a,i){this._reset_ignores();var r=N["ignore_"+this._mode];if(r)for(var o=new Date(e),s=0;s<t;s++)r(o)&&(this._ignores_detected+=1,this._ignores[s]=!0,i&&t++),o=N.date.add(o,a,n),N.date[n+"_start"]&&(o=N.date[n+"_start"](o))},N._render_month_scale=function(e,t,n,a){function i(e){var t=N._colsS.height;return void 0!==N._colsS.heights[e+1]&&(t=N._colsS.heights[e+1]-(N._colsS.heights[e]||0)),t}var r=N.date.add(t,1,"month"),o=new Date(n),s=N._currentDate();this.date.date_part(s),this.date.date_part(n),a=a||Math.ceil(Math.round((r.valueOf()-n.valueOf())/864e5)/7);for(var d=[],l=0;l<=7;l++){var c=(this._cols[l]||0)-1;0===l&&this.config.left_border&&(c-=1),d[l]=c+"px"}var u=0,_=document.createElement("table");_.setAttribute("cellpadding","0"),_.setAttribute("cellspacing","0");var h=document.createElement("tbody");_.appendChild(h);var f=[];for(l=0;l<a;l++){var p=document.createElement("tr");h.appendChild(p);for(var m=Math.max(i(l)-N.xy.month_head_height,0),g=0;g<7;g++){var v=document.createElement("td");p.appendChild(v);var y="";n<t?y="dhx_before":r<=n?y="dhx_after":n.valueOf()==s.valueOf()&&(y="dhx_now"),this._ignores_detected&&this._ignores[g]&&(y+=" dhx_scale_ignore"),v.className=y+" "+this.templates.month_date_class(n,s),v.setAttribute("data-cell-date",N.templates.format_date(n));var b="dhx_month_body",x="dhx_month_head";if(0===g&&this.config.left_border&&(b+=" dhx_month_body_border",x+=" dhx_month_head_border"),this._ignores_detected&&this._ignores[g])v.appendChild(document.createElement("div")),v.appendChild(document.createElement("div"));else{this._waiAria.monthCellAttr(v,n);var w=document.createElement("div");w.className=x,w.innerHTML=this.templates.month_day(n),v.appendChild(w);var k=document.createElement("div");k.className=b,k.style.height=m+"px",k.style.width=d[g],v.appendChild(k)}f.push(n);var E=n.getDate();1<(n=this.date.add(n,1,"day")).getDate()-E&&(n=new Date(n.getFullYear(),n.getMonth(),E+1,12,0))}N._colsS.heights[l]=u,u+=i(l)}this._min_date=o,this._max_date=n,e.innerHTML="",e.appendChild(_),this._scales={};var S=e.getElementsByTagName("div");for(l=0;l<f.length;l++){e=S[2*l+1];var D=f[l];this._scales[+D]=e}for(l=0;l<f.length;l++){D=f[l];this.callEvent("onScaleAdd",[this._scales[+D],D])}return this._max_date},N._reset_month_scale=function(e,t,n,a){var i=N.date.add(t,1,"month"),r=N._currentDate();this.date.date_part(r),this.date.date_part(n),a=a||Math.ceil(Math.round((i.valueOf()-n.valueOf())/864e5)/7);var o=Math.floor(e.clientHeight/a)-this.xy.month_head_height;return this._colsS.height=o+this.xy.month_head_height,this._colsS.heights=[],N._render_month_scale(e,t,n,a)},N.getView=function(e){return e||(e=N.getState().mode),N.matrix&&N.matrix[e]?N.matrix[e]:N._props&&N._props[e]?N._props[e]:null},N.getLabel=function(e,t){for(var n=this.config.lightbox.sections,a=0;a<n.length;a++)if(n[a].map_to==e)for(var i=n[a].options,r=0;r<i.length;r++)if(i[r].key==t)return i[r].label;return""},N.updateCollection=function(e,t){var n=N.serverList(e);return!!n&&(n.splice(0,n.length),n.push.apply(n,t||[]),N.callEvent("onOptionsLoad",[]),N.resetLightbox(),!0)},N._lame_clone=function(e,t){var n,a,i;for(t=t||[],n=0;n<t.length;n+=2)if(e===t[n])return t[n+1];if(e&&"object"==typeof e){for(i={},a=[Array,Date,Number,String,Boolean],n=0;n<a.length;n++)e instanceof a[n]&&(i=n?new a[n](e):new a[n]);for(n in t.push(e,i),e)Object.prototype.hasOwnProperty.apply(e,[n])&&(i[n]=N._lame_clone(e[n],t))}return i||e},N._lame_copy=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},N._get_date_from_pos=function(e){var t=this._min_date.valueOf()+6e4*(e.y*this.config.time_step+24*(this._table_view?0:e.x)*60);return new Date(this._correct_shift(t))},N.getActionData=function(e){var t=this._mouse_coords(e);return{date:this._get_date_from_pos(t),section:t.section}},N._focus=function(e,t){if(e&&e.focus)if(this._mobile)window.setTimeout(function(){e.focus()},10);else try{t&&e.select&&e.offsetWidth&&e.select(),e.focus()}catch(e){}},N._get_real_event_length=function(e,t,n){var a,i=t-e,r=n._start_correction+n._end_correction||0,o=this["ignore_"+this._mode],s=0;n.render?(s=this._get_date_index(n,e),a=this._get_date_index(n,t)):a=Math.round(i/60/60/1e3/24);for(var d=!0;s<a;){var l=N.date.add(t,-n.x_step,n.x_unit);o&&o(t)&&(!d||d&&o(l))?i-=t-l:(d=!1,i-=r),t=l,a--}return i},N._get_fictional_event_length=function(e,t,n,a){var i=new Date(e),r=a?-1:1;if(n._start_correction||n._end_correction){var o
;o=a?60*i.getHours()+i.getMinutes()-60*(n.first_hour||0):60*(n.last_hour||0)-(60*i.getHours()+i.getMinutes());var s=60*(n.last_hour-n.first_hour),d=Math.ceil((t/6e4-o)/s);d<0&&(d=0),t+=d*(1440-s)*60*1e3}var l,c=new Date(1*e+t*r),u=this["ignore_"+this._mode],_=0;for(n.render?(_=this._get_date_index(n,i),l=this._get_date_index(n,c)):l=Math.round(t/60/60/1e3/24);_*r<=l*r;){var h=N.date.add(i,n.x_step*r,n.x_unit);u&&u(i)&&(t+=(h-i)*r,l+=r),i=h,_+=r}return t},N._get_section_view=function(){return this.getView()},N._get_section_property=function(){return this.matrix&&this.matrix[this._mode]?this.matrix[this._mode].y_property:this._props&&this._props[this._mode]?this._props[this._mode].map_to:null},N._is_initialized=function(){var e=this.getState();return this._obj&&e.date&&e.mode},N._is_lightbox_open=function(){var e=this.getState();return null!==e.lightbox_id&&void 0!==e.lightbox_id},N._getClassName=function(e){if(!e)return"";var t=e.className||"";return t.baseVal&&(t=t.baseVal),t.indexOf||(t=""),t||""},N.event=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},N.eventRemove=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},function(){function r(e){var t=!1,n=!1;if(window.getComputedStyle){var a=window.getComputedStyle(e,null);t=a.display,n=a.visibility}else e.currentStyle&&(t=e.currentStyle.display,n=e.currentStyle.visibility);var i=!1,r=N._locate_css({target:e},"dhx_form_repeat",!1);return r&&(i=!("0px"!=r.style.height)),i=i||!e.offsetHeight,"none"!=t&&"hidden"!=n&&!i}function o(e){return!isNaN(e.getAttribute("tabindex"))&&0<=1*e.getAttribute("tabindex")}function s(e){return!{a:!0,area:!0}[e.nodeName.loLowerCase()]||!!e.getAttribute("href")}function d(e){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[e.nodeName.toLowerCase()]||!e.hasAttribute("disabled")}N._getFocusableNodes=function(e){for(var t=e.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),n=Array.prototype.slice.call(t,0),a=0;a<n.length;a++){var i=n[a];(o(i)||d(i)||s(i))&&r(i)||(n.splice(a,1),a--)}return n}}(),N._trim=function(e){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(e)},N._isDate=function(e){return!(!e||"object"!=typeof e||!(e.getFullYear&&e.getMonth&&e.getDate))},N._isObject=function(e){return e&&"object"==typeof e},function(){function i(e){return(e+"").replace(n," ").replace(a," ")}function r(e){return(e+"").replace(o,"&#39;")}function t(){return!N.config.wai_aria_attributes}var n=new RegExp("<(?:.|\n)*?>","gm"),a=new RegExp(" +","gm"),o=new RegExp("'","gm");for(var e in N._waiAria={getAttributeString:function(e){var t=[" "];for(var n in e)if("function"!=typeof e[n]&&"object"!=typeof e[n]){var a=r(i(e[n]));t.push(n+"='"+a+"'")}return t.push(" "),t.join(" ")},setAttributes:function(e,t){for(var n in t)e.setAttribute(n,i(t[n]));return e},labelAttr:function(e,t){return this.setAttributes(e,{"aria-label":t})},label:function(e){return N._waiAria.getAttributeString({"aria-label":e})},hourScaleAttr:function(e,t){this.labelAttr(e,t)},monthCellAttr:function(e,t){this.labelAttr(e,N.templates.day_date(t))},navBarDateAttr:function(e,t){this.labelAttr(e,t)},dayHeaderAttr:function(e,t){this.labelAttr(e,t)},dayColumnAttr:function(e,t){this.dayHeaderAttr(e,N.templates.day_date(t))},headerButtonsAttributes:function(e,t){return this.setAttributes(e,{role:"button","aria-label":t})},headerToggleState:function(e,t){return this.setAttributes(e,{"aria-pressed":t?"true":"false"})},getHeaderCellAttr:function(e){return N._waiAria.getAttributeString({"aria-label":e})},eventAttr:function(e,t){this._eventCommonAttr(e,t)},_eventCommonAttr:function(e,t){t.setAttribute("aria-label",i(N.templates.event_text(e.start_date,e.end_date,e))),N.config.readonly&&t.setAttribute("aria-readonly",!0),e.$dataprocessor_class&&t.setAttribute("aria-busy",!0),t.setAttribute("aria-selected",N.getState().select_id==e.id?"true":"false")},setEventBarAttr:function(e,t){this._eventCommonAttr(e,t)},_getAttributes:function(e,t){var n={setAttribute:function(e,t){this[e]=t}};return e.apply(this,[t,n]),n},eventBarAttrString:function(e){return this.getAttributeString(this._getAttributes(this.setEventBarAttr,e))},agendaHeadAttrString:function(){return this.getAttributeString({role:"row"})},agendaHeadDateString:function(e){return this.getAttributeString({role:"columnheader","aria-label":e})},agendaHeadDescriptionString:function(e){return this.agendaHeadDateString(e)},agendaDataAttrString:function(){return this.getAttributeString({role:"grid"})},agendaEventAttrString:function(e){var t=this._getAttributes(this._eventCommonAttr,e);return t.role="row",this.getAttributeString(t)},agendaDetailsBtnString:function(){return this.getAttributeString({role:"button","aria-label":N.locale.labels.icon_details})},gridAttrString:function(){return this.getAttributeString({role:"grid"})},gridRowAttrString:function(e){return this.agendaEventAttrString(e)},gridCellAttrString:function(e,t,n){return this.getAttributeString({role:"gridcell","aria-label":[void 0===t.label?t.id:t.label,": ",n]})},mapAttrString:function(){return this.gridAttrString()},mapRowAttrString:function(e){return this.gridRowAttrString(e)},mapDetailsBtnString:function(){return this.agendaDetailsBtnString()},minicalHeader:function(e,t){this.setAttributes(e,{id:t+"","aria-live":"assertice","aria-atomic":"true"})},minicalGrid:function(e,t){this.setAttributes(e,{"aria-labelledby":t+"",role:"grid"})},minicalRow:function(e){this.setAttributes(e,{role:"row"})},minicalDayCell:function(e,t){var n=t.valueOf()<N._max_date.valueOf()&&t.valueOf()>=N._min_date.valueOf();this.setAttributes(e,{role:"gridcell","aria-label":N.templates.day_date(t),"aria-selected":n?"true":"false"})},minicalHeadCell:function(e){this.setAttributes(e,{role:"columnheader"})},weekAgendaDayCell:function(e){var t=e.querySelector(".dhx_wa_scale_bar"),n=e.querySelector(".dhx_wa_day_data"),a=N.uid()+"";this.setAttributes(t,{id:a}),this.setAttributes(n,{"aria-labelledby":a})},weekAgendaEvent:function(e,t){this.eventAttr(t,e)},lightboxHiddenAttr:function(e){e.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},lightboxSectionButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":e,tabindex:"0"})},yearHeader:function(e,t){this.setAttributes(e,{id:t+""})},yearGrid:function(e,t){this.minicalGrid(e,t)},yearHeadCell:function(e){return this.minicalHeadCell(e)},yearRow:function(e){return this.minicalRow(e)},yearDayCell:function(e){this.setAttributes(e,{role:"gridcell"})},lightboxAttr:function(e){e.setAttribute("role","dialog"),e.setAttribute("aria-hidden","true"),e.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":N.locale.labels[e],tabindex:"0"})},eventMenuAttrString:function(e){return this.getAttributeString({role:"button","aria-label":N.locale.labels[e]})},lightboxHeader:function(e,t){e.setAttribute("aria-label",t)},lightboxSelectAttrString:function(e){var t="";switch(e){case"%Y":t=N.locale.labels.year;break;case"%m":t=N.locale.labels.month;break;case"%d":t=N.locale.labels.day;break;case"%H:%i":t=N.locale.labels.hour+" "+N.locale.labels.minute}return N._waiAria.getAttributeString({"aria-label":t})},messageButtonAttrString:function(e){return"tabindex='0' role='button' aria-label='"+e+"'"},messageInfoAttr:function(e){e.setAttribute("role","alert")},messageModalAttr:function(e,t){e.setAttribute("role","dialog"),t&&e.setAttribute("aria-labelledby",t)},quickInfoAttr:function(e){e.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(e,t){e.setAttribute("aria-label",t)},quickInfoButtonAttrString:function(e){return N._waiAria.getAttributeString({role:"button","aria-label":e,tabindex:"0"})},tooltipAttr:function(e){e.setAttribute("role","tooltip")},tooltipVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(e){e.setAttribute("aria-hidden","true")}},N._waiAria)N._waiAria[e]=function(e){return function(){return t()?" ":e.apply(this,arguments)}}(N._waiAria[e])}(),N.utils={mixin:function(e,t,n){for(var a in t)(void 0===e[a]||n)&&(e[a]=t[a]);return e},copy:function a(e){var t,n;if(e&&"object"==typeof e)switch(!0){case f(e):n=new Date(e);break;case c(e):for(n=new Array(e.length),t=0;t<e.length;t++)n[t]=a(e[t]);break;case u(e):n=new String(e);break;case _(e):n=new Number(e);break;case h(e):n=new Boolean(e);break;default:for(t in n={},e)Object.prototype.hasOwnProperty.apply(e,[t])&&(n[t]=a(e[t]))}return n||e}},N.$domHelpers={getAbsoluteLeft:function(e){return this.getOffset(e).left},getAbsoluteTop:function(e){return this.getOffset(e).top},getOffsetSum:function(e){for(var t=0,n=0;e;)t+=parseInt(e.offsetTop),n+=parseInt(e.offsetLeft),e=e.offsetParent;return{top:t,left:n}},getOffsetRect:function(e){var t=e.getBoundingClientRect(),n=0,a=0;if(/Mobi/.test(navigator.userAgent)){var i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.width="1px",i.style.height="1px",document.body.appendChild(i);var r=i.getBoundingClientRect();n=t.top-r.top,a=t.left-r.left,i.parentNode.removeChild(i)}else{var o=document.body,s=document.documentElement,d=window.pageYOffset||s.scrollTop||o.scrollTop,l=window.pageXOffset||s.scrollLeft||o.scrollLeft,c=s.clientTop||o.clientTop||0,u=s.clientLeft||o.clientLeft||0;n=t.top+d-c,a=t.left+l-u}return{top:Math.round(n),left:Math.round(a)}},getOffset:function(e){return e.getBoundingClientRect?this.getOffsetRect(e):this.getOffsetSum(e)},closest:function(e,t){return e&&t?b(e,t):null},insertAfter:function(e,t){t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)}},Element.prototype.closest)b=function(e,t){return e.closest(t)};else{var w=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;b=function(e,t){var n=e;do{if(w.call(n,t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}}N.$env={isIE:0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident"),isIE6:!window.XMLHttpRequest&&0<=navigator.userAgent.indexOf("MSIE"),isIE7:0<=navigator.userAgent.indexOf("MSIE 7.0")&&navigator.userAgent.indexOf("Trident")<0,isIE8:0<=navigator.userAgent.indexOf("MSIE 8.0")&&0<=navigator.userAgent.indexOf("Trident"),isOpera:0<=navigator.userAgent.indexOf("Opera"),isChrome:0<=navigator.userAgent.indexOf("Chrome"),isKHTML:0<=navigator.userAgent.indexOf("Safari")||0<=navigator.userAgent.indexOf("Konqueror"),isFF:0<=navigator.userAgent.indexOf("Firefox"),isIPad:0<=navigator.userAgent.search(/iPad/gi),isEdge:-1!=navigator.userAgent.indexOf("Edge")},N.$ajax={_obj:N,cache:!0,method:"get",parse:function(e){return"string"!=typeof e?e:(e=e.replace(/^[\s]+/,""),window.DOMParser&&!N.$env.isIE?t=(new window.DOMParser).parseFromString(e,"text/xml"):window.ActiveXObject!==window.undefined&&((t=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)),t);var t},xmltop:function(e,t,n){if(void 0===t.status||t.status<400){var a=t.responseXML?t.responseXML||t:this.parse(t.responseText||t);if(a&&null!==a.documentElement&&!a.getElementsByTagName("parsererror").length)return a.getElementsByTagName(e)[0]}return-1!==n&&this._obj.callEvent("onLoadXMLError",["Incorrect XML",t,n]),document.createElement("DIV")},xpath:function(e,t){if(t.nodeName||(t=t.responseXML||t),N.$env.isIE)return t.selectNodes(e)||[];for(var n,a=[],i=(t.ownerDocument||t).evaluate(e,t,null,XPathResult.ANY_TYPE,null);n=i.iterateNext();)a.push(n);return a},query:function(e){this._call(e.method||"GET",e.url,e.data||"",e.async||!0,e.callback,null,e.headers)},get:function(e,t){this._call("GET",e,null,!0,t)},getSync:function(e){return this._call("GET",e,null,!1)},put:function(e,t,n){this._call("PUT",e,t,!0,n)},del:function(e,t,n){this._call("DELETE",e,t,!0,n)},post:function(e,t,n){1==arguments.length?t="":2!=arguments.length||"function"!=typeof t&&"function"!=typeof window[t]?t=String(t):(n=t,t=""),this._call("POST",e,t,!0,n)},postSync:function(e,t){return t=null===t?"":String(t),this._call("POST",e,t,!1)},getLong:function(e,t){this._call("GET",e,null,!0,t,{url:e})},postLong:function(e,t,n){2!=arguments.length||"function"!=typeof t&&(window[t],0)||(n=t,t=""),this._call("POST",e,t,!0,n,{url:e,postData:t})},_call:function(e,t,n,a,i,r,o){var s=this._obj,d=window.XMLHttpRequest&&!s.$env.isIE?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),l=null!==navigator.userAgent.match(/AppleWebKit/)&&null!==navigator.userAgent.match(/Qt/)&&null!==navigator.userAgent.match(/Safari/);if(a&&(d.onreadystatechange=function(){if(4==d.readyState||l&&3==d.readyState){if((200!=d.status||""===d.responseText)&&!s.callEvent("onAjaxError",[d]))return;window.setTimeout(function(){"function"==typeof i&&i.apply(window,[{xmlDoc:d,filePath:t}]),r&&(void 0!==r.postData?this.postLong(r.url,r.postData,i):this.getLong(r.url,i)),d=i=null},1)}}),"GET"!=e||this.cache||(t+=(0<=t.indexOf("?")?"&":"?")+"dhxr"+(new Date).getTime()+"=1"),d.open(e,t,a),o)for(var c in o)d.setRequestHeader(c,o[c]);else"POST"==e.toUpperCase()||"PUT"==e||"DELETE"==e?d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"GET"==e&&(n=null);if(d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(n),!a)return{xmlDoc:d,filePath:t}},urlSeparator:function(e){return-1!=e.indexOf("?")?"&":"?"}};var k,E,S,D,C,A=function(e,t){for(var n="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",a=e.match(/%[a-zA-Z]/g),i=0;i<a.length;i++)switch(a[i]){case"%j":case"%d":n+="set[2]=temp["+i+"]||1;";break;case"%n":case"%m":n+="set[1]=(temp["+i+"]||1)-1;";break;case"%y":n+="set[0]=temp["+i+"]*1+(temp["+i+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":n+="set[3]=temp["+i+"]||0;";break;case"%i":n+="set[4]=temp["+i+"]||0;";break;case"%Y":n+="set[0]=temp["+i+"]||0;";break;case"%a":case"%A":n+="set[3]=set[3]%12+((temp["+i+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":n+="set[5]=temp["+i+"]||0;";break;case"%M":n+="set[1]=this.locale.date.month_short_hash[temp["+i+"]]||0;";break;case"%F":n+="set[1]=this.locale.date.month_full_hash[temp["+i+"]]||0;"}var r="set[0],set[1],set[2],set[3],set[4],set[5]";return t&&(r=" Date.UTC("+r+")"),new Function("date","var set=[0,0,1,0,0,0]; "+n+" return new Date("+r+");")};N.date={init:function(){for(var e=N.locale.date.month_short,t=N.locale.date.month_short_hash={},n=0;n<e.length;n++)t[e[n]]=n;for(e=N.locale.date.month_full,t=N.locale.date.month_full_hash={},n=0;n<e.length;n++)t[e[n]]=n},_bind_host_object:function(e){return e.bind?e.bind(N):function(){return e.apply(N,arguments)}},date_part:function(e){var t=new Date(e);return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getHours()&&(e.getDate()<t.getDate()||e.getMonth()<t.getMonth()||e.getFullYear()<t.getFullYear())&&e.setTime(e.getTime()+36e5*(24-e.getHours())),e},time_part:function(e){return(e.valueOf()/1e3-60*e.getTimezoneOffset())%86400},week_start:function(e){var t=e.getDay();return N.config.start_on_monday&&(0===t?t=6:t--),this.date_part(this.add(e,-1*t,"day"))},month_start:function(e){return e.setDate(1),this.date_part(e)},year_start:function(e){return e.setMonth(0),this.month_start(e)},day_start:function(e){return this.date_part(e)},_add_days:function(e,t){var n=new Date(e.valueOf());if(n.setDate(n.getDate()+t),t==Math.round(t)&&0<t){var a=(+n-+e)%864e5;if(a&&e.getTimezoneOffset()==n.getTimezoneOffset()){var i=a/36e5;n.setTime(n.getTime()+60*(24-i)*60*1e3)}}return 0<=t&&!e.getHours()&&n.getHours()&&(n.getDate()<e.getDate()||n.getMonth()<e.getMonth()||n.getFullYear()<e.getFullYear())&&n.setTime(n.getTime()+36e5*(24-n.getHours())),n},add:function(e,t,n){var a=new Date(e.valueOf());switch(n){case"day":a=N.date._add_days(a,t);break;case"week":a=N.date._add_days(a,7*t);break;case"month":a.setMonth(a.getMonth()+t);break;case"year":a.setYear(a.getFullYear()+t);break;case"hour":a.setTime(a.getTime()+60*t*60*1e3);break;case"minute":a.setTime(a.getTime()+60*t*1e3);break;default:return N.date["add_"+n](e,t,n)}return a},to_fixed:function(e){return e<10?"0"+e:e},copy:function(e){return new Date(e.valueOf())},date_to_str:function(e,t){e=e.replace(/%[a-zA-Z]/g,function(e){switch(e){case"%d":return'"+this.date.to_fixed(date.getDate())+"';case"%m":return'"+this.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+this.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+this.locale.date.day_short[date.getDay()]+"';case"%l":return'"+this.locale.date.day_full[date.getDay()]+"';case"%M":return'"+this.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+this.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+this.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+this.date.to_fixed(date.getHours())+"';case"%i":return'"+this.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+this.date.to_fixed(date.getSeconds())+"';case"%W":return'"+this.date.to_fixed(this.date.getISOWeek(date))+"';default:return e}}),t&&(e=e.replace(/date\.get/g,"date.getUTC"));var n=new Function("date",'return "'+e+'";');return N.date._bind_host_object(n)},str_to_date:function(e,t,n){var a=A(e,t),i=/^[0-9]{4}(\-|\/)[0-9]{2}(\-|\/)[0-9]{2} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,r=/^[0-9]{2}\/[0-9]{2}\/[0-9]{4} ?(([0-9]{1,2}:[0-9]{2})(:[0-9]{1,2})?)?$/,o=/^[0-9]{2}\-[0-9]{2}\-[0-9]{4} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,s=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,d=function(e){return i.test(String(e))},l=function(e){return r.test(String(e))},c=function(e){return o.test(String(e))},u=function(e){return s.test(e)},_=A("%Y-%m-%d %H:%i:%s",t),h=A("%m/%d/%Y %H:%i:%s",t),f=A("%d-%m-%Y %H:%i:%s",t);return function(e){if(!n&&!N.config.parse_exact_format){if(e&&e.getISOWeek)return new Date(e);if("number"==typeof e)return new Date(e);if(d(e))return _(e);if(l(e))return h(e);if(c(e))return f(e);if(u(e))return new Date(e)}return a.call(N,e)}},getISOWeek:function(e){if(!e)return!1;var t=(e=this.date_part(new Date(e))).getDay();0===t&&(t=7);var n=new Date(e.valueOf());n.setDate(e.getDate()+(4-t));var a=n.getFullYear(),i=Math.round((n.getTime()-new Date(a,0,1).getTime())/864e5);return 1+Math.floor(i/7)},getUTCISOWeek:function(e){return this.getISOWeek(this.convert_to_utc(e))},convert_to_utc:function(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}},N.locale={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daily",repeat_radio_week:"Weekly",repeat_radio_month:"Monthly",repeat_radio_year:"Yearly",repeat_radio_day_type:"Every",repeat_text_day_count:"day",repeat_radio_day_type2:"Every workday",repeat_week:" Repeat every",repeat_text_week_count:"week next days:",repeat_radio_month_type:"Repeat",repeat_radio_month_start:"On",repeat_text_month_day:"day every",repeat_text_month_count:"month",repeat_text_month_count2_before:"every",repeat_text_month_count2_after:"month",repeat_year_label:"On",select_year_day2:"of",repeat_text_year_day:"day",select_year_month:"month",repeat_radio_end:"No end date",repeat_text_occurences_count:"occurrences",repeat_radio_end2:"After",repeat_radio_end3:"End by",month_for_recurring:["January","February","March","April","May","June","July","August","September","October","November","December"],day_for_recurring:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},N.config={default_date:"%j %M %Y",month_date:"%F %Y",load_date:"%Y-%m-%d",week_date:"%l",day_date:"%D, %F %j",hour_date:"%H:%i",month_day:"%d",date_format:"%Y-%m-%d %H:%i",api_date:"%d-%m-%Y %H:%i",parse_exact_format:!1,preserve_length:!0,time_step:5,start_on_monday:!0,first_hour:0,last_hour:24,readonly:!1,drag_resize:!0,drag_move:!0,drag_create:!0,drag_event_body:!0,dblclick_create:!0,edit_on_create:!0,details_on_create:!1,header:null,resize_month_events:!1,resize_month_timed:!1,responsive_lightbox:!1,rtl:!1,cascade_event_display:!1,cascade_event_count:4,cascade_event_margin:30,multi_day:!0,multi_day_height_limit:0,drag_lightbox:!0,preserve_scroll:!0,select:!0,server_utc:!1,touch:!0,touch_tip:!0,touch_drag:500,touch_swipe_dates:!1,quick_info_detached:!0,positive_closing:!1,drag_highlight:!0,limit_drag_out:!1,icons_edit:["icon_save","icon_cancel"],icons_select:["icon_details","icon_edit","icon_delete"],buttons_left:["dhx_save_btn","dhx_cancel_btn"],buttons_right:["dhx_delete_btn"],lightbox:{sections:[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"time",height:72,type:"time",map_to:"auto"}]},highlight_displayed_event:!0,left_border:!1,ajax_error:"alert",delay_render:0,timeline_swap_resize:!0,wai_aria_attributes:!0,wai_aria_application_role:!0},N.config.buttons_left.$inital=N.config.buttons_left.join(),N.config.buttons_right.$inital=N.config.buttons_right.join(),N._helpers={parseDate:function(e){return(N.templates.xml_date||N.templates.parse_date)(e)},formatDate:function(e){return(N.templates.xml_format||N.templates.format_date)(e)}},N.templates={},N.init_templates=function(){var e=N.locale.labels;e.dhx_save_btn=e.icon_save,e.dhx_cancel_btn=e.icon_cancel,e.dhx_delete_btn=e.icon_delete;var t=N.date.date_to_str,n=N.config;(function(e,t){for(var n in t)e[n]||(e[n]=t[n])})(N.templates,{day_date:t(n.default_date),month_date:t(n.month_date),week_date:function(e,t){return n.rtl?N.templates.day_date(N.date.add(t,-1,"day"))+" &ndash; "+N.templates.day_date(e):N.templates.day_date(e)+" &ndash; "+N.templates.day_date(N.date.add(t,-1,"day"))},day_scale_date:t(n.default_date),month_scale_date:t(n.week_date),week_scale_date:t(n.day_date),hour_scale:t(n.hour_date),time_picker:t(n.hour_date),event_date:t(n.hour_date),month_day:t(n.month_day),load_format:t(n.load_date),format_date:t(n.date_format,n.server_utc),parse_date:N.date.str_to_date(n.date_format,n.server_utc),api_date:N.date.str_to_date(n.api_date,!1,!1),event_header:function(e,t){return N.templates.event_date(e)+" - "+N.templates.event_date(t)},event_text:function(e,t,n){return n.text},event_class:function(){return""},month_date_class:function(){return""},week_date_class:function(){return""},event_bar_date:function(e){return N.templates.event_date(e)+" "},event_bar_text:function(e,t,n){return n.text},month_events_link:function(e,t){return"<a>View more("+t+" events)</a>"},drag_marker_class:function(){return""},drag_marker_content:function(){return""},tooltip_date_format:N.date.date_to_str("%Y-%m-%d %H:%i"),tooltip_text:function(e,t,n){return"<b>Event:</b> "+n.text+"<br/><b>Start date:</b> "+N.templates.tooltip_date_format(e)+"<br/><b>End date:</b> "+N.templates.tooltip_date_format(t)}}),this.callEvent("onTemplatesReady",[])},N.uid=function(){return this._seed||(this._seed=(new Date).valueOf()),this._seed++},N._events={},N.clearAll=function(){this._events={},this._loaded={},this._edit_id=null,this._select_id=null,this._drag_id=null,this._drag_mode=null,this._drag_pos=null,this._new_event=null,this.clear_view(),this.callEvent("onClearAll",[])},N.addEvent=function(e,t,n,a,i){if(!arguments.length)return this.addEventNow();var r=e;1!=arguments.length&&((r=i||{}).start_date=e,r.end_date=t,r.text=n,r.id=a),r.id=r.id||N.uid(),r.text=r.text||"","string"==typeof r.start_date&&(r.start_date=this.templates.api_date(r.start_date)),"string"==typeof r.end_date&&(r.end_date=this.templates.api_date(r.end_date));var o=6e4*(this.config.event_duration||this.config.time_step);r.start_date.valueOf()==r.end_date.valueOf()&&r.end_date.setTime(r.end_date.valueOf()+o),r._timed=this.isOneDayEvent(r);var s=!this._events[r.id];return this._events[r.id]=r,this.event_updated(r),this._loading||this.callEvent(s?"onEventAdded":"onEventChanged",[r.id,r]),r.id},N.deleteEvent=function(e,t){var n=this._events[e];(t||this.callEvent("onBeforeEventDelete",[e,n])&&this.callEvent("onConfirmedBeforeEventDelete",[e,n]))&&(n&&(this._select_id=null,delete this._events[e],this.event_updated(n),this._drag_id==n.id&&(this._drag_id=null,this._drag_mode=null,this._drag_pos=null)),this.callEvent("onEventDeleted",[e,n]))},N.getEvent=function(e){return this._events[e]},N.setEvent=function(e,t){t.id||(t.id=e),this._events[e]=t},N.for_rendered=function(e,t){for(var n=this._rendered.length-1;0<=n;n--)this._rendered[n].getAttribute("event_id")==e&&t(this._rendered[n],n)},N.changeEventId=function(e,t){if(e!=t){var n=this._events[e];n&&(n.id=t,this._events[t]=n,delete this._events[e]),this.for_rendered(e,function(e){e.setAttribute("event_id",t)}),this._select_id==e&&(this._select_id=t),this._edit_id==e&&(this._edit_id=t),this.callEvent("onEventIdChange",[e,t])}},function(){for(var e=["text","Text","start_date","StartDate","end_date","EndDate"],t=function(t){return function(e){return N.getEvent(e)[t]}},n=function(a){return function(e,t){var n=N.getEvent(e);n[a]=t,n._changed=!0,n._timed=this.isOneDayEvent(n),N.event_updated(n,!0)}},a=0;a<e.length;a+=2)N["getEvent"+e[a+1]]=t(e[a]),N["setEvent"+e[a+1]]=n(e[a])}(),N.event_updated=function(e){this.is_visible_events(e)?this.render_view_data():this.clear_event(e.id)},N.is_visible_events=function(e){if(e.start_date.valueOf()<this._max_date.valueOf()&&this._min_date.valueOf()<e.end_date.valueOf()){var t=e.start_date.getHours(),n=e.end_date.getHours()+e.end_date.getMinutes()/60,a=this.config.last_hour,i=this.config.first_hour;return!(!this._table_view&&(a<n||n<i)&&(a<=t||t<i)&&!((e.end_date.valueOf()-e.start_date.valueOf())/36e5>24-(this.config.last_hour-this.config.first_hour)||t<a&&i<=n))}return!1},N.isOneDayEvent=function(e){var t=new Date(e.end_date.valueOf()-1);return e.start_date.getFullYear()===t.getFullYear()&&e.start_date.getMonth()===t.getMonth()&&e.start_date.getDate()===t.getDate()&&e.end_date.valueOf()-e.start_date.valueOf()<864e5},N.get_visible_events=function(e){var t=[];for(var n in this._events)this.is_visible_events(this._events[n])&&(e&&!this._events[n]._timed||this.filter_event(n,this._events[n])&&t.push(this._events[n]));return t},N.filter_event=function(e,t){var n=this["filter_"+this._mode];return!n||n(e,t)},N._is_main_area_event=function(e){return!!e._timed},N.render_view_data=function(e,t){var n=!1;if(!e){if(n=!0,this._not_render)return void(this._render_wait=!0);this._render_wait=!1,this.clear_view(),e=this.get_visible_events(!(this._table_view||this.config.multi_day))}for(var a=0,i=e.length;a<i;a++)this._recalculate_timed(e[a]);if(this.config.multi_day&&!this._table_view){var r=[],o=[];for(a=0;a<e.length;a++)this._is_main_area_event(e[a])?r.push(e[a]):o.push(e[a]);if(!this._els.dhx_multi_day){var s=N._commonErrorMessages.unknownView(this._mode);throw new Error(s)}this._rendered_location=this._els.dhx_multi_day[0],this._table_view=!0,this.render_data(o,t),this._table_view=!1,this._rendered_location=this._els.dhx_cal_data[0],this._table_view=!1,this.render_data(r,t)}else{var d=document.createDocumentFragment(),l=this._els.dhx_cal_data[0];this._rendered_location=d,this.render_data(e,t),l.appendChild(d),this._rendered_location=l}n&&this.callEvent("onDataRender",[])},N._view_month_day=function(e){var t=N.getActionData(e).date;N.callEvent("onViewMoreClick",[t])&&N.setCurrentView(t,"day")},N._render_month_link=function(e){for(var t=this._rendered_location,n=this._lame_clone(e),a=e._sday;a<e._eday;a++){n._sday=a,n._eday=a+1;var i=N.date,r=N._min_date;r=i.add(r,n._sweek,"week"),r=i.add(r,n._sday,"day");var o=N.getEvents(r,i.add(r,1,"day")).length,s=this._get_event_bar_pos(n),d=s.x2-s.x,l=document.createElement("div");l.onclick=function(e){N._view_month_day(e||event)},l.className="dhx_month_link",l.style.top=s.y+"px",l.style.left=s.x+"px",l.style.width=d+"px",l.innerHTML=N.templates.month_events_link(r,o),this._rendered.push(l),t.appendChild(l)}},N._recalculate_timed=function(e){var t;e&&((t="object"!=typeof e?this._events[e]:e)&&(t._timed=N.isOneDayEvent(t)))},N.attachEvent("onEventChanged",N._recalculate_timed),N.attachEvent("onEventAdded",N._recalculate_timed),N.render_data=function(e,t){e=this._pre_render_events(e,t);for(var n={},a=0;a<e.length;a++)if(this._table_view)if("month"!=N._mode)this.render_event_bar(e[a]);else{var i=N.config.max_month_events;i!==1*i||e[a]._sorder<i?this.render_event_bar(e[a]):void 0!==i&&e[a]._sorder==i&&N._render_month_link(e[a])}else{var r=e[a],o=N.locate_holder(r._sday);if(!o)continue;n[r._sday]||(n[r._sday]={real:o,buffer:document.createDocumentFragment(),width:o.clientWidth});var s=n[r._sday];this.render_event(r,s.buffer,s.width)}for(var a in n){(s=n[a]).real&&s.buffer&&s.real.appendChild(s.buffer)}},N._get_first_visible_cell=function(e){for(var t=0;t<e.length;t++)if(-1==(e[t].className||"").indexOf("dhx_scale_ignore"))return e[t];return e[0]},N._pre_render_events=function(e,t){var n=this.xy.bar_height,a=this._colsS.heights,i=this._colsS.heights=[0,0,0,0,0,0,0],r=this._els.dhx_cal_data[0];if(e=this._table_view?this._pre_render_events_table(e,t):this._pre_render_events_line(e,t),this._table_view)if(t)this._colsS.heights=a;else{var o=r.firstChild;if(o.rows){for(var s=0;s<o.rows.length;s++){i[s]++;var d=o.rows[s].cells,l=this._colsS.height-this.xy.month_head_height;if(i[s]*n>l){var c=l;1*this.config.max_month_events!==this.config.max_month_events||i[s]<=this.config.max_month_events?c=i[s]*n:(this.config.max_month_events+1)*n>l&&(c=(this.config.max_month_events+1)*n);for(var u=0;u<d.length;u++)d[u].childNodes[1].style.height=c+"px"}i[s]=(i[s-1]||0)+N._get_first_visible_cell(d).offsetHeight}if(i.unshift(0),o.parentNode.offsetHeight<o.parentNode.scrollHeight&&!N._colsS.scroll_fix&&N.xy.scroll_width){var _=N._colsS,h=_[_.col_length],f=_.heights.slice();h-=N.xy.scroll_width||0,this._calc_scale_sizes(h,this._min_date,this._max_date),N._colsS.heights=f,this.set_xy(this._els.dhx_cal_header[0],h,this.xy.scale_height),N._render_scales(this._els.dhx_cal_header[0]),N._render_month_scale(this._els.dhx_cal_data[0],this._get_timeunit_start(),this._min_date),_.scroll_fix=!0}}else if(e.length||"visible"!=this._els.dhx_multi_day[0].style.visibility||(i[0]=-1),e.length||-1==i[0]){var p=(o.parentNode.childNodes,(i[0]+1)*n+1),m=p,g=p+"px";this.config.multi_day_height_limit&&(g=(m=Math.min(p,this.config.multi_day_height_limit))+"px"),r.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+m+"px",r.style.height=this._obj.offsetHeight-parseInt(r.style.top,10)-(this.xy.margin_top||0)+"px";var v=this._els.dhx_multi_day[0];v.style.height=g,v.style.visibility=-1==i[0]?"hidden":"visible";var y=this._els.dhx_multi_day[1];y.style.height=g,y.style.visibility=-1==i[0]?"hidden":"visible",y.className=i[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(i[0]+1)*n,this.config.multi_day_height_limit&&(this._dy_shift=Math.min(this.config.multi_day_height_limit,this._dy_shift)),i[0]=0,m!=p&&(
r.style.top=parseInt(r.style.top)+2+"px",v.style.overflowY="auto",y.style.position="fixed",y.style.top="",y.style.left="")}}return e},N._get_event_sday=function(e){var t=this.date.day_start(new Date(e.start_date));return Math.round((t.valueOf()-this._min_date.valueOf())/864e5)},N._get_event_mapped_end_date=function(e){var t=e.end_date;if(this.config.separate_short_events){var n=(e.end_date-e.start_date)/6e4;n<this._min_mapped_duration&&(t=this.date.add(t,this._min_mapped_duration-n,"minute"))}return t},N._pre_render_events_line=function(e,t){e.sort(function(e,t){return e.start_date.valueOf()==t.start_date.valueOf()?e.id>t.id?1:-1:e.start_date>t.start_date?1:-1});var n=[],a=[];this._min_mapped_duration=Math.ceil(60*this.xy.min_event_height/this.config.hour_size_px);for(var i=0;i<e.length;i++){var r=e[i],o=r.start_date,s=r.end_date,d=o.getHours(),l=s.getHours();if(r._sday=this._get_event_sday(r),this._ignores[r._sday])e.splice(i,1),i--;else{if(n[r._sday]||(n[r._sday]=[]),!t){r._inner=!1;for(var c=n[r._sday];c.length;){var u=c[c.length-1];if(!(this._get_event_mapped_end_date(u).valueOf()<=r.start_date.valueOf()))break;c.splice(c.length-1,1)}for(var _=c.length,h=!1,f=0;f<c.length;f++){u=c[f];if(this._get_event_mapped_end_date(u).valueOf()<=r.start_date.valueOf()){h=!0,r._sorder=u._sorder,_=f,r._inner=!0;break}}if(c.length&&(c[c.length-1]._inner=!0),!h)if(c.length)if(c.length<=c[c.length-1]._sorder){if(c[c.length-1]._sorder)for(f=0;f<c.length;f++){for(var p=!1,m=0;m<c.length;m++)if(c[m]._sorder==f){p=!0;break}if(!p){r._sorder=f;break}}else r._sorder=0;r._inner=!0}else{var g=c[0]._sorder;for(f=1;f<c.length;f++)c[f]._sorder>g&&(g=c[f]._sorder);r._sorder=g+1,r._inner=!1}else r._sorder=0;c.splice(_,_==c.length?0:1,r),c.length>(c.max_count||0)?(c.max_count=c.length,r._count=c.length):r._count=r._count?r._count:1}(d<this.config.first_hour||l>=this.config.last_hour)&&(a.push(r),e[i]=r=this._copy_event(r),d<this.config.first_hour&&(r.start_date.setHours(this.config.first_hour),r.start_date.setMinutes(0)),l>=this.config.last_hour&&(r.end_date.setMinutes(0),r.end_date.setHours(this.config.last_hour)),r.start_date>r.end_date||d==this.config.last_hour)&&(e.splice(i,1),i--)}}if(!t){for(i=0;i<e.length;i++)e[i]._count=n[e[i]._sday].max_count;for(i=0;i<a.length;i++)a[i]._count=n[a[i]._sday].max_count}return e},N._time_order=function(e){e.sort(function(e,t){return e.start_date.valueOf()==t.start_date.valueOf()?e._timed&&!t._timed?1:!e._timed&&t._timed?-1:e.id>t.id?1:-1:e.start_date>t.start_date?1:-1})},N._is_any_multiday_cell_visible=function(e,t,n){var a=this._cols.length,i=!1,r=e,o=!0,s=new Date(t);for(N.date.day_start(new Date(t)).valueOf()!=t.valueOf()&&(s=N.date.day_start(s),s=N.date.add(s,1,"day"));r<s;){o=!1;var d=this.locate_holder_day(r,!1,n)%a;if(!this._ignores[d]){i=!0;break}r=N.date.add(r,1,"day")}return o||i},N._pre_render_events_table=function(e,t){this._time_order(e);for(var n,a=[],i=[[],[],[],[],[],[],[]],r=this._colsS.heights,o=this._cols.length,s={},d=0;d<e.length;d++){var l=e[d],c=l.id;s[c]||(s[c]={first_chunk:!0,last_chunk:!0});var u=s[c],_=n||l.start_date,h=l.end_date;_<this._min_date&&(u.first_chunk=!1,_=this._min_date),h>this._max_date&&(u.last_chunk=!1,h=this._max_date);var f=this.locate_holder_day(_,!1,l);if(l._sday=f%o,!this._ignores[l._sday]||!l._timed){var p=this.locate_holder_day(h,!0,l)||o;if(l._eday=p%o||o,l._length=p-f,l._sweek=Math.floor((this._correct_shift(_.valueOf(),1)-this._min_date.valueOf())/(864e5*o)),N._is_any_multiday_cell_visible(_,h,l)){var m,g=i[l._sweek];for(m=0;m<g.length&&!(g[m]._eday<=l._sday);m++);if(l._sorder&&t||(l._sorder=m),l._sday+l._length<=o)n=null,a.push(l),r[(g[m]=l)._sweek]=g.length-1,l._first_chunk=u.first_chunk,l._last_chunk=u.last_chunk;else{var v=this._copy_event(l);v.id=l.id,v._length=o-l._sday,v._eday=o,v._sday=l._sday,v._sweek=l._sweek,v._sorder=l._sorder,v.end_date=this.date.add(_,v._length,"day"),v._first_chunk=u.first_chunk,u.first_chunk&&(u.first_chunk=!1),a.push(v),n=(g[m]=v).end_date,r[l._sweek]=g.length-1,d--}}}}return a},N._copy_dummy=function(){var e=new Date(this.start_date),t=new Date(this.end_date);this.start_date=e,this.end_date=t},N._copy_event=function(e){return this._copy_dummy.prototype=e,new this._copy_dummy},N._rendered=[],N.clear_view=function(){for(var e=0;e<this._rendered.length;e++){var t=this._rendered[e];t.parentNode&&t.parentNode.removeChild(t)}this._rendered=[]},N.updateEvent=function(e){var t=this.getEvent(e);this.clear_event(e),t&&this.is_visible_events(t)&&this.filter_event(e,t)&&(this._table_view||this.config.multi_day||t._timed)&&(this.config.update_render?this.render_view_data():"month"!=this.getState().mode||this.getState().drag_id||this.isOneDayEvent(t)?this.render_view_data([t],!0):this.render_view_data())},N.clear_event=function(e){this.for_rendered(e,function(e,t){e.parentNode&&e.parentNode.removeChild(e),N._rendered.splice(t,1)})},N._y_from_date=function(e){var t=60*e.getHours()+e.getMinutes();return Math.round((60*t*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)},N._calc_event_y=function(e,t){t=t||0;var n=60*e.start_date.getHours()+e.start_date.getMinutes(),a=60*e.end_date.getHours()+e.end_date.getMinutes()||60*N.config.last_hour;return{top:this._y_from_date(e.start_date),height:Math.max(t,(a-n)*this.config.hour_size_px/60)}},N.render_event=function(e,t,n){var a=N.xy.menu_width,i=this.config.use_select_menu_space?0:a;if(!(e._sday<0)){var r=N.locate_holder(e._sday);if(r){t=t||r;var o=this._calc_event_y(e,N.xy.min_event_height),s=o.top,d=o.height,l=e._count||1,c=e._sorder||0;n=n||r.clientWidth;var u=Math.floor((n-i)/l),_=c*u+1;if(e._inner||(u*=l-c),this.config.cascade_event_display){var h=this.config.cascade_event_count,f=this.config.cascade_event_margin;_=c%h*f;var p=e._inner?(l-c-1)%h*f/2:0;u=Math.floor(n-i-_-p)}var m=this._render_v_bar(e,i+_,s,u,d,e._text_style,N.templates.event_header(e.start_date,e.end_date,e),N.templates.event_text(e.start_date,e.end_date,e));if(this._waiAria.eventAttr(e,m),this._rendered.push(m),t.appendChild(m),_=_+parseInt(this.config.rtl?r.style.right:r.style.left,10)+i,this._edit_id==e.id){m.style.zIndex=1,u=Math.max(u-4,N.xy.editor_width),(m=document.createElement("div")).setAttribute("event_id",e.id),this._waiAria.eventAttr(e,m),m.className="dhx_cal_event dhx_cal_editor",this.config.rtl&&_++,this.set_xy(m,u,d-20,_,s+(N.xy.event_header_height||14)),e.color&&(m.style.backgroundColor=e.color);var g=N.templates.event_class(e.start_date,e.end_date,e);g&&(m.className+=" "+g);var v=document.createElement("div");this.set_xy(v,u-6,d-26),v.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",m.appendChild(v),this._els.dhx_cal_data[0].appendChild(m),this._rendered.push(m),v.innerHTML="<textarea class='dhx_cal_editor'>"+e.text+"</textarea>",this._editor=v.querySelector("textarea"),this._quirks7&&(this._editor.style.height=d-12+"px"),this._editor.onkeydown=function(e){if((e||event).shiftKey)return!0;var t=(e||event).keyCode;t==N.keys.edit_save&&N.editStop(!0),t==N.keys.edit_cancel&&N.editStop(!1),t!=N.keys.edit_save&&t!=N.keys.edit_cancel||e.preventDefault&&e.preventDefault()},this._editor.onselectstart=function(e){return(e||event).cancelBubble=!0},N._focus(this._editor,!0),this._els.dhx_cal_data[0].scrollLeft=0}if(0!==this.xy.menu_width&&this._select_id==e.id){this.config.cascade_event_display&&this._drag_mode&&(m.style.zIndex=1);for(var y,b=this.config["icons_"+(this._edit_id==e.id?"edit":"select")],x="",w=e.color?"background-color: "+e.color+";":"",k=e.textColor?"color: "+e.textColor+";":"",E=0;E<b.length;E++)y=this._waiAria.eventMenuAttrString(b[E]),x+="<div class='dhx_menu_icon "+b[E]+"' style='"+w+k+"' title='"+this.locale.labels[b[E]]+"'"+y+"></div>";var S=this._render_v_bar(e,_-a+1,s,a,20*b.length+26-2,"","<div style='"+w+k+"' class='dhx_menu_head'></div>",x,!0);S.style.left=_-a+1,this._els.dhx_cal_data[0].appendChild(S),this._rendered.push(S)}this.config.drag_highlight&&this._drag_id==e.id&&this.highlightEventPosition(e)}}},N._render_v_bar=function(e,t,n,a,i,r,o,s,d){var l=document.createElement("div"),c=e.id,u=d?"dhx_cal_event dhx_cal_select_menu":"dhx_cal_event",_=N.getState();_.drag_id==e.id&&(u+=" dhx_cal_event_drag"),_.select_id==e.id&&(u+=" dhx_cal_event_selected");var h=N.templates.event_class(e.start_date,e.end_date,e);h&&(u=u+" "+h),this.config.cascade_event_display&&(u+=" dhx_cal_event_cascade");var f=e.color?"background-color:"+e.color+";":"",p=e.textColor?"color:"+e.textColor+";":"",m=N._border_box_events(),g=a-2,v=m?g:a-4,y=m?g:a-6,b=m?g:a-(this._quirks?4:14),x=m?g-2:a-8,w=m?i-this.xy.event_header_height-1:i-(this._quirks?20:30)+1,k='<div event_id="'+c+'" class="'+u+'" style="position:absolute; top:'+n+"px; "+(this.config.rtl?"right:":"left:")+t+"px; width:"+v+"px; height:"+i+"px;"+(r||"")+'"></div>';l.innerHTML=k;var E=l.cloneNode(!0).firstChild;if(!d&&N.renderEvent(E,e,a,i,o,s))return E;E=l.firstChild;var S='<div class="dhx_event_move dhx_header" style=" width:'+y+"px;"+f+'" >&nbsp;</div>';S+='<div class="dhx_event_move dhx_title" style="'+f+p+'">'+o+"</div>",S+='<div class="dhx_body" style=" width:'+b+"px; height:"+w+"px;"+f+p+'">'+s+"</div>";var D="dhx_event_resize dhx_footer";return(d||!1===e._drag_resize)&&(D="dhx_resize_denied "+D),S+='<div class="'+D+'" style=" width:'+x+"px;"+(d?" margin-top:-1px;":"")+f+p+'" ></div>',E.innerHTML=S,E},N.renderEvent=function(){return!1},N.locate_holder=function(e){return"day"==this._mode?this._els.dhx_cal_data[0].firstChild:this._els.dhx_cal_data[0].childNodes[e]},N.locate_holder_day=function(e,t){var n=Math.floor((this._correct_shift(e,1)-this._min_date)/864e5);return t&&this.date.time_part(e)&&n++,n},N._get_dnd_order=function(e,t,n){if(!this._drag_event)return e;this._drag_event._orig_sorder?e=this._drag_event._orig_sorder:this._drag_event._orig_sorder=e;for(var a=t*e;n<a+t;)e--,a-=t;return Math.max(e,0)},N._get_event_bar_pos=function(e){var t=this.config.rtl,n=this._colsS,a=n[e._sday],i=n[e._eday];t&&(a=n[n.col_length]-n[e._eday]+n[0],i=n[n.col_length]-n[e._sday]+n[0]),i==a&&(i=n[e._eday+1]);var r=this.xy.bar_height,o=e._sorder;if(e.id==this._drag_id){var s=n.heights[e._sweek+1]-n.heights[e._sweek]-this.xy.month_head_height;o=N._get_dnd_order(o,r,s)}var d=o*r;return{x:a,x2:i,y:n.heights[e._sweek]+(n.height?this.xy.month_scale_height+2:2)+d}},N.render_event_bar=function(e){var t=this._rendered_location,n=this._get_event_bar_pos(e),a=n.y,i=n.x,r=n.x2,o="";if(r){var s=N.config.resize_month_events&&"month"==this._mode&&(!e._timed||N.config.resize_month_timed),d=document.createElement("div"),l=e.hasOwnProperty("_first_chunk")&&e._first_chunk,c=e.hasOwnProperty("_last_chunk")&&e._last_chunk,u=s&&(e._timed||l),_=s&&(e._timed||c),h=!0,f="dhx_cal_event_clear";e._timed&&!s||(h=!1,f="dhx_cal_event_line"),l&&(f+=" dhx_cal_event_line_start"),c&&(f+=" dhx_cal_event_line_end"),u&&(o+="<div class='dhx_event_resize dhx_event_resize_start'></div>"),_&&(o+="<div class='dhx_event_resize dhx_event_resize_end'></div>");var p=N.templates.event_class(e.start_date,e.end_date,e);p&&(f+=" "+p);var m=e.color?"background:"+e.color+";":"",g=["position:absolute","top:"+a+"px","left:"+i+"px","width:"+(r-i-3-(h?1:0))+"px",e.textColor?"color:"+e.textColor+";":"",m,e._text_style||""].join(";"),v="<div event_id='"+e.id+"' class='"+f+"' style='"+g+"'"+this._waiAria.eventBarAttrString(e)+">";s&&(v+=o),"month"==N.getState().mode&&(e=N.getEvent(e.id)),e._timed&&(v+=N.templates.event_bar_date(e.start_date,e.end_date,e)),v+=N.templates.event_bar_text(e.start_date,e.end_date,e)+"</div>",v+="</div>",d.innerHTML=v,this._rendered.push(d.firstChild),t.appendChild(d.firstChild)}},N._locate_event=function(e){for(var t=null;e&&!t&&e.getAttribute;)t=e.getAttribute("event_id"),e=e.parentNode;return t},N._locate_css=function(e,t,n){void 0===n&&(n=!0);for(var a=e.target||e.srcElement,i="";a;){if(i=N._getClassName(a)){var r=i.indexOf(t);if(0<=r){if(!n)return a;var o=0===r||!N._trim(i.charAt(r-1)),s=r+t.length>=i.length||!N._trim(i.charAt(r+t.length));if(o&&s)return a}}a=a.parentNode}return null},N.edit=function(e){this._edit_id!=e&&(this.editStop(!1,e),this._edit_id=e,this.updateEvent(e))},N.editStop=function(e,t){if(!t||this._edit_id!=t){var n=this.getEvent(this._edit_id);n&&(e&&(n.text=this._editor.value),this._edit_id=null,this._editor=null,this.updateEvent(n.id),this._edit_stop_event(n,e))}},N._edit_stop_event=function(e,t){this._new_event?(t?this.callEvent("onEventAdded",[e.id,e]):e&&this.deleteEvent(e.id,!0),this._new_event=null):t&&this.callEvent("onEventChanged",[e.id,e])},N.getEvents=function(e,t){var n=[];for(var a in this._events){var i=this._events[a];i&&(!e&&!t||i.start_date<t&&i.end_date>e)&&n.push(i)}return n},N.getRenderedEvent=function(e){if(e){for(var t=N._rendered,n=0;n<t.length;n++){var a=t[n];if(a.getAttribute("event_id")==e)return a}return null}},N.showEvent=function(e,t){var n="number"==typeof e||"string"==typeof e?N.getEvent(e):e;if(t=t||N._mode,n&&(!this.checkEvent("onBeforeEventDisplay")||this.callEvent("onBeforeEventDisplay",[n,t]))){var a=N.config.scroll_hour;N.config.scroll_hour=n.start_date.getHours();var i=N.config.preserve_scroll;N.config.preserve_scroll=!1;var r=n.color,o=n.textColor;if(N.config.highlight_displayed_event&&(n.color=N.config.displayed_event_color,n.textColor=N.config.displayed_event_text_color),N.setCurrentView(new Date(n.start_date),t),n.color=r,n.textColor=o,N.config.scroll_hour=a,N.config.preserve_scroll=i,N.matrix&&N.matrix[t]){var s=N.getView(),d=s.y_property,l=N.getEvent(n.id);if(l){var c=s.posFromSection(l[d]),u=s.posFromDate(l.start_date),_=N.$container.querySelector(".dhx_timeline_data_wrapper");u-=(_.offsetWidth-s.dx)/2,c=c-_.offsetHeight/2+s.dy/2,s.scrollTo({left:u,top:c})}}N.callEvent("onAfterEventDisplay",[n,t])}},N._append_drag_marker=function(e){if(!e.parentNode){var t=N._els.dhx_cal_data[0].lastChild,n=N._getClassName(t);n.indexOf("dhx_scale_holder")<0&&t.previousSibling&&(t=t.previousSibling),n=N._getClassName(t),t&&0===n.indexOf("dhx_scale_holder")&&t.appendChild(e)}},N._update_marker_position=function(e,t){var n=N._calc_event_y(t,0);e.style.top=n.top+"px",e.style.height=n.height+"px"},N.highlightEventPosition=function(e){var t=document.createElement("div");t.setAttribute("event_id",e.id),this._rendered.push(t),this._update_marker_position(t,e);var n=this.templates.drag_marker_class(e.start_date,e.end_date,e),a=this.templates.drag_marker_content(e.start_date,e.end_date,e);t.className="dhx_drag_marker",n&&(t.className+=" "+n),a&&(t.innerHTML=a),this._append_drag_marker(t)},N._loaded={},N._load=function(e,t){function n(e){N.on_load(e),N.callEvent("onLoadEnd",[])}if(e=e||this._load_url){var a;if(e+=(-1==e.indexOf("?")?"?":"&")+"timeshift="+(new Date).getTimezoneOffset(),this.config.prevent_cache&&(e+="&uid="+this.uid()),t=t||this._date,this._load_mode){var i=this.templates.load_format;for(t=this.date[this._load_mode+"_start"](new Date(t.valueOf()));t>this._min_date;)t=this.date.add(t,-1,this._load_mode);a=t;for(var r=!0;a<this._max_date;)a=this.date.add(a,1,this._load_mode),this._loaded[i(t)]&&r?t=this.date.add(t,1,this._load_mode):r=!1;for(var o=a;a=o,t<(o=this.date.add(a,-1,this._load_mode))&&this._loaded[i(o)];);if(a<=t)return!1;for(N.$ajax.get(e+"&from="+i(t)+"&to="+i(a),n);t<a;)this._loaded[i(t)]=!0,t=this.date.add(t,1,this._load_mode)}else N.$ajax.get(e,n);return this.callEvent("onXLS",[]),this.callEvent("onLoadStart",[]),!0}},N._parsers={},N._parsers.xml={canParse:function(e,t){if(t.responseXML&&t.responseXML.firstChild)return!0;try{var n=N.$ajax.parse(t.responseText),a=N.$ajax.xmltop("data",n);if(a&&"data"===a.tagName)return!0}catch(e){}return!1},parse:function(e){var t;if(e.xmlDoc.responseXML||(e.xmlDoc.responseXML=N.$ajax.parse(e.xmlDoc.responseText)),"data"!=(t=N.$ajax.xmltop("data",e.xmlDoc)).tagName)return null;var n=t.getAttribute("dhx_security");n&&(window.dhtmlx&&(dhtmlx.security_key=n),N.security_key=n);for(var a=N.$ajax.xpath("//coll_options",e.xmlDoc),i=0;i<a.length;i++){var r=a[i].getAttribute("for"),o=N.serverList[r];o||(N.serverList[r]=o=[]),o.splice(0,o.length);for(var s=N.$ajax.xpath(".//item",a[i]),d=0;d<s.length;d++){for(var l=s[d].attributes,c={key:s[d].getAttribute("value"),label:s[d].getAttribute("label")},u=0;u<l.length;u++){var _=l[u];"value"!=_.nodeName&&"label"!=_.nodeName&&(c[_.nodeName]=_.nodeValue)}o.push(c)}}a.length&&N.callEvent("onOptionsLoad",[]);var h=N.$ajax.xpath("//userdata",e.xmlDoc);for(i=0;i<h.length;i++){var f=N._xmlNodeToJSON(h[i]);N._userdata[f.name]=f.text}var p=[];t=N.$ajax.xpath("//event",e.xmlDoc);for(i=0;i<t.length;i++){var m=p[i]=N._xmlNodeToJSON(t[i]);N._init_event(m)}return p}},N.json=N._parsers.json={canParse:function(e){if(e&&"object"==typeof e)return!0;if("string"==typeof e)try{var t=JSON.parse(e);return"[object Object]"===Object.prototype.toString.call(t)||"[object Array]"===Object.prototype.toString.call(t)}catch(e){return!1}return!1},parse:function(e){var t=[];"string"==typeof e&&(e=JSON.parse(e)),t=(t="[object Array]"===Object.prototype.toString.call(e)?e:e?e.data:[])||[],e.dhx_security&&(window.dhtmlx&&(dhtmlx.security_key=e.dhx_security),N.security_key=e.dhx_security);var n=e&&e.collections?e.collections:{},a=!1;for(var i in n)if(n.hasOwnProperty(i)){a=!0;var r=n[i],o=N.serverList[i];o||(N.serverList[i]=o=[]),o.splice(0,o.length);for(var s=0;s<r.length;s++){var d=r[s],l={key:d.value,label:d.label};for(var c in d)if(d.hasOwnProperty(c)){if("value"==c||"label"==c)continue;l[c]=d[c]}o.push(l)}}a&&N.callEvent("onOptionsLoad",[]);for(var u=[],_=0;_<t.length;_++){var h=t[_];N._init_event(h),u.push(h)}return u}},N.ical=N._parsers.ical={canParse:function(e){return"string"==typeof e&&new RegExp("^BEGIN:VCALENDAR").test(e)},parse:function(e){var t=e.match(RegExp(this.c_start+"[^\f]*"+this.c_end,""));if(t.length){t[0]=t[0].replace(/[\r\n]+ /g,""),t[0]=t[0].replace(/[\r\n]+(?=[a-z \t])/g," "),t[0]=t[0].replace(/\;[^:\r\n]*:/g,":");for(var n,a=[],i=RegExp("(?:"+this.e_start+")([^\f]*?)(?:"+this.e_end+")","g");null!==(n=i.exec(t));){for(var r,o={},s=/[^\r\n]+[\r\n]+/g;null!==(r=s.exec(n[1]));)this.parse_param(r.toString(),o);o.uid&&!o.id&&(o.id=o.uid),a.push(o)}return a}},parse_param:function(e,t){var n=e.indexOf(":");if(-1!=n){var a=e.substr(0,n).toLowerCase(),i=e.substr(n+1).replace(/\\\,/g,",").replace(/[\r\n]+$/,"");"summary"==a?a="text":"dtstart"==a?(a="start_date",i=this.parse_date(i,0,0)):"dtend"==a&&(a="end_date",i=this.parse_date(i,0,0)),t[a]=i}},parse_date:function(e,t,n){var a=e.split("T"),i=!1;a[1]&&(t=a[1].substr(0,2),n=a[1].substr(2,2),i=!("Z"!=a[1][6]));var r=a[0].substr(0,4),o=parseInt(a[0].substr(4,2),10)-1,s=a[0].substr(6,2);return N.config.server_utc||i?new Date(Date.UTC(r,o,s,t,n)):new Date(r,o,s,t,n)},c_start:"BEGIN:VCALENDAR",e_start:"BEGIN:VEVENT",e_end:"END:VEVENT",c_end:"END:VCALENDAR"},N.on_load=function(e){this.callEvent("onBeforeParse",[]);var t,n=!1,a=!1;for(var i in this._parsers){var r=this._parsers[i];if(r.canParse(e.xmlDoc.responseText,e.xmlDoc)){try{var o=e.xmlDoc.responseText;"xml"===i&&(o=e),(t=r.parse(o))||(n=!0)}catch(e){n=!0}a=!0;break}}if(!a)if(this._process&&this[this._process])try{t=this[this._process].parse(e.xmlDoc.responseText)}catch(e){n=!0}else n=!0;(n||e.xmlDoc.status&&400<=e.xmlDoc.status)&&(this.callEvent("onLoadError",[e.xmlDoc]),t=[]),this._process_loading(t),this.callEvent("onXLE",[]),this.callEvent("onParse",[])},N._process_loading=function(e){this._loading=!0,this._not_render=!0;for(var t=0;t<e.length;t++)this.callEvent("onEventLoading",[e[t]])&&this.addEvent(e[t]);this._not_render=!1,this._render_wait&&this.render_view_data(),this._loading=!1,this._after_call&&this._after_call(),this._after_call=null},N._init_event=function(e){e.text=e.text||e._tagvalue||"",e.start_date=N._init_date(e.start_date),e.end_date=N._init_date(e.end_date)},N._init_date=function(e){return e?"string"==typeof e?N._helpers.parseDate(e):new Date(e):null},N.json={},N.json.parse=function(e){var t=[];"string"==typeof e&&(e=JSON.parse(e)),t=(t="[object Array]"===Object.prototype.toString.call(e)?e:e?e.data:[])||[],e.dhx_security&&(window.dhtmlx&&(dhtmlx.security_key=e.dhx_security),N.security_key=e.dhx_security);var n=e&&e.collections?e.collections:{},a=!1;for(var i in n)if(n.hasOwnProperty(i)){a=!0;var r=n[i],o=N.serverList[i];o||(N.serverList[i]=o=[]),o.splice(0,o.length);for(var s=0;s<r.length;s++){var d=r[s],l={key:d.value,label:d.label};for(var c in d)if(d.hasOwnProperty(c)){if("value"==c||"label"==c)continue;l[c]=d[c]}o.push(l)}}a&&N.callEvent("onOptionsLoad",[]);for(var u=[],_=0;_<t.length;_++){var h=t[_];N._init_event(h),u.push(h)}return u},N.parse=function(e,t){this._process=t,this.on_load({xmlDoc:{responseText:e}})},N.load=function(e,t,n){"string"==typeof t&&(this._process=t,t=n),this._load_url=e,this._after_call=t,this._load(e,this._date)},N.setLoadMode=function(e){"all"==e&&(e=""),this._load_mode=e},N.serverList=function(e,t){return this.serverList[e]=t?t.slice(0):this.serverList[e]||[],this.serverList[e]},N._userdata={},N._xmlNodeToJSON=function(e){for(var t={},n=0;n<e.attributes.length;n++)t[e.attributes[n].name]=e.attributes[n].value;for(n=0;n<e.childNodes.length;n++){var a=e.childNodes[n];1==a.nodeType&&(t[a.tagName]=a.firstChild?a.firstChild.nodeValue:"")}return t.text||(t.text=e.firstChild?e.firstChild.nodeValue:""),t},N.attachEvent("onXLS",function(){var e;!0===this.config.show_loading&&((e=this.config.show_loading=document.createElement("div")).className="dhx_loading",e.style.left=Math.round((this._x-128)/2)+"px",e.style.top=Math.round((this._y-15)/2)+"px",this._obj.appendChild(e))}),N.attachEvent("onXLE",function(){var e=this.config.show_loading;e&&"object"==typeof e&&(e.parentNode&&e.parentNode.removeChild(e),this.config.show_loading=!0)}),N._lightbox_controls={},N.formSection=function(e){for(var t=this.config.lightbox.sections,n=0;n<t.length&&t[n].name!=e;n++);var a=t[n];N._lightbox||N.getLightbox();var i=document.getElementById(a.id),r=i.nextSibling,o={section:a,header:i,node:r,getValue:function(e){return N.form_blocks[a.type].get_value(r,e||{},a)},setValue:function(e,t){return N.form_blocks[a.type].set_value(r,e,t||{},a)}},s=N._lightbox_controls["get_"+a.type+"_control"];return s?s(o):o},N._lightbox_controls.get_template_control=function(e){return e.control=e.node,e},N._lightbox_controls.get_select_control=function(e){return e.control=e.node.getElementsByTagName("select")[0],e},N._lightbox_controls.get_textarea_control=function(e){return e.control=e.node.getElementsByTagName("textarea")[0],e},N._lightbox_controls.get_time_control=function(e){return e.control=e.node.getElementsByTagName("select"),e},N._lightbox_controls.defaults={template:{height:30},textarea:{height:200},select:{height:23},time:{height:20}},N.form_blocks={template:{render:function(e){var t=N._lightbox_controls.defaults.template,n=t?t.height:30;return"<div class='dhx_cal_ltext dhx_cal_template' style='height:"+(e.height||n||30)+"px;'></div>"},set_value:function(e,t){e.innerHTML=t||""},get_value:function(e){return e.innerHTML||""},focus:function(){}},textarea:{render:function(e){var t=N._lightbox_controls.defaults.textarea,n=t?t.height:200;return"<div class='dhx_cal_ltext' style='height:"+(e.height||n||"130")+"px;'><textarea></textarea></div>"},set_value:function(e,t){N.form_blocks.textarea._get_input(e).value=t||""},get_value:function(e){return N.form_blocks.textarea._get_input(e).value},focus:function(e){var t=N.form_blocks.textarea._get_input(e);N._focus(t,!0)},_get_input:function(e){return e.getElementsByTagName("textarea")[0]}},select:{render:function(e){for(var t=N._lightbox_controls.defaults.select,n=t?t.height:23,a="<div class='dhx_cal_ltext' style='height:"+((e.height||n||"23")+"px")+";'><select style='width:100%;'>",i=0;i<e.options.length;i++)a+="<option value='"+e.options[i].key+"'>"+e.options[i].label+"</option>";return a+"</select></div>"},set_value:function(e,t,n,a){var i=e.firstChild;!i._dhx_onchange&&a.onchange&&(i.onchange=a.onchange,i._dhx_onchange=!0),void 0===t&&(t=(i.options[0]||{}).value),i.value=t||""},get_value:function(e){return e.firstChild.value},focus:function(e){var t=e.firstChild;N._focus(t,!0)}},time:{render:function(e){e.time_format||(e.time_format=["%H:%i","%d","%m","%Y"]),e._time_format_order={};var t=e.time_format,n=N.config,a=N.date.date_part(N._currentDate()),i=1440,r=0;N.config.limit_time_select&&(i=60*n.last_hour+1,r=60*n.first_hour,a.setHours(n.first_hour));for(var o="",s=0;s<t.length;s++){var d=t[s];0<s&&(o+=" ");var l="",c="";switch(d){case"%Y":var u,_,h;l="dhx_lightbox_year_select",e._time_format_order[3]=s,e.year_range&&(isNaN(e.year_range)?e.year_range.push&&(_=e.year_range[0],h=e.year_range[1]):u=e.year_range),u=u||10;var f=f||Math.floor(u/2);_=_||a.getFullYear()-f,h=h||_+u;for(var p=_;p<h;p++)c+="<option value='"+p+"'>"+p+"</option>";break;case"%m":l="dhx_lightbox_month_select",e._time_format_order[2]=s;for(p=0;p<12;p++)c+="<option value='"+p+"'>"+this.locale.date.month_full[p]+"</option>";break;case"%d":l="dhx_lightbox_day_select",e._time_format_order[1]=s;for(p=1;p<32;p++)c+="<option value='"+p+"'>"+p+"</option>";break;case"%H:%i":l="dhx_lightbox_time_select",e._time_format_order[0]=s;p=r;var m=a.getDate();for(e._time_values=[];p<i;)c+="<option value='"+p+"'>"+this.templates.time_picker(a)+"</option>",e._time_values.push(p),a.setTime(a.valueOf()+60*this.config.time_step*1e3),p=24*(a.getDate()!=m?1:0)*60+60*a.getHours()+a.getMinutes()}if(c){var g=N._waiAria.lightboxSelectAttrString(d);o+="<select class='"+l+"' "+(e.readonly?"disabled='disabled'":"")+g+">"+c+"</select> "}}var v=N._lightbox_controls.defaults.select;return"<div style='height:"+((v?v.height:23)||30)+"px;padding-top:0px;font-size:inherit;' class='dhx_section_time'>"+o+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+o+"</div>"},set_value:function(t,e,n,l){function a(e,t,n){for(var a=l._time_values,i=60*n.getHours()+n.getMinutes(),r=i,o=!1,s=0;s<a.length;s++){var d=a[s];if(d===i){o=!0;break}d<i&&(r=d)}e[t+c[0]].value=o?i:r,o||r||(e[t+c[0]].selectedIndex=-1),e[t+c[1]].value=n.getDate(),e[t+c[2]].value=n.getMonth(),e[t+c[3]].value=n.getFullYear()}var i,r,o=N.config,s=t.getElementsByTagName("select"),c=l._time_format_order;if(o.full_day){if(!t._full_day){var d="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+N.locale.labels.full_day+"&nbsp;</label></input>";N.config.wide_form||(d=t.previousSibling.innerHTML+d),t.previousSibling.innerHTML=d,t._full_day=!0}var u=t.previousSibling.getElementsByTagName("input")[0];u.checked=0===N.date.time_part(n.start_date)&&0===N.date.time_part(n.end_date),s[c[0]].disabled=u.checked,s[c[0]+s.length/2].disabled=u.checked,u.onclick=function(){if(u.checked){var e={};N.form_blocks.time.get_value(t,e,l),i=N.date.date_part(e.start_date),(+(r=N.date.date_part(e.end_date))==+i||+i<=+r&&(0!==n.end_date.getHours()||0!==n.end_date.getMinutes()))&&(r=N.date.add(r,1,"day"))}else r=i=null;s[c[0]].disabled=u.checked,s[c[0]+s.length/2].disabled=u.checked,a(s,0,i||n.start_date),a(s,4,r||n.end_date)}}if(o.auto_end_date&&o.event_duration)for(var _=function(){i=new Date(s[c[3]].value,s[c[2]].value,s[c[1]].value,0,s[c[0]].value),r=new Date(i.getTime()+60*N.config.event_duration*1e3),a(s,4,r)},h=0;h<4;h++)s[h].onchange=_;a(s,0,n.start_date),a(s,4,n.end_date)},get_value:function(e,t,n){var a=e.getElementsByTagName("select"),i=n._time_format_order;if(t.start_date=new Date(a[i[3]].value,a[i[2]].value,a[i[1]].value,0,a[i[0]].value),t.end_date=new Date(a[i[3]+4].value,a[i[2]+4].value,a[i[1]+4].value,0,a[i[0]+4].value),!a[i[3]].value||!a[i[3]+4].value){var r=N.getEvent(N._lightbox_id);r&&(t.start_date=r.start_date,t.end_date=r.end_date)}return t.end_date<=t.start_date&&(t.end_date=N.date.add(t.start_date,N.config.time_step,"minute")),{start_date:new Date(t.start_date),end_date:new Date(t.end_date)}},focus:function(e){N._focus(e.getElementsByTagName("select")[0])}}},N._setLbPosition=function(e){if(e){var t=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,n=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,a=window.innerHeight||document.documentElement.clientHeight;e.style.top=t?Math.round(t+Math.max((a-e.offsetHeight)/2,0))+"px":Math.round(Math.max((a-e.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>document.body.offsetWidth?e.style.left=Math.round(n+(document.body.offsetWidth-e.offsetWidth)/2)+"px":e.style.left=Math.round((document.body.offsetWidth-e.offsetWidth)/2)+"px"}},N.showCover=function(e){e&&(e.style.display="block",this._setLbPosition(e)),N.config.responsive_lightbox&&(document.documentElement.classList.add("dhx_cal_overflow_container"),document.body.classList.add("dhx_cal_overflow_container")),this.show_cover()},N.showLightbox=function(e){if(e){if(!this.callEvent("onBeforeLightbox",[e]))return void(this._new_event&&(this._new_event=null));var t=this.getLightbox();this.showCover(t),this._fill_lightbox(e,t),this._waiAria.lightboxVisibleAttr(t),this.callEvent("onLightbox",[e])}},N._fill_lightbox=function(e,t){var n=this.getEvent(e),a=t.getElementsByTagName("span"),i=[];if(N.templates.lightbox_header){i.push("");var r=N.templates.lightbox_header(n.start_date,n.end_date,n);i.push(r),a[1].innerHTML="",a[2].innerHTML=r}else{var o=this.templates.event_header(n.start_date,n.end_date,n),s=(this.templates.event_bar_text(n.start_date,n.end_date,n)||"").substr(0,70);i.push(o),i.push(s),a[1].innerHTML=o,a[2].innerHTML=s}this._waiAria.lightboxHeader(t,i.join(" "));for(var d=this.config.lightbox.sections,l=0;l<d.length;l++){var c=d[l],u=N._get_lightbox_section_node(c),_=this.form_blocks[c.type],h=void 0!==n[c.map_to]?n[c.map_to]:c.default_value;_.set_value.call(this,u,h,n,c),d[l].focus&&_.focus.call(this,u)}N._lightbox_id=e},N._get_lightbox_section_node=function(e){return document.getElementById(e.id).nextSibling},N._lightbox_out=function(e){for(var t=this.config.lightbox.sections,n=0;n<t.length;n++){var a=document.getElementById(t[n].id);a=a?a.nextSibling:a;var i=this.form_blocks[t[n].type].get_value.call(this,a,e,t[n]);"auto"!=t[n].map_to&&(e[t[n].map_to]=i)}return e},N._empty_lightbox=function(e){var t=N._lightbox_id,n=this.getEvent(t);this.getLightbox(),this._lame_copy(n,e),this.setEvent(n.id,n),this._edit_stop_event(n,!0),this.render_view_data()},N.hide_lightbox=function(){N.endLightbox(!1,this.getLightbox())},N.hideLightbox=N.hide_lightbox,N.hideCover=function(e){e&&(e.style.display="none"),this.hide_cover(),N.config.responsive_lightbox&&(document.documentElement.classList.remove("dhx_cal_overflow_container"),document.body.classList.remove("dhx_cal_overflow_container"))},N.hide_cover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},N.set_cover_height=function(){var e=void 0!==document.height?document.height:document.body.offsetHeight,t=document.documentElement?document.documentElement.scrollHeight:0;Math.max(e,t)},N.show_cover=function(){this._cover||(this._cover=document.createElement("div"),this._cover.className="dhx_cal_cover",this.set_cover_height(this._cover.style.height),document.body.appendChild(this._cover))},N.save_lightbox=function(){var e=this._lightbox_out({},this._lame_copy(this.getEvent(this._lightbox_id)));this.checkEvent("onEventSave")&&!this.callEvent("onEventSave",[this._lightbox_id,e,this._new_event])||(this._empty_lightbox(e),this.hide_lightbox())},N.startLightbox=function(e,t){this._lightbox_id=e,this._custom_lightbox=!0,this._temp_lightbox=this._lightbox,this._lightbox=t,this.showCover(t)},N.endLightbox=function(e,t){t=t||N.getLightbox();var n=N.getEvent(this._lightbox_id);n&&this._edit_stop_event(n,e),e&&N.render_view_data(),this.hideCover(t),this._custom_lightbox&&(this._lightbox=this._temp_lightbox,this._custom_lightbox=!1),this._temp_lightbox=this._lightbox_id=null,this._waiAria.lightboxHiddenAttr(t),this.callEvent("onAfterLightbox",[])},N.resetLightbox=function(){N._lightbox&&!N._custom_lightbox&&N._lightbox.parentNode.removeChild(N._lightbox),N._lightbox=null},N.cancel_lightbox=function(){this.callEvent("onEventCancel",[this._lightbox_id,this._new_event]),this.hide_lightbox()},N._init_lightbox_events=function(){this.getLightbox().onclick=function(e){var t=e?e.target:event.srcElement;if(t.className||(t=t.previousSibling),!(t&&t.className&&-1<N._getClassName(t).indexOf("dhx_btn_set"))||(t=t.querySelector("[dhx_button]"))){var n=N._getClassName(t);if(t&&n)switch(n){case"dhx_save_btn":N.save_lightbox();break;case"dhx_delete_btn":var a=N.locale.labels.confirm_deleting;N._dhtmlx_confirm(a,N.locale.labels.title_confirm_deleting,function(){N.deleteEvent(N._lightbox_id),N._new_event=null,N.hide_lightbox()});break
;case"dhx_cancel_btn":N.cancel_lightbox();break;default:var i,r;if(t.getAttribute("dhx_button"))N.callEvent("onLightboxButton",[n,t,e]);else-1!=n.indexOf("dhx_custom_button")&&(-1!=n.indexOf("dhx_custom_button_")?(i=t.parentNode.getAttribute("index"),r=t.parentNode.parentNode):(i=t.getAttribute("index"),r=t.parentNode,t=t.firstChild)),i&&N.form_blocks[N.config.lightbox.sections[i].type].button_click(i,t,r,r.nextSibling)}}},this.getLightbox().onkeydown=function(e){var t=e||window.event,n=e.target||e.srcElement,a=n.querySelector("[dhx_button]");switch(a||(a=n.parentNode.querySelector(".dhx_custom_button, .dhx_readonly")),(e||t).keyCode){case 32:if((e||t).shiftKey)return;a&&a.click&&a.click();break;case N.keys.edit_save:if((e||t).shiftKey)return;a&&a.click?a.click():N.save_lightbox();break;case N.keys.edit_cancel:N.cancel_lightbox()}}},N.setLightboxSize=function(){var e=this._lightbox;if(e){var t=e.childNodes[1];t.style.height="0px",t.style.height=t.scrollHeight+"px",e.style.height=t.scrollHeight+N.xy.lightbox_additional_height+"px",t.style.height=t.scrollHeight+"px"}},N._init_dnd_events=function(){N.event(document.body,"mousemove",N._move_while_dnd),N.event(document.body,"mouseup",N._finish_dnd),N._init_dnd_events=function(){}},N._move_while_dnd=function(e){if(N._dnd_start_lb){document.dhx_unselectable||(document.body.className+=" dhx_unselectable",document.dhx_unselectable=!0);var t=N.getLightbox(),n=e&&e.target?[e.pageX,e.pageY]:[event.clientX,event.clientY];t.style.top=N._lb_start[1]+n[1]-N._dnd_start_lb[1]+"px",t.style.left=N._lb_start[0]+n[0]-N._dnd_start_lb[0]+"px"}},N._ready_to_dnd=function(e){var t=N.getLightbox();N._lb_start=[parseInt(t.style.left,10),parseInt(t.style.top,10)],N._dnd_start_lb=e&&e.target?[e.pageX,e.pageY]:[event.clientX,event.clientY]},N._finish_dnd=function(){N._lb_start&&(N._lb_start=N._dnd_start_lb=!1,document.body.className=document.body.className.replace(" dhx_unselectable",""),document.dhx_unselectable=!1)},N.getLightbox=function(){if(!this._lightbox){var e=document.createElement("div");e.className="dhx_cal_light",N.config.wide_form&&(e.className+=" dhx_cal_light_wide"),N.form_blocks.recurring&&(e.className+=" dhx_cal_light_rec"),N.config.rtl&&(e.className+=" dhx_cal_light_rtl"),N.config.responsive_lightbox&&(e.className+=" dhx_cal_light_responsive"),/msie|MSIE 6/.test(navigator.userAgent)&&(e.className+=" dhx_ie6"),e.style.visibility="hidden";for(var t=this._lightbox_template,n=this.config.buttons_left,a=0;a<n.length;a++)t+="<div "+this._waiAria.lightboxButtonAttrString(n[a])+" class='dhx_btn_set dhx_"+(N.config.rtl?"right":"left")+"_btn_set "+n[a]+"_set'><div dhx_button='1' class='"+n[a]+"'></div><div>"+N.locale.labels[n[a]]+"</div></div>";n=this.config.buttons_right;var i=N.config.rtl;for(a=0;a<n.length;a++)t+="<div "+this._waiAria.lightboxButtonAttrString(n[a])+" class='dhx_btn_set dhx_"+(i?"left":"right")+"_btn_set "+n[a]+"_set' style='float:"+(i?"left":"right")+";'><div dhx_button='1' class='"+n[a]+"'></div><div>"+N.locale.labels[n[a]]+"</div></div>";t+="</div>",e.innerHTML=t,N.config.drag_lightbox&&(e.firstChild.onmousedown=N._ready_to_dnd,e.firstChild.onselectstart=function(){return!1},e.firstChild.style.cursor="move",N._init_dnd_events()),this._waiAria.lightboxAttr(e),document.body.insertBefore(e,document.body.firstChild),this._lightbox=e;var r=this.config.lightbox.sections;t="";for(a=0;a<r.length;a++){var o=this.form_blocks[r[a].type];if(o){r[a].id="area_"+this.uid();var s="";if(r[a].button)s="<div "+N._waiAria.lightboxSectionButtonAttrString(this.locale.labels["button_"+r[a].button])+" class='dhx_custom_button' index='"+a+"'><div class='dhx_custom_button_"+r[a].button+"'></div><div>"+this.locale.labels["button_"+r[a].button]+"</div></div>";this.config.wide_form&&(t+="<div class='dhx_wrap_section'>");var d=this.locale.labels["section_"+r[a].name];"string"!=typeof d&&(d=r[a].name),t+="<div id='"+r[a].id+"' class='dhx_cal_lsection'>"+s+"<label>"+d+"</label></div>"+o.render.call(this,r[a]),t+="</div>"}}var l=e.getElementsByTagName("div");for(a=0;a<l.length;a++){var c=l[a];if("dhx_cal_larea"==N._getClassName(c)){c.innerHTML=t;break}}N._bindLightboxLabels(r),this.setLightboxSize(),this._init_lightbox_events(this),e.style.display="none",e.style.visibility="visible"}return this._lightbox},N._bindLightboxLabels=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.id&&document.getElementById(n.id)){for(var a=document.getElementById(n.id).querySelector("label"),i=N._get_lightbox_section_node(n);i&&!i.querySelector;)i=i.nextSibling;var r=!0;if(i){var o=i.querySelector("input, select, textarea");o&&(n.inputId=o.id||"input_"+N.uid(),o.id||(o.id=n.inputId),a.setAttribute("for",n.inputId),r=!1)}r&&N.form_blocks[n.type].focus&&(a.onclick=function(n){return function(){var e=N.form_blocks[n.type],t=N._get_lightbox_section_node(n);e&&e.focus&&e.focus.call(N,t)}}(n))}}},N.attachEvent("onEventIdChange",function(e,t){this._lightbox_id==e&&(this._lightbox_id=t)}),N._lightbox_template="<div class='dhx_cal_ltitle'><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span></div><div class='dhx_cal_larea'></div>",N._init_touch_events=function(){if(this.config.touch&&(-1!=navigator.userAgent.indexOf("Mobile")||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android")||-1!=navigator.userAgent.indexOf("Touch"))&&!window.MSStream&&(this.xy.scroll_width=0,this._mobile=!0),this.config.touch){var e=!0;try{document.createEvent("TouchEvent")}catch(i){e=!1}e?this._touch_events(["touchmove","touchstart","touchend"],function(e){return e.touches&&1<e.touches.length?null:e.touches[0]?{target:e.target,pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:e},function(){return!1}):window.PointerEvent||window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(e){return"mouse"==e.pointerType?null:e},function(e){return!e||"mouse"==e.pointerType}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(e){return e.pointerType==e.MSPOINTER_TYPE_MOUSE?null:e},function(e){return!e||e.pointerType==e.MSPOINTER_TYPE_MOUSE})}},N._touch_events=function(e,o,s){function t(e,t,n){e.addEventListener(t,function(e){return!!N._is_lightbox_open()||(s(e)?void 0:n(e))},{passive:!1})}function n(e,t,n,a){if(!e||!t)return!1;for(var i=e.target;i&&i!=N._obj;)i=i.parentNode;if(i!=N._obj)return!1;if(N.matrix&&N.matrix[N.getState().mode]&&N.matrix[N.getState().mode].scrollable)return!1;var r=Math.abs(e.pageY-t.pageY),o=Math.abs(e.pageX-t.pageX);return r<a&&n<o&&(!r||3<o/r)&&(e.pageX>t.pageX?N._click.dhx_cal_next_button():N._click.dhx_cal_prev_button(),!0)}function a(e){if(!s(e)){var t=N.getState().drag_mode,r=!!N.matrix&&N.matrix[N._mode],n=N.render_view_data;return"create"==t&&r&&(N.render_view_data=function(){for(var e=N.getState().drag_id,t=N.getEvent(e),n=r.y_property,a=N.getEvents(t.start_date,t.end_date),i=0;i<a.length;i++)a[i][n]!=t[n]&&(a.splice(i,1),i--);t._sorder=a.length-1,t._count=a.length,this.render_data([t],N.getState().mode)}),N._on_mouse_move(e),"create"==t&&r&&(N.render_view_data=n),e.preventDefault&&e.preventDefault(),!(e.cancelBubble=!0)}}function i(e){s(e)||(N._hide_global_tip(),u&&(N._on_mouse_up(o(e||event)),N._temp_touch_block=!1),N._drag_id=null,N._drag_mode=null,N._drag_pos=null,N._pointerDragId=null,clearTimeout(c),u=h=!1,_=!0)}var d,l,c,u,_,h,f=(-1!=navigator.userAgent.indexOf("Android")&&navigator.userAgent.indexOf("WebKit"),0);t(document.body,e[0],function(e){if(!s(e)){var t=o(e);if(t){if(u)return a(t),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,N._update_global_tip(),!1;if(l=o(e),h)return l?void((d.target!=l.target||5<Math.abs(d.pageX-l.pageX)||5<Math.abs(d.pageY-l.pageY))&&(_=!0,clearTimeout(c))):void(_=!0)}}}),t(this._els.dhx_cal_data[0],"touchcancel",i),t(this._els.dhx_cal_data[0],"contextmenu",function(e){if(!s(e))return h?(e&&e.preventDefault&&e.preventDefault(),!((e||event).cancelBubble=!0)):void 0}),t(this._obj,e[1],function(e){if(!s(e)){var t;if(N._pointerDragId=e.pointerId,u=_=!1,h=!0,!(t=l=o(e)))return void(_=!0);var n=new Date;if(!_&&!u&&n-f<250)return N._click.dhx_cal_data(t),window.setTimeout(function(){t.type="dblclick",N._on_dbl_click(t)},50),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!(N._block_next_stop=!0);if(f=n,!_&&!u&&N.config.touch_drag){var a=N._locate_event(document.activeElement),i=N._locate_event(t.target),r=d?N._locate_event(d.target):null;if(a&&i&&a==i&&a!=r)return e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,N._ignore_next_click=!1,N._click.dhx_cal_data(t),d=t,!1;c=setTimeout(function(){u=!0;var e=d.target,t=N._getClassName(e);e&&-1!=t.indexOf("dhx_body")&&(e=e.previousSibling),N._on_mouse_down(d,e),N._drag_mode&&"create"!=N._drag_mode&&N.for_rendered(N._drag_id,function(e,t){e.style.display="none",N._rendered.splice(t,1)}),N.config.touch_tip&&N._show_global_tip(),N.updateEvent(N._drag_id)},N.config.touch_drag),d=t}}}),t(this._els.dhx_cal_data[0],e[2],function(e){if(!s(e))return N.config.touch_swipe_dates&&!u&&n(d,l,200,100)&&(N._block_next_stop=!0),u&&(N._ignore_next_click=!0,setTimeout(function(){N._ignore_next_click=!1},100)),i(e),N._block_next_stop?(N._block_next_stop=!1,e.preventDefault&&e.preventDefault(),!(e.cancelBubble=!0)):void 0}),N.event(document.body,e[2],i)},N._show_global_tip=function(){N._hide_global_tip();var e=N._global_tip=document.createElement("div");e.className="dhx_global_tip",N._update_global_tip(1),document.body.appendChild(e)},N._update_global_tip=function(e){var t=N._global_tip;if(t){var n="";if(N._drag_id&&!e){var a=N.getEvent(N._drag_id);a&&(n="<div>"+(a._timed?N.templates.event_header(a.start_date,a.end_date,a):N.templates.day_date(a.start_date,a.end_date,a))+"</div>")}"create"==N._drag_mode||"new-size"==N._drag_mode?t.innerHTML=(N.locale.labels.drag_to_create||"Drag to create")+n:t.innerHTML=(N.locale.labels.drag_to_move||"Drag to move")+n}},N._hide_global_tip=function(){var e=N._global_tip;e&&e.parentNode&&(e.parentNode.removeChild(e),N._global_tip=0)},N._dp_init=function(n){n._methods=["_set_event_text_style","","_dp_change_event_id","_dp_hook_delete"],this._dp_change_event_id=function(e,t){N.getEvent(e)&&N.changeEventId(e,t)},this._dp_hook_delete=function(e,t){if(N.getEvent(e))return t&&e!=t&&("true_deleted"==this.getUserData(e,n.action_param)&&this.setUserData(e,n.action_param,"updated"),this.changeEventId(e,t)),this.deleteEvent(t,!0)},this.attachEvent("onEventAdded",function(e){!this._loading&&this._validId(e)&&n.setUpdated(e,!0,"inserted")}),this.attachEvent("onConfirmedBeforeEventDelete",function(e){if(this._validId(e)){var t=n.getState(e);return"inserted"==t||this._new_event?(n.setUpdated(e,!1),!0):"deleted"!=t&&("true_deleted"==t||(n.setUpdated(e,!0,"deleted"),!1))}}),this.attachEvent("onEventChanged",function(e){!this._loading&&this._validId(e)&&n.setUpdated(e,!0,"updated")}),N.attachEvent("onClearAll",function(){n._in_progress={},n._invalid={},n.updatedRows=[],n._waitMode=0});var i=function(e,t,n){for(var a in n=n||"",t=t||{},e)0!==a.indexOf("_")&&(e[a]&&e[a].getUTCFullYear?t[n+a]=this.obj._helpers.formatDate(e[a]):e[a]&&"object"==typeof e[a]?i.call(this,e[a],t,n+a+"."):t[n+a]=e[a]);return t},a=function(e){var t=N.utils.copy(e);for(var n in t)0===n.indexOf("_")?delete t[n]:t[n]&&(t[n].getUTCFullYear?t[n]=this.obj._helpers.formatDate(t[n]):"object"==typeof t[n]&&(t[n]=a(t[n])));return t};n._getRowData=function(e){var t=this.obj.getEvent(e);return"JSON"==this._tMode?a.call(this,t):i.call(this,t)},n._clearUpdateFlag=function(){},n.attachEvent("insertCallback",N._update_callback),n.attachEvent("updateCallback",N._update_callback),n.attachEvent("deleteCallback",function(e,t){this.obj.getEvent(t)?(this.obj.setUserData(t,this.action_param,"true_deleted"),this.obj.deleteEvent(t)):this.obj._add_rec_marker&&this.obj._update_callback(e,t)})},N._validId=function(){return!0},N.setUserData=function(e,t,n){if(e){var a=this.getEvent(e);a&&(a[t]=n)}else this._userdata[t]=n},N.getUserData=function(e,t){if(e){var n=this.getEvent(e);return n?n[t]:null}return this._userdata[t]},N._set_event_text_style=function(e,t){if(N.getEvent(e)){this.for_rendered(e,function(e){e.style.cssText+=";"+t});var n=this.getEvent(e);n._text_style=t,this.event_updated(n)}},N._update_callback=function(e){var t=N._xmlNodeToJSON(e.firstChild);"none"==t.rec_type&&(t.rec_pattern="none"),t.text=t.text||t._tagvalue,t.start_date=N._helpers.parseDate(t.start_date),t.end_date=N._helpers.parseDate(t.end_date),N.addEvent(t),N._add_rec_marker&&N.setCurrentView()},N.getRootView=function(){return{view:{render:function(){return{tag:"div",type:1,attrs:{style:"width:100%;height:100%;"},hooks:{didInsert:function(){N.setCurrentView()}},body:[{el:this.el,type:1}]}},init:function(){var e=document.createElement("DIV");e.id="scheduler_"+N.uid(),e.style.width="100%",e.style.height="100%",e.classList.add("dhx_cal_container"),e.cmp="grid",e.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" name="day_tab"></div><div class="dhx_cal_tab" name="week_tab"></div><div class="dhx_cal_tab" name="month_tab"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',N.init(e),this.el=e}},type:4}},N._skin_settings={fix_tab_position:[1,0],use_select_menu_space:[1,0],wide_form:[1,0],hour_size_px:[44,42],displayed_event_color:["#ff4a4a","ffc5ab"],displayed_event_text_color:["#ffef80","7e2727"]},N._skin_xy={lightbox_additional_height:[90,50],nav_height:[59,22],bar_height:[24,20]},N._is_material_skin=function(){return N.skin?-1<(N.skin+"").indexOf("material"):e()},window.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n),N._border_box_events=function(){return t()},N._configure=function(e,t,n){for(var a in t)void 0===e[a]&&(e[a]=t[a][n])},N._skin_init=function(){if(!N.skin)for(var e=document.getElementsByTagName("link"),t=0;t<e.length;t++){var n=e[t].href.match("dhtmlxscheduler_([a-z]+).css");if(n){N.skin=n[1];break}}var a=0;if(!N.skin||"classic"!==N.skin&&"glossy"!==N.skin||(a=1),N._is_material_skin()){var i=N.config.buttons_left.$inital,r=N.config.buttons_right.$inital;if(i&&N.config.buttons_left.slice().join()==i&&r&&N.config.buttons_right.slice().join()==r){var o=N.config.buttons_left.slice();N.config.buttons_left=N.config.buttons_right.slice(),N.config.buttons_right=o}N.xy.event_header_height=18,N.xy.week_agenda_scale_height=35,N.xy.map_icon_width=38,N._lightbox_controls.defaults.textarea.height=64,N._lightbox_controls.defaults.time.height="auto"}if(this._configure(N.config,N._skin_settings,a),this._configure(N.xy,N._skin_xy,a),"flat"===N.skin&&(N.xy.scale_height=35,N.templates.hour_scale=function(e){var t=e.getMinutes();return t=t<10?"0"+t:t,"<span class='dhx_scale_h'>"+e.getHours()+"</span><span class='dhx_scale_m'>&nbsp;"+t+"</span>"}),!a){var s=N.config.minicalendar;s&&(s.padding=14),N.templates.event_bar_date=function(e){return"\u2022 <b>"+N.templates.event_date(e)+"</b> "},N.attachEvent("onTemplatesReady",function(){var n=N.date.date_to_str("%d");N.templates._old_month_day||(N.templates._old_month_day=N.templates.month_day);var a=N.templates._old_month_day;if(N.templates.month_day=function(e){if("month"!=this._mode)return a.call(this,e);var t=n(e);return 1==e.getDate()&&(t=N.locale.date.month_full[e.getMonth()]+" "+t),+e==+N.date.date_part(this._currentDate())&&(t=N.locale.labels.dhx_cal_today_button+" "+t),t},N.config.fix_tab_position){var e=N._els.dhx_cal_navline[0].getElementsByTagName("div"),t=null,i=211,r=[14,75,136],o=14;N._is_material_skin()&&(r=[16,103,192],i=294,o=-1);for(var s=0;s<e.length;s++){var d=e[s],l=d.getAttribute("name");if(l){switch(d.style.right="auto",l){case"day_tab":d.style.left=r[0]+"px",d.className+=" dhx_cal_tab_first";break;case"week_tab":d.style.left=r[1]+"px";break;case"month_tab":d.style.left=r[2]+"px",d.className+=" dhx_cal_tab_last";break;default:d.style.left=i+"px",d.className+=" dhx_cal_tab_standalone",i=i+o+d.offsetWidth}d.className+=" "+l}else 0===(d.className||"").indexOf("dhx_minical_icon")&&d.parentNode==N._els.dhx_cal_navline[0]&&(t=d)}t&&(t.style.left=i+"px")}}),N._skin_init=function(){}}},window.jQuery&&(S=jQuery,D=0,C=[],S.fn.dhx_scheduler=function(a){if("string"!=typeof a){var i=[];return this.each(function(){if(this&&this.getAttribute)if(this.getAttribute("dhxscheduler"))i.push(window[this.getAttribute("dhxscheduler")]);else{var e="scheduler";D&&(e="scheduler"+(D+1),window[e]=Scheduler.getSchedulerInstance());var t=window[e];for(var n in this.setAttribute("dhxscheduler",e),a)"data"!=n&&(t.config[n]=a[n]);this.getElementsByTagName("div").length||(this.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',this.className+=" dhx_cal_container"),t.init(this,t.config.date,t.config.mode),a.data&&t.parse(a.data),i.push(t),D++}}),1===i.length?i[0]:i}if(C[a])return C[a].apply(this,[]);S.error("Method "+a+" does not exist on jQuery.dhx_scheduler")}),function(){function r(e,t,n){t&&(e._date=t),n&&(e._mode=n)}var e=N.setCurrentView,o=N.updateView,s=null,d=null,t=function(e,t){var n=this;window.clearTimeout(d),window.clearTimeout(s);var a=n._date,i=n._mode;r(this,e,t),d=setTimeout(function(){n.callEvent("onBeforeViewChange",[i,a,t||n._mode,e||n._date])?(o.call(n,e,t),n.callEvent("onViewChange",[n._mode,n._date]),window.clearTimeout(s),d=0):r(n,a,i)},N.config.delay_render)},n=function(e,t){var n=this,a=arguments;r(this,e,t),window.clearTimeout(s),s=setTimeout(function(){d||o.apply(n,a)},N.config.delay_render)};N.attachEvent("onSchedulerReady",function(){N.config.delay_render?(N.setCurrentView=t,N.updateView=n):(N.setCurrentView=e,N.updateView=o)})}();for(var T=0;T<Scheduler._schedulerPlugins.length;T++)Scheduler._schedulerPlugins[T](N);return N._internal_id=Scheduler._seed++,Scheduler.$syncFactory&&Scheduler.$syncFactory(N),N}};window.scheduler=Scheduler.getSchedulerInstance(),window.Scheduler={plugin:scheduler.bind(Scheduler.plugin,Scheduler)},dhtmlx&&dhtmlx.attaches&&(dhtmlx.attaches.attachScheduler=function(e,t,n,a){n=n||'<div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>';var i=document.createElement("DIV");return i.id="dhxSchedObj_"+this._genStr(12),i.innerHTML='<div id="'+i.id+'" class="dhx_cal_container" style="width:100%; height:100%;"><div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div>'+n+'</div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div></div>',document.body.appendChild(i.firstChild),this.attachObject(i.id,!1,!0),this.vs[this.av].sched=a,this.vs[this.av].schedId=i.id,a.setSizes=a.updateView,a.destructor=function(){},a.init(i.id,e,t),this.vs[this._viewRestore()].sched})}(),Scheduler.plugin(function(i){i.config.active_link_view="day",i._active_link_click=function(e){var t=(e.target||event.srcElement).getAttribute("jump_to"),n=i.date.str_to_date(i.config.api_date);if(t)return i.setCurrentView(n(t),i.config.active_link_view),e&&e.preventDefault&&e.preventDefault(),!1},i.attachEvent("onTemplatesReady",function(){var e=function(e,t){t=t||e+"_scale_date",i.templates["_active_links_old_"+t]||(i.templates["_active_links_old_"+t]=i.templates[t]);var n=i.templates["_active_links_old_"+t],a=i.date.date_to_str(i.config.api_date);i.templates[t]=function(e){return"<a jump_to='"+a(e)+"' href='#'>"+n(e)+"</a>"}};if(e("week"),e("","month_day"),this.matrix)for(var t in this.matrix)e(t);this._detachDomEvent(this._obj,"click",i._active_link_click),i.event(this._obj,"click",i._active_link_click)})}),Scheduler.plugin(function(_){_.date.add_agenda=function(e){return _.date.add(e,1,"year")},_.templates.agenda_time=function(e,t,n){return n._timed?this.day_date(n.start_date,n.end_date,n)+" "+this.event_date(e):_.templates.day_date(e)+" &ndash; "+_.templates.day_date(t)},_.templates.agenda_text=function(e,t,n){return n.text},_.templates.agenda_date=function(){return""},_.date.agenda_start=function(){return _.date.date_part(_._currentDate())},_.attachEvent("onTemplatesReady",function(){function t(e){if(e){var t=_.locale.labels,n=_._waiAria.agendaHeadAttrString(),a=_._waiAria.agendaHeadDateString(t.date),i=_._waiAria.agendaHeadDescriptionString(t.description);_._els.dhx_cal_header[0].innerHTML="<div "+n+" class='dhx_agenda_line'><div "+a+">"+t.date+"</div><span class = 'description_header' style='padding-left:25px' "+i+">"+t.description+"</span></div>",_._table_view=!0,_.set_sizes()}}function n(){var e=(_._date,_.get_visible_events());e.sort(function(e,t){return e.start_date>t.start_date?1:-1});for(var t,n="<div class='dhx_agenda_area' "+_._waiAria.agendaDataAttrString()+">",a=0;a<e.length;a++){var i=e[a],r=i.color?"background:"+i.color+";":"",o=i.textColor?"color:"+i.textColor+";":"",s=_.templates.event_class(i.start_date,i.end_date,i);t=_._waiAria.agendaEventAttrString(i);var d=_._waiAria.agendaDetailsBtnString();n+="<div "+t+" class='dhx_agenda_line"+(s?" "+s:"")+"' event_id='"+i.id+"' style='"+o+r+(i._text_style||"")+"'><div class='dhx_agenda_event_time'>"+(_.config.rtl?_.templates.agenda_time(i.end_date,i.start_date,i):_.templates.agenda_time(i.start_date,i.end_date,i))+"</div>",n+="<div "+d+" class='dhx_event_icon icon_details'>&nbsp;</div>",n+="<span>"+_.templates.agenda_text(i.start_date,i.end_date,i)+"</span></div>"}n+="<div class='dhx_v_border'></div></div>",_._els.dhx_cal_data[0].innerHTML=n,_._els.dhx_cal_data[0].childNodes[0].scrollTop=_._agendaScrollTop||0;var l=_._els.dhx_cal_data[0].childNodes[0];l.childNodes[l.childNodes.length-1].style.height=l.offsetHeight<_._els.dhx_cal_data[0].offsetHeight?"100%":l.offsetHeight+"px";var c=_._els.dhx_cal_data[0].firstChild.childNodes,u=_._getNavDateElement();u&&(u.innerHTML=_.templates.agenda_date(_._min_date,_._max_date,_._mode)),_._rendered=[];for(a=0;a<c.length-1;a++)_._rendered[a]=c[a]}var e=_.dblclick_dhx_cal_data;_.dblclick_dhx_cal_data=function(){if("agenda"==this._mode)!this.config.readonly&&this.config.dblclick_create&&this.addEventNow();else if(e)return e.apply(this,arguments)};var a=_.render_data;_.render_data=function(e){if("agenda"!=this._mode)return a.apply(this,arguments);n()};var i=_.render_view_data;_.render_view_data=function(){return"agenda"==this._mode&&(_._agendaScrollTop=_._els.dhx_cal_data[0].childNodes[0].scrollTop,_._els.dhx_cal_data[0].childNodes[0].scrollTop=0),i.apply(this,arguments)},_.agenda_view=function(e){_._min_date=_.config.agenda_start||_.date.agenda_start(_._date),_._max_date=_.config.agenda_end||_.date.add_agenda(_._min_date,1),t(e),e?(_._cols=null,_._colsS=null,_._table_view=!0,n()):_._table_view=!1}})}),Scheduler.plugin(function(h){!function(){h.config.all_timed="short",h.config.all_timed_month=!1;var u=function(e){return!(24<=(e.end_date-e.start_date)/36e5)||"resize"==h._drag_mode&&h._drag_id==e.id};h._safe_copy=function(e){var t=null,n=h._copy_event(e);return e.event_pid&&(t=h.getEvent(e.event_pid)),t&&t.isPrototypeOf(e)&&(delete n.event_length,delete n.event_pid,delete n.rec_pattern,delete n.rec_type),n};var n=h._pre_render_events_line,a=h._pre_render_events_table,_=function(e,t){return this._table_view?a.call(this,e,t):n.call(this,e,t)};h._pre_render_events_line=h._pre_render_events_table=function(e,t){function n(e){var t=a(e.start_date);return+e.end_date>+t}function a(e){var t=h.date.add(e,1,"day");return h.date.date_part(t)}function i(e,t){var n=h.date.date_part(new Date(e));return n.setHours(t),n}if(!this.config.all_timed||this._table_view&&"month"!=this._mode||"month"==this._mode&&!this.config.all_timed_month)return _.call(this,e,t);for(var r=0;r<e.length;r++){var o=e[r];if(!o._timed)if("short"!=this.config.all_timed||u(o)){var s=this._safe_copy(o);o._virtual?s._first_chunk=!1:s._first_chunk=!0,s._drag_resize=!1,s._virtual=!0,s.start_date=new Date(s.start_date),n(o)?(s.end_date=a(s.start_date),24!=this.config.last_hour&&(s.end_date=i(s.start_date,this.config.last_hour))):s.end_date=new Date(o.end_date);var d=!1;s.start_date<this._max_date&&s.end_date>this._min_date&&s.start_date<s.end_date&&(e[r]=s,d=!0);var l=this._safe_copy(o);if(l._virtual=!0,l.end_date=new Date(l.end_date),l.start_date<this._min_date?l.start_date=i(this._min_date,this.config.first_hour):l.start_date=i(a(o.start_date),this.config.first_hour),l.start_date<this._max_date&&l.start_date<l.end_date){if(!d){e[r--]=l;continue}e.splice(r+1,0,l),l._last_chunk=!1}else s._last_chunk=!0,s._drag_resize=!0}else"month"!=this._mode&&e.splice(r--,1)}var c="move"!=this._drag_mode&&t;return _.call(this,e,c)};var t=h.get_visible_events;h.get_visible_events=function(e){return this.config.all_timed&&this.config.multi_day?t.call(this,!1):t.call(this,e)},h.attachEvent("onBeforeViewChange",function(e,t,n){return h._allow_dnd="day"==n||"week"==n,!0}),h._is_main_area_event=function(e){return!!(e._timed||!0===this.config.all_timed||"short"==this.config.all_timed&&u(e))};var i=h.updateEvent;h.updateEvent=function(e){var t,n,a=h.getEvent(e);a&&(t=h.config.all_timed&&!(h.isOneDayEvent(h._events[e])||h.getState().drag_id))&&(n=h.config.update_render,h.config.update_render=!0),i.apply(h,arguments),a&&t&&(h.config.update_render=n)}}()}),Scheduler.plugin(function(p){!function(){function n(e){p._get_section_view()&&e&&(f=p.getEvent(e)[p._get_section_property()])}var f,a;p.config.collision_limit=1,p.attachEvent("onBeforeDrag",function(e){return n(e),!0}),p.attachEvent("onBeforeLightbox",function(e){var t=p.getEvent(e);return a=[t.start_date,t.end_date],n(e),!0}),p.attachEvent("onEventChanged",function(e){if(!e||!p.getEvent(e))return!0;var t=p.getEvent(e);if(!p.checkCollision(t)){if(!a)return!1;t.start_date=a[0],t.end_date=a[1],t._timed=this.isOneDayEvent(t)}return!0}),p.attachEvent("onBeforeEventChanged",function(e){return p.checkCollision(e)}),p.attachEvent("onEventAdded",function(e,t){p.checkCollision(t)||p.deleteEvent(e)}),p.attachEvent("onEventSave",function(e,t){if((t=p._lame_clone(t)).id=e,!t.start_date||!t.end_date){var n=p.getEvent(e);t.start_date=new Date(n.start_date),t.end_date=new Date(n.end_date)}return t.rec_type&&p._roll_back_dates(t),p.checkCollision(t)}),p._check_sections_collision=function(e,t){var n=p._get_section_property();return e[n]==t[n]&&e.id!=t.id},p.checkCollision=function(e){var t=[],n=p.config.collision_limit;if(e.rec_type)for(var a=p.getRecDates(e),i=0;i<a.length;i++)for(var r=p.getEvents(a[i].start_date,a[i].end_date),o=0;o<r.length;o++)(r[o].event_pid||r[o].id)!=e.id&&t.push(r[o]);else{t=p.getEvents(e.start_date,e.end_date);for(var s=0;s<t.length;s++){var d=t[s];if(d.id==e.id||d.event_length&&[d.event_pid,d.event_length].join("#")==e.id){t.splice(s,1);break}}}var l=p._get_section_view(),c=p._get_section_property(),u=!0;if(l){var _=0;for(s=0;s<t.length;s++)t[s].id!=e.id&&this._check_sections_collision(t[s],e)&&_++;n<=_&&(u=!1)}else t.length>=n&&(u=!1);if(u)return u;var h=!p.callEvent("onEventCollision",[e,t]);return h||(e[c]=f||e[c]),h}}()}),Scheduler.plugin(function(x){!function(){function n(){f=!1,x.callEvent("onAfterSchedulerResize",[]),f=!0}x.config.container_autoresize=!0,x.config.month_day_min_height=90,x.config.min_grid_size=25,x.config.min_map_size=400;var h=x._pre_render_events,f=!0,v=0,y=0;x._pre_render_events=function(e,t){if(!x.config.container_autoresize||!f)return h.apply(this,arguments);var n=this.xy.bar_height,a=this._colsS.heights,i=this._colsS.heights=[0,0,0,0,0,0,0],r=this._els.dhx_cal_data[0];if(e=this._table_view?this._pre_render_events_table(e,t):this._pre_render_events_line(e,t),this._table_view)if(t)this._colsS.heights=a;else{var o=r.firstChild;if(o.rows){for(var s=0;s<o.rows.length;s++){if(++i[s]*n>this._colsS.height-this.xy.month_head_height){var d=o.rows[s].cells,l=this._colsS.height-this.xy.month_head_height;1*this.config.max_month_events!==this.config.max_month_events||i[s]<=this.config.max_month_events?l=i[s]*n:(this.config.max_month_events+1)*n>this._colsS.height-this.xy.month_head_height&&(l=(this.config.max_month_events+1)*n);for(var c=0;c<d.length;c++)d[c].childNodes[1].style.height=l+"px";i[s]=(i[s-1]||0)+d[0].offsetHeight}i[s]=(i[s-1]||0)+o.rows[s].cells[0].offsetHeight}i.unshift(0),o.parentNode.offsetHeight<o.parentNode.scrollHeight&&o._h_fix}else if(e.length||"visible"!=this._els.dhx_multi_day[0].style.visibility||(i[0]=-1),e.length||-1==i[0]){var u=(o.parentNode.childNodes,(i[0]+1)*n+1);y!=u+1&&(this._obj.style.height=v-y+u-1+"px"),u+="px",r.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+parseInt(u,10)+"px",r.style.height=this._obj.offsetHeight-parseInt(r.style.top,10)-(this.xy.margin_top||0)+"px";var _=this._els.dhx_multi_day[0];_.style.height=u,_.style.visibility=-1==i[0]?"hidden":"visible",(_=this._els.dhx_multi_day[1]).style.height=u,_.style.visibility=-1==i[0]?"hidden":"visible",_.className=i[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(i[0]+1)*n,i[0]=0}}return e};var b=["dhx_cal_navline","dhx_cal_header","dhx_multi_day","dhx_cal_data"],a=function(e){for(var t=v=0;t<b.length;t++){var n=b[t],a=x._els[n]?x._els[n][0]:null,i=0;switch(n){case"dhx_cal_navline":case"dhx_cal_header":i=parseInt(a.style.height,10);break;case"dhx_multi_day":i=a?a.offsetHeight-1:0,y=i;break;case"dhx_cal_data":var r=x.getState().mode;if(i=a.childNodes[1]&&"month"!=r?a.childNodes[1].offsetHeight:Math.max(a.offsetHeight-1,a.scrollHeight),"month"==r)x.config.month_day_min_height&&!e&&(i=a.getElementsByTagName("tr").length*x.config.month_day_min_height),e&&(a.style.height=i+"px");else if("year"==r)i=190*x.config.year_y;else if("agenda"==r){if(i=0,a.childNodes&&a.childNodes.length)for(var o=0;o<a.childNodes.length;o++)i+=a.childNodes[o].offsetHeight;i+2<x.config.min_grid_size?i=x.config.min_grid_size:i+=2}else if("week_agenda"==r){for(var s,d,l=x.xy.week_agenda_scale_height+x.config.min_grid_size,c=0;c<a.childNodes.length;c++){d=a.childNodes[c];for(o=0;o<d.childNodes.length;o++){for(var u=0,_=d.childNodes[o].childNodes[1],h=0;h<_.childNodes.length;h++)u+=_.childNodes[h].offsetHeight;s=u+x.xy.week_agenda_scale_height,l<(s=1!=c||2!=o&&3!=o?s:2*s)&&(l=s)}}i=3*l}else if("map"==r){i=0;var f=a.querySelectorAll(".dhx_map_line");for(o=0;o<f.length;o++)i+=f[o].offsetHeight;i+2<x.config.min_map_size?i=x.config.min_map_size:i+=2}else if(x._gridView)if(i=0,a.childNodes[1].childNodes[0].childNodes&&a.childNodes[1].childNodes[0].childNodes.length){for(f=a.childNodes[1].childNodes[0].childNodes[0].childNodes,o=0;o<f.length;o++)i+=f[o].offsetHeight;(i+=2)<x.config.min_grid_size&&(i=x.config.min_grid_size)}else i=x.config.min_grid_size;if(x.matrix&&x.matrix[r]){if(e)i+=0,a.style.height=i+"px";else{i=0;for(var p=x.matrix[r],m=p.y_unit,g=0;g<m.length;g++)i+=p._section_height[m[g].key]}i-=1}("day"==r||"week"==r||x._props&&x._props[r])&&(i+=2)}v+=i+=1}x._obj.style.height=v+"px",e||x.updateView()},e=function(){if(!x.config.container_autoresize||!f)return!0;var e=x.getState().mode;if(!e)return!0;var t=document.documentElement.scrollTop;a(),x.matrix&&x.matrix[e]||"month"==e?(window.requestAnimationFrame||window.setTimeout)(function(){a(!0),document.documentElement.scrollTop=t,n()},1):n()};x.attachEvent("onBeforeViewChange",function(){var e=x.config.container_autoresize;if(x.xy.$original_scroll_width||(x.xy.$original_scroll_width=x.xy.scroll_width),x.xy.scroll_width=e?0:x.xy.$original_scroll_width,x.matrix)for(var t in x.matrix){var n=x.matrix[t];n.$original_section_autoheight||(n.$original_section_autoheight=n.section_autoheight),n.section_autoheight=!e&&n.$original_section_autoheight}return!0}),x.attachEvent("onViewChange",e),x.attachEvent("onXLE",e),x.attachEvent("onEventChanged",e),x.attachEvent("onEventCreated",e),x.attachEvent("onEventAdded",e),x.attachEvent("onEventDeleted",e),x.attachEvent("onAfterSchedulerResize",e),x.attachEvent("onClearAll",e),x.attachEvent("onBeforeExpand",function(){return!(f=!1)}),x.attachEvent("onBeforeCollapse",function(){return f=!0})}()}),Scheduler.plugin(function(_){!function(){
function l(e,t,n){var a=e+"="+n+(t?"; "+t:"");document.cookie=a}function c(e){var t=e+"=";if(0<document.cookie.length){var n=document.cookie.indexOf(t);if(-1!=n){n+=t.length;var a=document.cookie.indexOf(";",n);return-1==a&&(a=document.cookie.length),document.cookie.substring(n,a)}}return""}var u=!0;_.attachEvent("onBeforeViewChange",function(e,t,n,a){if(u&&_._get_url_nav){var i=_._get_url_nav();(i.date||i.mode||i.event)&&(u=!1)}var r=(_._obj.id||"scheduler")+"_settings";if(u){u=!1;var o=c(r);if(o){_._min_date||(_._min_date=a),(o=unescape(o).split("@"))[0]=this._helpers.parseDate(o[0]);var s=this.isViewExists(o[1])?o[1]:n,d=isNaN(+o[0])?a:o[0];return window.setTimeout(function(){_.setCurrentView(d,s)},1),!1}}return l(r,"expires=Sun, 31 Jan 9999 22:00:00 GMT",escape(this._helpers.formatDate(a||t)+"@"+(n||e))),!0});var n=_._load;_._load=function(){var e=arguments;if(_._date)n.apply(this,e);else{var t=this;window.setTimeout(function(){n.apply(t,e)},1)}}}()}),Scheduler.plugin(function(s){s.date.date_to_str=function(e,n){return function(t){return e.replace(/%[a-zA-Z]/g,function(e){switch(e){case"%d":return n?s.date.to_fixed(t.getUTCDate()):s.date.to_fixed(t.getDate());case"%m":return n?s.date.to_fixed(t.getUTCMonth()+1):s.date.to_fixed(t.getMonth()+1);case"%j":return n?t.getUTCDate():t.getDate();case"%n":return n?t.getUTCMonth()+1:t.getMonth()+1;case"%y":return n?s.date.to_fixed(t.getUTCFullYear()%100):s.date.to_fixed(t.getFullYear()%100);case"%Y":return n?t.getUTCFullYear():t.getFullYear();case"%D":return n?s.locale.date.day_short[t.getUTCDay()]:s.locale.date.day_short[t.getDay()];case"%l":return n?s.locale.date.day_full[t.getUTCDay()]:s.locale.date.day_full[t.getDay()];case"%M":return n?s.locale.date.month_short[t.getUTCMonth()]:s.locale.date.month_short[t.getMonth()];case"%F":return n?s.locale.date.month_full[t.getUTCMonth()]:s.locale.date.month_full[t.getMonth()];case"%h":return n?s.date.to_fixed((t.getUTCHours()+11)%12+1):s.date.to_fixed((t.getHours()+11)%12+1);case"%g":return n?(t.getUTCHours()+11)%12+1:(t.getHours()+11)%12+1;case"%G":return n?t.getUTCHours():t.getHours();case"%H":return n?s.date.to_fixed(t.getUTCHours()):s.date.to_fixed(t.getHours());case"%i":return n?s.date.to_fixed(t.getUTCMinutes()):s.date.to_fixed(t.getMinutes());case"%a":return n?11<t.getUTCHours()?"pm":"am":11<t.getHours()?"pm":"am";case"%A":return n?11<t.getUTCHours()?"PM":"AM":11<t.getHours()?"PM":"AM";case"%s":return n?s.date.to_fixed(t.getUTCSeconds()):s.date.to_fixed(t.getSeconds());case"%W":return n?s.date.to_fixed(s.date.getUTCISOWeek(t)):s.date.to_fixed(s.date.getISOWeek(t));default:return e}})}},s.date.str_to_date=function(r,o){return function(e){for(var t=[0,0,1,0,0,0],n=e.match(/[a-zA-Z]+|[0-9]+/g),a=r.match(/%[a-zA-Z]/g),i=0;i<a.length;i++)switch(a[i]){case"%j":case"%d":t[2]=n[i]||1;break;case"%n":case"%m":t[1]=(n[i]||1)-1;break;case"%y":t[0]=1*n[i]+(50<n[i]?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":t[3]=n[i]||0;break;case"%i":t[4]=n[i]||0;break;case"%Y":t[0]=n[i]||0;break;case"%a":case"%A":t[3]=t[3]%12+("am"==(n[i]||"").toLowerCase()?0:12);break;case"%s":t[5]=n[i]||0;break;case"%M":t[1]=s.locale.date.month_short_hash[n[i]]||0;break;case"%F":t[1]=s.locale.date.month_full_hash[n[i]]||0}return o?new Date(Date.UTC(t[0],t[1],t[2],t[3],t[4],t[5])):new Date(t[0],t[1],t[2],t[3],t[4],t[5])}}}),Scheduler.plugin(function(u){u.form_blocks.combo={render:function(e){return e.cached_options||(e.cached_options={}),""+"<div class='"+e.type+"' style='height:"+(e.height||20)+"px;' ></div>"},set_value:function(n,e,t,i){!function(){function e(){if(n._combo&&n._combo.DOMParent){var e=n._combo;e.unload?e.unload():e.destructor&&e.destructor(),e.DOMParent=e.DOMelem=null}}e();var t=u.attachEvent("onAfterLightbox",function(){e(),u.detachEvent(t)})}(),window.dhx_globalImgPath=i.image_path||"/",n._combo=new dhtmlXCombo(n,i.name,n.offsetWidth-8),i.onchange&&n._combo.attachEvent("onChange",i.onchange),i.options_height&&n._combo.setOptionHeight(i.options_height);var r=n._combo;if(r.enableFilteringMode(i.filtering,i.script_path||null,!!i.cache),i.script_path){var o=t[i.map_to];o?i.cached_options[o]?(r.addOption(o,i.cached_options[o]),r.disable(1),r.selectOption(0),r.disable(0)):u.$ajax.get(i.script_path+"?id="+o+"&uid="+u.uid(),function(e){var t,n=e.xmlDoc.responseText;try{t=JSON.parse(n).options[0].text}catch(n){var a=u.$ajax.xpath("//option",e.xmlDoc)[0];t=a.childNodes[0].nodeValue}i.cached_options[o]=t,r.addOption(o,t),r.disable(1),r.selectOption(0),r.disable(0)}):r.setComboValue("")}else{for(var a=[],s=0;s<i.options.length;s++){var d=i.options[s],l=[d.key,d.label,d.css];a.push(l)}if(r.addOption(a),t[i.map_to]){var c=r.getIndexByValue(t[i.map_to]);r.selectOption(c)}}},get_value:function(e,t,n){var a=e._combo.getSelectedValue();return n.script_path&&(n.cached_options[a]=e._combo.getSelectedText()),a},focus:function(){}},u.form_blocks.radio={render:function(e){var t="";t+="<div class='dhx_cal_ltext dhx_cal_radio' style='height:"+e.height+"px;' >";for(var n=0;n<e.options.length;n++){var a=u.uid();t+="<input id='"+a+"' type='radio' name='"+e.name+"' value='"+e.options[n].key+"'><label for='"+a+"'> "+e.options[n].label+"</label>",e.vertical&&(t+="<br/>")}return t+"</div>"},set_value:function(e,t,n,a){for(var i=e.getElementsByTagName("input"),r=0;r<i.length;r++){i[r].checked=!1;var o=n[a.map_to]||t;i[r].value==o&&(i[r].checked=!0)}},get_value:function(e){for(var t=e.getElementsByTagName("input"),n=0;n<t.length;n++)if(t[n].checked)return t[n].value},focus:function(){}},u.form_blocks.checkbox={render:function(e){return u.config.wide_form?'<div class="dhx_cal_wide_checkbox" '+(e.height?"style='height:"+e.height+"px;'":"")+"></div>":""},set_value:function(e,t,n,a){e=document.getElementById(a.id);var i=u.uid(),r=void 0!==a.checked_value?t==a.checked_value:!!t;e.className+=" dhx_cal_checkbox";var o="<input id='"+i+"' type='checkbox' value='true' name='"+a.name+"'"+(r?"checked='true'":"")+"'>",s="<label for='"+i+"'>"+(u.locale.labels["section_"+a.name]||a.name)+"</label>";u.config.wide_form?(e.innerHTML=s,e.nextSibling.innerHTML=o):e.innerHTML=o+s,a.handler&&(e.getElementsByTagName("input")[0].onclick=a.handler)},get_value:function(e,t,n){var a=(e=document.getElementById(n.id)).getElementsByTagName("input")[0];return a||(a=e.nextSibling.getElementsByTagName("input")[0]),a.checked?n.checked_value||!0:n.unchecked_value||!1},focus:function(){}}}),Scheduler.plugin(function(a){a.expand=function(){if(a.callEvent("onBeforeExpand",[])){for(var e=a._obj;e._position=e.style.position||"",e.style.position="static",(e=e.parentNode)&&e.style;);(e=a._obj).style.position="absolute",e._width=e.style.width,e._height=e.style.height,e.style.width=e.style.height="100%",e.style.top=e.style.left="0px";var t=document.body;t.scrollTop=0,(t=t.parentNode)&&(t.scrollTop=0),document.body._overflow=document.body.style.overflow||"",document.body.style.overflow="hidden",a._maximize(),a.callEvent("onExpand",[])}},a.collapse=function(){if(a.callEvent("onBeforeCollapse",[])){for(var e=a._obj;e.style.position=e._position,(e=e.parentNode)&&e.style;);(e=a._obj).style.width=e._width,e.style.height=e._height,document.body.style.overflow=document.body._overflow,a._maximize(),a.callEvent("onCollapse",[])}},a.attachEvent("onTemplatesReady",function(){var e=document.createElement("div");e.className="dhx_expand_icon",a.toggleIcon=e,a._obj.appendChild(e),e.onclick=function(){a.expanded?a.collapse():a.expand()}}),a._maximize=function(){this.expanded=!this.expanded,this.toggleIcon.style.backgroundPosition="0 "+(this.expanded?"0":"18")+"px";for(var e=["left","top"],t=0;t<e.length;t++){var n=(a.xy["margin_"+e[t]],a["_prev_margin_"+e[t]]);a.xy["margin_"+e[t]]?(a["_prev_margin_"+e[t]]=a.xy["margin_"+e[t]],a.xy["margin_"+e[t]]=0):n&&(a.xy["margin_"+e[t]]=a["_prev_margin_"+e[t]],delete a["_prev_margin_"+e[t]])}a.setCurrentView()}}),Scheduler.plugin(function(i){i.attachEvent("onTemplatesReady",function(){for(var e=document.body.getElementsByTagName("DIV"),t=0;t<e.length;t++){var n=e[t].className||"";if(2==(n=n.split(":")).length&&"template"==n[0]){var a='return "'+(e[t].innerHTML||"").replace(/\"/g,'\\"').replace(/[\n\r]+/g,"")+'";';a=unescape(a).replace(/\{event\.([a-z]+)\}/g,function(e,t){return'"+ev.'+t+'+"'}),i.templates[n[1]]=Function("start","end","ev",a),e[t].style.display="none"}}})}),function(){function e(m){function i(e){var t={minicalButton:m.$keyboardNavigation.MinicalButton,minicalDate:m.$keyboardNavigation.MinicalCell,scheduler:m.$keyboardNavigation.SchedulerNode,dataArea:m.$keyboardNavigation.DataArea,timeSlot:m.$keyboardNavigation.TimeSlot,event:m.$keyboardNavigation.Event},n={};for(var a in t)n[a.toLowerCase()]=t[a];return n[e=(e+"").toLowerCase()]||t.scheduler}m.config.key_nav=!0,m.config.key_nav_step=30,m.addShortcut=function(e,t,n){var a=i(n);a&&a.prototype.bind(e,t)},m.getShortcutHandler=function(e,t){var n=i(t);if(n){var a=m.$keyboardNavigation.shortcuts.parse(e);if(a.length)return n.prototype.findHandler(a[0])}},m.removeShortcut=function(e,t){var n=i(t);n&&n.prototype.unbind(e)},m.focus=function(){if(m.config.key_nav){var e=m.$keyboardNavigation.dispatcher;e.enable();var t=e.getActiveNode();!t||t instanceof m.$keyboardNavigation.MinicalButton||t instanceof m.$keyboardNavigation.MinicalCell?e.setDefaultNode():e.focusNode(e.getActiveNode())}},m.$keyboardNavigation={},m._compose=function(){for(var e=Array.prototype.slice.call(arguments,0),t={},n=0;n<e.length;n++){var a=e[n];for(var i in"function"==typeof a&&(a=new a),a)t[i]=a[i]}return t},m.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(e){for(var t=[],n=this.getExpressions(this.trim(e)),a=0;a<n.length;a++){for(var i=this.getWords(n[a]),r=this.createCommand(),o=0;o<i.length;o++)this.commandKeys[i[o]]?r.modifiers[i[o]]=!0:this.specialKeys[i[o]]?r.keyCode=this.specialKeys[i[o]]:r.keyCode=i[o].charCodeAt(0);t.push(r)}return t},getCommandFromEvent:function(e){var t=this.createCommand();t.modifiers.shift=!!e.shiftKey,t.modifiers.alt=!!e.altKey,t.modifiers.ctrl=!!e.ctrlKey,t.modifiers.meta=!!e.metaKey,t.keyCode=e.which||e.keyCode,96<=t.keyCode&&t.keyCode<=105&&(t.keyCode-=48);var n=String.fromCharCode(t.keyCode);return n&&(t.keyCode=n.toLowerCase().charCodeAt(0)),t},getHashFromEvent:function(e){return this.getHash(this.getCommandFromEvent(e))},getHash:function(e){var t=[];for(var n in e.modifiers)e.modifiers[n]&&t.push(n);return t.push(e.keyCode),t.join(this.junctionChar)},getExpressions:function(e){return e.split(this.junctionChar)},getWords:function(e){return e.split(this.combinationChar)},trim:function(e){return e.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,"delete":46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}},m.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(e){this._handlers||(this._handlers={});var t=m.$keyboardNavigation.shortcuts.getHash(e);return this._handlers[t]},doAction:function(e,t){var n=this.findHandler(e);n&&(n.call(this,t),t.preventDefault?t.preventDefault():t.returnValue=!1)},bind:function(e,t){this._handlers||(this._handlers={});for(var n=m.$keyboardNavigation.shortcuts,a=n.parse(e),i=0;i<a.length;i++)this._handlers[n.getHash(a[i])]=t},unbind:function(e){for(var t=m.$keyboardNavigation.shortcuts,n=t.parse(e),a=0;a<n.length;a++)this._handlers[t.getHash(n[a])]&&delete this._handlers[t.getHash(n[a])]},bindAll:function(e){for(var t in e)this.bind(t,e[t])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}},m.$keyboardNavigation.getFocusableNodes=m._getFocusableNodes,m.$keyboardNavigation.trapFocus=function(e,t){if(9!=t.keyCode)return!1;for(var n=m.$keyboardNavigation.getFocusableNodes(e),a=document.activeElement,i=-1,r=0;r<n.length;r++)if(n[r]==a){i=r;break}var o;if(t.shiftKey){if(o=n[i<=0?n[n.length-1]:i-1])return o.focus(),t.preventDefault(),!0}else if(o=n[i>=n.length-1?0:i+1])return o.focus(),t.preventDefault(),!0;return!1},m.$keyboardNavigation.marker={clear:function(){for(var e=m.$container.querySelectorAll(".dhx_focus_slot"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])},createElement:function(){var e=document.createElement("div");return e.setAttribute("tabindex",-1),e.className="dhx_focus_slot",e},renderMultiple:function(e,t,n){for(var a=[],i=new Date(e),r=new Date(Math.min(t.valueOf(),m.date.add(m.date.day_start(new Date(e)),1,"day").valueOf()));i.valueOf()<t.valueOf();)a=a.concat(n.call(this,i,new Date(Math.min(r.valueOf(),t.valueOf())))),i=m.date.day_start(m.date.add(i,1,"day")),r=m.date.day_start(m.date.add(i,1,"day")),r=new Date(Math.min(r.valueOf(),t.valueOf()));return a},render:function(e,t,n){this.clear();var a=[],i=m.$keyboardNavigation.TimeSlot.prototype._modes;switch(m.$keyboardNavigation.TimeSlot.prototype._getMode()){case i.units:a=this.renderVerticalMarker(e,t,n);break;case i.timeline:a=this.renderTimelineMarker(e,t,n);break;case i.year:a=a.concat(this.renderMultiple(e,t,this.renderYearMarker));break;case i.month:a=this.renderMonthMarker(e,t);break;case i.weekAgenda:a=a.concat(this.renderMultiple(e,t,this.renderWeekAgendaMarker));break;case i.list:a=this.renderAgendaMarker(e,t);break;case i.dayColumns:a=a.concat(this.renderMultiple(e,t,this.renderVerticalMarker))}this.addWaiAriaLabel(a,e,t,n),this.addDataAttributes(a,e,t,n);for(var r=a.length-1;0<=r;r--)if(a[r].offsetWidth)return a[r];return null},addDataAttributes:function(e,t,n,a){for(var i=m.date.date_to_str(m.config.api_date),r=i(t),o=i(n),s=0;s<e.length;s++)e[s].setAttribute("data-start-date",r),e[s].setAttribute("data-end-date",o),a&&e[s].setAttribute("data-section",a)},addWaiAriaLabel:function(e,t,n,a){var i="",r=m.getState().mode,o=!1;i+=m.templates.day_date(t),m.date.day_start(new Date(t)).valueOf()!=t.valueOf()&&(i+=" "+m.templates.hour_scale(t),o=!0),m.date.day_start(new Date(t)).valueOf()!=m.date.day_start(new Date(n)).valueOf()&&(i+=" - "+m.templates.day_date(n),(o||m.date.day_start(new Date(n)).valueOf()!=n.valueOf())&&(i+=" "+m.templates.hour_scale(n))),a&&(m.matrix&&m.matrix[r]?i+=", "+m.templates[r+"_scale_label"](a.key,a.label,a):m._props&&m._props[r]&&(i+=", "+m.templates[r+"_scale_text"](a.key,a.label,a)));for(var s=0;s<e.length;s++)m._waiAria.setAttributes(e[s],{"aria-label":i,"aria-live":"polite"})},renderWeekAgendaMarker:function(e){for(var t=m.$container.querySelectorAll(".dhx_wa_day_cont .dhx_wa_scale_bar"),n=m.date.week_start(new Date(m.getState().min_date)),a=-1,i=m.date.day_start(new Date(e)),r=0;r<t.length&&(a++,m.date.day_start(new Date(n)).valueOf()!=i.valueOf());r++)n=m.date.add(n,1,"day");return-1!=a?this._wrapDiv(t[a]):[]},_wrapDiv:function(e){var t=this.createElement();return t.style.top=e.offsetTop+"px",t.style.left=e.offsetLeft+"px",t.style.width=e.offsetWidth+"px",t.style.height=e.offsetHeight+"px",e.appendChild(t),[t]},renderYearMarker:function(e){var t=m._get_year_cell(e);t.style.position="relative";var n=this.createElement();return n.style.top="0px",n.style.left="0px",n.style.width="100%",n.style.height="100%",t.appendChild(n),[n]},renderAgendaMarker:function(){var e=this.createElement();return e.style.height="1px",e.style.width="100%",e.style.opacity=1,e.style.top="0px",e.style.left="0px",m.$container.querySelector(".dhx_cal_data").appendChild(e),[e]},renderTimelineMarker:function(e,t,n){var a=m._lame_copy({},m.matrix[m._mode]),i=a._scales;a.round_position=!1;var r=[],o=e?new Date(e):m._min_date,s=t?new Date(t):m._max_date;if(o.valueOf()<m._min_date.valueOf()&&(o=new Date(m._min_date)),s.valueOf()>m._max_date.valueOf()&&(s=new Date(m._max_date)),!a._trace_x)return r;for(var d=0;d<a._trace_x.length&&!m._is_column_visible(a._trace_x[d]);d++);if(d==a._trace_x.length)return r;var l=i[n];if(!(o<t&&e<s))return r;var c=this.createElement(),u=m._timeline_getX({start_date:e},!1,a)-1,_=m._timeline_getX({start_date:t},!1,a)-1,h=a._section_height[n]-1||a.dy-1,f=0;m._isRender("cell")&&(f=l.offsetTop,u+=a.dx,_+=a.dx,l=m.$container.querySelector(".dhx_cal_data"));var p=Math.max(1,_-u-1);return c.style.cssText="height: "+h+"px; left: "+u+"px; width: "+p+"px; top: "+f+"px;",l.appendChild(c),r.push(c),r},renderMonthCell:function(e){for(var t=m.$container.querySelectorAll(".dhx_month_head"),n=[],a=0;a<t.length;a++)n.push(t[a].parentNode);var i=-1,r=0,o=-1,s=m.date.week_start(new Date(m.getState().min_date)),d=m.date.day_start(new Date(e));for(a=0;a<n.length&&(i++,6==o?(r++,o=0):o++,m.date.day_start(new Date(s)).valueOf()!=d.valueOf());a++)s=m.date.add(s,1,"day");if(-1==i)return[];var l=m._colsS[o],c=m._colsS.heights[r],u=this.createElement();u.style.top=c+"px",u.style.left=l+"px",u.style.width=m._cols[o]+"px",u.style.height=(m._colsS.heights[r+1]-c||m._colsS.height)+"px";var _=m.$container.querySelector(".dhx_cal_data"),h=_.querySelector("table");return h.nextSibling?_.insertBefore(u,h.nextSibling):_.appendChild(u),u},renderMonthMarker:function(e,t){for(var n=[],a=e;a.valueOf()<t.valueOf();)n.push(this.renderMonthCell(a)),a=m.date.add(a,1,"day");return n},renderVerticalMarker:function(e,t,n){var a=m.locate_holder_day(e),i=[],r=null,o=m.config;if(m._ignores[a])return i;if(m._props&&m._props[m._mode]&&n){var s=m._props[m._mode];a=s.order[n];var d=s.order[n];1<s.days?a=m.locate_holder_day(e)+d:(a=d,s.size&&a>s.position+s.size&&(a=0))}if(!(r=m.locate_holder(a))||r.querySelector(".dhx_scale_hour"))return document.createElement("div");var l=Math.max(60*e.getHours()+e.getMinutes(),60*o.first_hour),c=Math.min(60*t.getHours()+t.getMinutes(),60*o.last_hour);if(!c&&m.date.day_start(new Date(t)).valueOf()>m.date.day_start(new Date(e)).valueOf()&&(c=60*o.last_hour),c<=l)return[];var u=this.createElement(),_=m.config.hour_size_px*o.last_hour+1,h=36e5;return u.style.top=Math.round((60*l*1e3-m.config.first_hour*h)*m.config.hour_size_px/h)%_+"px",u.style.lineHeight=u.style.height=Math.max(Math.round(60*(c-l)*1e3*m.config.hour_size_px/h)%_,1)+"px",u.style.width="100%",r.appendChild(u),i.push(u),i[0]}},m.$keyboardNavigation.SchedulerNode=function(){},m.$keyboardNavigation.SchedulerNode.prototype=m._compose(m.$keyboardNavigation.EventHandler,{getDefaultNode:function(){var e=new m.$keyboardNavigation.TimeSlot;return e.isValid()||(e=e.fallback()),e},_modes:{month:"month",year:"year",dayColumns:"dayColumns",timeline:"timeline",units:"units",weekAgenda:"weekAgenda",list:"list"},getMode:function(){var e=m.getState().mode;return m.matrix&&m.matrix[e]?this._modes.timeline:m._props&&m._props[e]?this._modes.units:"month"==e?this._modes.month:"year"==e?this._modes.year:"week_agenda"==e?this._modes.weekAgenda:"map"==e||"agenda"==e||m._grid&&m["grid_"+e]?this._modes.list:this._modes.dayColumns},focus:function(){m.focus()},blur:function(){},disable:function(){m.$container.setAttribute("tabindex","0")},enable:function(){m.$container&&m.$container.removeAttribute("tabindex")},isEnabled:function(){return m.$container.hasAttribute("tabindex")},_compareEvents:function(e,t){return e.start_date.valueOf()==t.start_date.valueOf()?e.id>t.id?1:-1:e.start_date.valueOf()>t.start_date.valueOf()?1:-1},_pickEvent:function(e,t,n,a){var i=m.getState();e=new Date(Math.max(i.min_date.valueOf(),e.valueOf())),t=new Date(Math.min(i.max_date.valueOf(),t.valueOf()));var r=m.getEvents(e,t);r.sort(this._compareEvents),a&&(r=r.reverse());for(var o=!!n,s=0;s<r.length&&o;s++)r[s].id==n&&(o=!1),r.splice(s,1),s--;for(s=0;s<r.length;s++)if(new m.$keyboardNavigation.Event(r[s].id).getNode())return r[s];return null},nextEventHandler:function(e){var t=m.$keyboardNavigation.dispatcher.activeNode,n=e||t&&t.eventId,a=null;if(n&&m.getEvent(n)){var i=m.getEvent(n);a=m.$keyboardNavigation.SchedulerNode.prototype._pickEvent(i.start_date,m.date.add(i.start_date,1,"year"),i.id,!1)}if(!a&&!e){var r=m.getState();a=m.$keyboardNavigation.SchedulerNode.prototype._pickEvent(r.min_date,m.date.add(r.min_date,1,"year"),null,!1)}if(a){var o=new m.$keyboardNavigation.Event(a.id);o.isValid()?(t&&t.blur(),m.$keyboardNavigation.dispatcher.setActiveNode(o)):this.nextEventHandler(a.id)}},prevEventHandler:function(e){var t=m.$keyboardNavigation.dispatcher.activeNode,n=e||t&&t.eventId,a=null;if(n&&m.getEvent(n)){var i=m.getEvent(n);a=m.$keyboardNavigation.SchedulerNode.prototype._pickEvent(m.date.add(i.end_date,-1,"year"),i.end_date,i.id,!0)}if(!a&&!e){var r=m.getState();a=m.$keyboardNavigation.SchedulerNode.prototype._pickEvent(m.date.add(r.max_date,-1,"year"),r.max_date,null,!0)}if(a){var o=new m.$keyboardNavigation.Event(a.id);o.isValid()?(t&&t.blur(),m.$keyboardNavigation.dispatcher.setActiveNode(o)):this.prevEventHandler(a.id)}},keys:{"alt+1, alt+2, alt+3, alt+4, alt+5, alt+6, alt+7, alt+8, alt+9":function(e){var t=m.$keyboardNavigation.HeaderCell.prototype.getNodes(".dhx_cal_navline .dhx_cal_tab"),n=e.key;void 0===n&&(n=e.keyCode-48),t[1*n-1]&&t[1*n-1].click()},"ctrl+left,meta+left":function(){m._click.dhx_cal_prev_button()},"ctrl+right,meta+right":function(){m._click.dhx_cal_next_button()},"ctrl+up,meta+up":function(){m.$container.querySelector(".dhx_cal_data").scrollTop-=20},"ctrl+down,meta+down":function(){m.$container.querySelector(".dhx_cal_data").scrollTop+=20},e:function(){this.nextEventHandler()},home:function(){m.setCurrentView(new Date)},"shift+e":function(){this.prevEventHandler()},"ctrl+enter,meta+enter":function(){m.addEventNow({start_date:new Date(m.getState().date)})},"ctrl+c,meta+c":function(e){m._key_nav_copy_paste(e)},"ctrl+v,meta+v":function(e){m._key_nav_copy_paste(e)},"ctrl+x,meta+x":function(e){m._key_nav_copy_paste(e)}}}),m.$keyboardNavigation.SchedulerNode.prototype.bindAll(m.$keyboardNavigation.SchedulerNode.prototype.keys),m.$keyboardNavigation.KeyNavNode=function(){},m.$keyboardNavigation.KeyNavNode.prototype=m._compose(m.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(e){m.$keyboardNavigation.dispatcher.setActiveNode(e)},compareTo:function(e){if(!e)return!1;for(var t in this){if(!!this[t]!=!!e[t])return!1;var n=!(!this[t]||!this[t].toString),a=!(!e[t]||!e[t].toString);if(a!=n)return!1;if(a&&n){if(e[t].toString()!=this[t].toString())return!1}else if(e[t]!=this[t])return!1}return!0},getNode:function(){},focus:function(){var e=this.getNode();e&&(e.setAttribute("tabindex","-1"),e.focus&&e.focus())},blur:function(){var e=this.getNode();e&&e.setAttribute("tabindex","-1")}}),m.$keyboardNavigation.HeaderCell=function(e){this.index=e||0},m.$keyboardNavigation.HeaderCell.prototype=m._compose(m.$keyboardNavigation.KeyNavNode,{getNode:function(e){e=e||this.index||0;var t=this.getNodes();if(t[e])return t[e]},getNodes:function(e){e=e||[".dhx_cal_navline .dhx_cal_prev_button",".dhx_cal_navline .dhx_cal_next_button",".dhx_cal_navline .dhx_cal_today_button",".dhx_cal_navline .dhx_cal_tab"].join(", ");var t=Array.prototype.slice.call(m.$container.querySelectorAll(e));return t.sort(function(e,t){return e.offsetLeft-t.offsetLeft}),t},_handlers:null,isValid:function(){return!!this.getNode(this.index)},fallback:function(){var e=this.getNode(0);return e||(e=new m.$keyboardNavigation.TimeSlot),e},keys:{left:function(){var e=this.index-1;e<0&&(e=this.getNodes().length-1),this.moveTo(new m.$keyboardNavigation.HeaderCell(e))},right:function(){var e=this.index+1;e>=this.getNodes().length&&(e=0),this.moveTo(new m.$keyboardNavigation.HeaderCell(e))},down:function(){this.moveTo(new m.$keyboardNavigation.TimeSlot)},enter:function(){var e=this.getNode();e&&e.click()}}}),m.$keyboardNavigation.HeaderCell.prototype.bindAll(m.$keyboardNavigation.HeaderCell.prototype.keys),m.$keyboardNavigation.Event=function(e){if(this.eventId=null,m.getEvent(e)){var t=m.getEvent(e);this.start=new Date(t.start_date),this.end=new Date(t.end_date),this.section=this._getSection(t),this.eventId=e}},m.$keyboardNavigation.Event.prototype=m._compose(m.$keyboardNavigation.KeyNavNode,{_getNodes:function(){return Array.prototype.slice.call(m.$container.querySelectorAll("[event_id]"))},_modes:m.$keyboardNavigation.SchedulerNode.prototype._modes,getMode:m.$keyboardNavigation.SchedulerNode.prototype.getMode,_handlers:null,isValid:function(){return!(!m.getEvent(this.eventId)||!this.getNode())},fallback:function(){var e=this._getNodes()[0],t=null;if(e&&m._locate_event(e)){var n=m._locate_event(e);t=new m.$keyboardNavigation.Event(n)}else t=new m.$keyboardNavigation.TimeSlot;return t},getNode:function(){function e(e){var t=e.getBoundingClientRect(),n=m.$container.querySelector(".dhx_cal_data").getBoundingClientRect();return!(t.bottom<n.top||t.top>n.bottom)}var t="[event_id='"+this.eventId+"']",n=m.$keyboardNavigation.dispatcher.getInlineEditor(this.eventId);if(n)return n;if(m.isMultisectionEvent&&m.isMultisectionEvent(m.getEvent(this.eventId))){for(var a=m.$container.querySelectorAll(t),i=0;i<a.length;i++)if(e(a[i]))return a[i];return a[0]}return m.$container.querySelector(t)},focus:function(){var e=m.getEvent(this.eventId),t=m.getState();(e.start_date.valueOf()>t.max_date.valueOf()||e.end_date.valueOf()<=t.min_date.valueOf())&&m.setCurrentView(e.start_date),m.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){m.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getSection:function(e){var t=null,n=m.getState().mode;if(m.matrix&&m.matrix[n])t=e[m.matrix[m.getState().mode].y_property];else if(m._props&&m._props[n]){t=e[m._props[n].map_to]}return t},_moveToSlot:function(e){var t=m.getEvent(this.eventId);if(t){var n=this._getSection(t),a=new m.$keyboardNavigation.TimeSlot(t.start_date,null,n);this.moveTo(a.nextSlot(a,e))}else this.moveTo(new m.$keyboardNavigation.TimeSlot)},keys:{left:function(){this._moveToSlot("left")},right:function(){this._moveToSlot("right")},down:function(){this.getMode()==this._modes.list?m.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this._moveToSlot("down")},space:function(){var e=this.getNode();e&&e.click?e.click():this.moveTo(new m.$keyboardNavigation.TimeSlot)},up:function(){this.getMode()==this._modes.list?m.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this._moveToSlot("up")},"delete":function(){m.getEvent(this.eventId)?m._click.buttons["delete"](this.eventId):this.moveTo(new m.$keyboardNavigation.TimeSlot)},enter:function(){m.getEvent(this.eventId)?m.showLightbox(this.eventId):this.moveTo(new m.$keyboardNavigation.TimeSlot)}}}),m.$keyboardNavigation.Event.prototype.bindAll(m.$keyboardNavigation.Event.prototype.keys),m.$keyboardNavigation.TimeSlot=function(e,t,n,a){var i=m.getState(),r=m.matrix&&m.matrix[i.mode];e||(e=this.getDefaultDate()),t||(t=r?m.date.add(e,r.x_step,r.x_unit):m.date.add(e,m.config.key_nav_step,"minute")),this.section=n||this._getDefaultSection(),this.start_date=new Date(e),this.end_date=new Date(t),this.movingDate=a||null},m.$keyboardNavigation.TimeSlot.prototype=m._compose(m.$keyboardNavigation.KeyNavNode,{_handlers:null,getDefaultDate:function(){var e,t=m.getState(),n=m.matrix&&m.matrix[t.mode];if(n)e=m.date[n.name+"_start"](new Date(t.date)),e=this.findVisibleColumn(e);else if(e=new Date(m.getState().min_date),(e=this.findVisibleColumn(e)).setHours(m.config.first_hour),!m._table_view){var a=m.$container.querySelector(".dhx_cal_data");a.scrollTop&&e.setHours(m.config.first_hour+Math.ceil(a.scrollTop/m.config.hour_size_px))}return e},clone:function(e){return new m.$keyboardNavigation.TimeSlot(e.start_date,e.end_date,e.section,e.movingDate)},_getMultisectionView:function(){var e,t=m.getState();return m._props&&m._props[t.mode]?e=m._props[t.mode]:m.matrix&&m.matrix[t.mode]&&(e=m.matrix[t.mode]),e},_getDefaultSection:function(){var e=null;return this._getMultisectionView()&&!e&&(e=this._getNextSection()),e},_getNextSection:function(e,t){var n=this._getMultisectionView(),a=n.order[e],i=a;i=(i=void 0!==a?a+t:n.size&&n.position?n.position:0)<0?i=(n.options||n.y_unit).length-1:i;var r=n.options||n.y_unit;return r[i]?r[i].key:null},isValid:function(){var e=m.getState();if(this.start_date.valueOf()<e.min_date.valueOf()||this.start_date.valueOf()>=e.max_date.valueOf())return!1;if(!this.isVisible(this.start_date,this.end_date))return!1;var t=this._getMultisectionView();return!t||void 0!==t.order[this.section]},fallback:function(){var e=new m.$keyboardNavigation.TimeSlot;return e.isValid()?e:new m.$keyboardNavigation.DataArea},getNodes:function(){return Array.prototype.slice.call(m.$container.querySelectorAll(".dhx_focus_slot"))},getNode:function(){return this.getNodes()[0]},focus:function(){m.$keyboardNavigation.marker.render(this.start_date,this.end_date,this.section),m.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this),m.$keyboardNavigation._pasteDate=this.start_date,m.$keyboardNavigation._pasteSection=this.section},blur:function(){m.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this),m.$keyboardNavigation.marker.clear()},_modes:m.$keyboardNavigation.SchedulerNode.prototype._modes,_getMode:m.$keyboardNavigation.SchedulerNode.prototype.getMode,addMonthDate:function(e,t,n){var a;switch(t){case"up":a=m.date.add(e,-1,"week");break;case"down":a=m.date.add(e,1,"week");break;case"left":a=m.date.day_start(m.date.add(e,-1,"day")),a=this.findVisibleColumn(a,-1);break;case"right":a=m.date.day_start(m.date.add(e,1,"day")),a=this.findVisibleColumn(a,1);break;default:a=m.date.day_start(new Date(e))}var i=m.getState();return(e.valueOf()<i.min_date.valueOf()||!n&&e.valueOf()>=i.max_date.valueOf())&&(a=new Date(i.min_date)),a},nextMonthSlot:function(e,t,n){var a,i;return(a=this.addMonthDate(e.start_date,t,n)).setHours(m.config.first_hour),(i=new Date(a)).setHours(m.config.last_hour),{start_date:a,end_date:i}},_alignTimeSlot:function(e,t,n,a){for(var i=new Date(t);i.valueOf()<e.valueOf();)i=m.date.add(i,a,n);return i.valueOf()>e.valueOf()&&(i=m.date.add(i,-a,n)),i},nextTimelineSlot:function(e,t,n){var a=m.getState(),i=m.matrix[a.mode],r=this._alignTimeSlot(e.start_date,m.date[i.name+"_start"](new Date(e.start_date)),i.x_unit,i.x_step),o=this._alignTimeSlot(e.end_date,m.date[i.name+"_start"](new Date(e.end_date)),i.x_unit,i.x_step);o.valueOf()<=r.valueOf()&&(o=m.date.add(r,i.x_step,i.x_unit));var s=this.clone(e);switch(s.start_date=r,s.end_date=o,s.section=e.section||this._getNextSection(),t){case"up":s.section=this._getNextSection(e.section,-1);break;case"down":s.section=this._getNextSection(e.section,1);break;case"left":s.start_date=this.findVisibleColumn(m.date.add(s.start_date,-i.x_step,i.x_unit),-1),s.end_date=m.date.add(s.start_date,i.x_step,i.x_unit);break;case"right":s.start_date=this.findVisibleColumn(m.date.add(s.start_date,i.x_step,i.x_unit),1),s.end_date=m.date.add(s.start_date,i.x_step,i.x_unit)}return(s.start_date.valueOf()<a.min_date.valueOf()||s.start_date.valueOf()>=a.max_date.valueOf())&&(n&&s.start_date.valueOf()>=a.max_date.valueOf()?s.start_date=new Date(a.max_date):(s.start_date=m.date[a.mode+"_start"](m.date.add(a.date,"left"==t?-1:1,a.mode)),s.end_date=m.date.add(s.start_date,i.x_step,i.x_unit))),s},nextUnitsSlot:function(e,t,n){var a=this.clone(e);a.section=e.section||this._getNextSection();var i=e.section||this._getNextSection(),r=m.getState(),o=m._props[r.mode];switch(t){case"left":i=this._getNextSection(e.section,-1);var s=o.size?o.size-1:o.options.length;1<o.days&&o.order[i]==s-1&&m.date.add(e.start_date,-1,"day").valueOf()>=r.min_date.valueOf()&&(a=this.nextDaySlot(e,t,n));break;case"right":i=this._getNextSection(e.section,1),1<o.days&&!o.order[i]&&m.date.add(e.start_date,1,"day").valueOf()<r.max_date.valueOf()&&(a=this.nextDaySlot(e,t,n));break;default:a=this.nextDaySlot(e,t,n),i=e.section}return a.section=i,a},_moveDate:function(e,t){var n=this.findVisibleColumn(m.date.add(e,t,"day"),t);return n.setHours(e.getHours()),n.setMinutes(e.getMinutes()),n},isBeforeLastHour:function(e,t){var n=e.getMinutes(),a=e.getHours(),i=m.config.last_hour;return a<i||!t&&(24==i||a==i)&&!n},isAfterFirstHour:function(e,t){var n=e.getMinutes(),a=e.getHours(),i=m.config.first_hour,r=m.config.last_hour;return i<=a||!t&&!n&&(!a&&24==r||a==r)},isInVisibleDayTime:function(e,t){return this.isBeforeLastHour(e,t)&&this.isAfterFirstHour(e,t)},nextDaySlot:function(e,t,n){var a,i,r=m.config.key_nav_step,o=this._alignTimeSlot(e.start_date,m.date.day_start(new Date(e.start_date)),"minute",r),s=e.start_date;switch(t){case"up":if(a=m.date.add(o,-r,"minute"),!this.isInVisibleDayTime(a,!0)&&(!n||this.isInVisibleDayTime(s,!0))){var d=!0;n&&m.date.date_part(new Date(a)).valueOf()!=m.date.date_part(new Date(s)).valueOf()&&(d=!1),d&&(a=this.findVisibleColumn(m.date.add(e.start_date,-1,"day"),-1)),a.setHours(m.config.last_hour),
a.setMinutes(0),a=m.date.add(a,-r,"minute")}i=m.date.add(a,r,"minute");break;case"down":a=m.date.add(o,r,"minute");var l=n?a:m.date.add(a,r,"minute");if(!this.isInVisibleDayTime(l,!1)&&(!n||this.isInVisibleDayTime(s,!1)))if(n){d=!0;m.date.date_part(new Date(s)).valueOf()==s.valueOf()&&(d=!1),d&&(a=this.findVisibleColumn(m.date.add(e.start_date,1,"day"),1)),a.setHours(m.config.first_hour),a.setMinutes(0),a=m.date.add(a,r,"minute")}else(a=this.findVisibleColumn(m.date.add(e.start_date,1,"day"),1)).setHours(m.config.first_hour),a.setMinutes(0);i=m.date.add(a,r,"minute");break;case"left":a=this._moveDate(e.start_date,-1),i=this._moveDate(e.end_date,-1);break;case"right":a=this._moveDate(e.start_date,1),i=this._moveDate(e.end_date,1);break;default:a=o,i=m.date.add(a,r,"minute")}return{start_date:a,end_date:i}},nextWeekAgendaSlot:function(e,t){var n,a,i=m.getState();switch(t){case"down":case"left":n=m.date.day_start(m.date.add(e.start_date,-1,"day")),n=this.findVisibleColumn(n,-1);break;case"up":case"right":n=m.date.day_start(m.date.add(e.start_date,1,"day")),n=this.findVisibleColumn(n,1);break;default:n=m.date.day_start(e.start_date)}return(e.start_date.valueOf()<i.min_date.valueOf()||e.start_date.valueOf()>=i.max_date.valueOf())&&(n=new Date(i.min_date)),(a=new Date(n)).setHours(m.config.last_hour),{start_date:n,end_date:a}},nextAgendaSlot:function(e){return{start_date:e.start_date,end_date:e.end_date}},isDateVisible:function(e){if(!m._ignores_detected)return!0;var t,n=m.matrix&&m.matrix[m.getState().mode];return t=n?m._get_date_index(n,e):m.locate_holder_day(e),!m._ignores[t]},findVisibleColumn:function(e,t){var n=e;t=t||1;for(var a=m.getState();!this.isDateVisible(n)&&(0<t&&n.valueOf()<=a.max_date.valueOf()||t<0&&n.valueOf()>=a.min_date.valueOf());)n=this.nextDateColumn(n,t);return n},nextDateColumn:function(e,t){t=t||1;var n=m.matrix&&m.matrix[m.getState().mode];return n?m.date.add(e,t*n.x_step,n.x_unit):m.date.day_start(m.date.add(e,t,"day"))},isVisible:function(e,t){if(!m._ignores_detected)return!0;for(var n=new Date(e);n.valueOf()<t.valueOf();){if(this.isDateVisible(n))return!0;n=this.nextDateColumn(n)}return!1},nextSlot:function(e,t,n,a){var i;n=n||this._getMode();var r=m.$keyboardNavigation.TimeSlot.prototype.clone(e);switch(n){case this._modes.units:i=this.nextUnitsSlot(r,t,a);break;case this._modes.timeline:i=this.nextTimelineSlot(r,t,a);break;case this._modes.year:case this._modes.month:i=this.nextMonthSlot(r,t,a);break;case this._modes.weekAgenda:i=this.nextWeekAgendaSlot(r,t,a);break;case this._modes.list:i=this.nextAgendaSlot(r,t,a);break;case this._modes.dayColumns:i=this.nextDaySlot(r,t,a)}return i.start_date.valueOf()>=i.end_date.valueOf()&&(i=this.nextSlot(i,t,n)),m.$keyboardNavigation.TimeSlot.prototype.clone(i)},extendSlot:function(e,t){var n;switch(this._getMode()){case this._modes.units:n="left"==t||"right"==t?this.nextUnitsSlot(e,t):this.extendUnitsSlot(e,t);break;case this._modes.timeline:n="down"==t||"up"==t?this.nextTimelineSlot(e,t):this.extendTimelineSlot(e,t);break;case this._modes.year:case this._modes.month:n=this.extendMonthSlot(e,t);break;case this._modes.dayColumns:n=this.extendDaySlot(e,t);break;case this._modes.weekAgenda:n=this.extendWeekAgendaSlot(e,t);break;default:n=e}var a=m.getState();return n.start_date.valueOf()<a.min_date.valueOf()&&(n.start_date=this.findVisibleColumn(a.min_date),n.start_date.setHours(m.config.first_hour)),n.end_date.valueOf()>a.max_date.valueOf()&&(n.end_date=this.findVisibleColumn(a.max_date,-1)),m.$keyboardNavigation.TimeSlot.prototype.clone(n)},extendTimelineSlot:function(e,t){return this.extendGenericSlot({left:"start_date",right:"end_date"},e,t,"timeline")},extendWeekAgendaSlot:function(e,t){return this.extendGenericSlot({left:"start_date",right:"end_date"},e,t,"weekAgenda")},extendGenericSlot:function(e,t,n,a){var i,r=t.movingDate;if(r||(r=e[n]),!r||!e[n])return t;if(!n)return m.$keyboardNavigation.TimeSlot.prototype.clone(t);(i=this.nextSlot({start_date:t[r],section:t.section},n,a,!0)).start_date.valueOf()==t.start_date.valueOf()&&(i=this.nextSlot({start_date:i.start_date,section:i.section},n,a,!0)),i.movingDate=r;var o=this.extendSlotDates(t,i,i.movingDate);return o.end_date.valueOf()<=o.start_date.valueOf()&&(i.movingDate="end_date"==i.movingDate?"start_date":"end_date"),o=this.extendSlotDates(t,i,i.movingDate),i.start_date=o.start_date,i.end_date=o.end_date,i},extendSlotDates:function(e,t,n){var a={start_date:null,end_date:null};return"start_date"==n?(a.start_date=t.start_date,a.end_date=e.end_date):(a.start_date=e.start_date,a.end_date=t.start_date),a},extendMonthSlot:function(e,t){return(e=this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},e,t,"month")).start_date.setHours(m.config.first_hour),e.end_date=m.date.add(e.end_date,-1,"day"),e.end_date.setHours(m.config.last_hour),e},extendUnitsSlot:function(e,t){var n;switch(t){case"down":case"up":n=this.extendDaySlot(e,t);break;default:n=e}return n.section=e.section,n},extendDaySlot:function(e,t){return this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},e,t,"dayColumns")},scrollSlot:function(e){var t=m.getState(),n=this.nextSlot(this,e);(n.start_date.valueOf()<t.min_date.valueOf()||n.start_date.valueOf()>=t.max_date.valueOf())&&m.setCurrentView(new Date(n.start_date)),this.moveTo(n)},keys:{left:function(){this.scrollSlot("left")},right:function(){this.scrollSlot("right")},down:function(){this._getMode()==this._modes.list?m.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this.scrollSlot("down")},up:function(){this._getMode()==this._modes.list?m.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this.scrollSlot("up")},"shift+down":function(){this.moveTo(this.extendSlot(this,"down"))},"shift+up":function(){this.moveTo(this.extendSlot(this,"up"))},"shift+right":function(){this.moveTo(this.extendSlot(this,"right"))},"shift+left":function(){this.moveTo(this.extendSlot(this,"left"))},enter:function(){var e={start_date:new Date(this.start_date),end_date:new Date(this.end_date)},t=m.getState().mode;if(m.matrix&&m.matrix[t])e[m.matrix[m.getState().mode].y_property]=this.section;else if(m._props&&m._props[t]){e[m._props[t].map_to]=this.section}m.addEventNow(e)}}}),m.$keyboardNavigation.TimeSlot.prototype.bindAll(m.$keyboardNavigation.TimeSlot.prototype.keys),m.$keyboardNavigation.MinicalButton=function(e,t){this.container=e,this.index=t||0},m.$keyboardNavigation.MinicalButton.prototype=m._compose(m.$keyboardNavigation.KeyNavNode,{isValid:function(){return!!this.container.offsetWidth},fallback:function(){var e=new m.$keyboardNavigation.TimeSlot;return e.isValid()?e:new m.$keyboardNavigation.DataArea},focus:function(){m.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),m.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),m.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},getNode:function(){return this.index?this.container.querySelector(".dhx_cal_next_button"):this.container.querySelector(".dhx_cal_prev_button")},keys:{right:function(){this.moveTo(new m.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},left:function(){this.moveTo(new m.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},down:function(){var e=new m.$keyboardNavigation.MinicalCell(this.container,0,0);e&&!e.isValid()&&(e=e.fallback()),this.moveTo(e)},enter:function(){this.getNode().click()}}}),m.$keyboardNavigation.MinicalButton.prototype.bindAll(m.$keyboardNavigation.MinicalButton.prototype.keys),m.$keyboardNavigation.MinicalCell=function(e,t,n){this.container=e,this.row=t||0,this.col=n||0},m.$keyboardNavigation.MinicalCell.prototype=m._compose(m.$keyboardNavigation.KeyNavNode,{isValid:function(){var e=this._getGrid();return!(!e[this.row]||!e[this.row][this.col])},fallback:function(){var e=this.row,t=this.col,n=this._getGrid();n[e]||(e=0);var a=!0;if(e>n.length/2&&(a=!1),!n[e]){var i=new m.$keyboardNavigation.TimeSlot;return i.isValid()?i:new m.$keyboardNavigation.DataArea}if(a){for(var r=t;n[e]&&r<n[e].length;r++)if(n[e][r]||r!=n[e].length-1||(e++,t=0),n[e][r])return new m.$keyboardNavigation.MinicalCell(this.container,e,r)}else for(r=t;n[e]&&r<n[e].length;r--)if(n[e][r]||r||(t=n[--e].length-1),n[e][r])return new m.$keyboardNavigation.MinicalCell(this.container,e,r);return new m.$keyboardNavigation.MinicalButton(this.container,0)},focus:function(){m.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),m.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),m.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getNode:function(e,t){return this.container.querySelector(".dhx_year_body tr:nth-child("+(e+1)+") td:nth-child("+(t+1)+")")},getNode:function(){return this._getNode(this.row,this.col)},_getGrid:function(){for(var e=this.container.querySelectorAll(".dhx_year_body tr"),t=[],n=0;n<e.length;n++){t[n]=[];for(var a=e[n].querySelectorAll("td"),i=0;i<a.length;i++){var r=a[i],o=!0,s=m._getClassName(r);(-1<s.indexOf("dhx_after")||-1<s.indexOf("dhx_before")||-1<s.indexOf("dhx_scale_ignore"))&&(o=!1),t[n][i]=o}}return t},keys:{right:function(){var e=this._getGrid(),t=this.row,n=this.col+1;e[t]&&e[t][n]||(e[t+1]?(t+=1,n=0):n=this.col);var a=new m.$keyboardNavigation.MinicalCell(this.container,t,n);a.isValid()||(a=a.fallback()),this.moveTo(a)},left:function(){var e=this._getGrid(),t=this.row,n=this.col-1;e[t]&&e[t][n]||(e[t-1]?n=e[t-=1].length-1:n=this.col);var a=new m.$keyboardNavigation.MinicalCell(this.container,t,n);a.isValid()||(a=a.fallback()),this.moveTo(a)},down:function(){var e=this._getGrid(),t=this.row+1,n=this.col;e[t]&&e[t][n]||(t=this.row);var a=new m.$keyboardNavigation.MinicalCell(this.container,t,n);a.isValid()||(a=a.fallback()),this.moveTo(a)},up:function(){var e=this._getGrid(),t=this.row-1,n=this.col;if(e[t]&&e[t][n]){var a=new m.$keyboardNavigation.MinicalCell(this.container,t,n);a.isValid()||(a=a.fallback()),this.moveTo(a)}else{var i=0;this.col>e[this.row].length/2&&(i=1),this.moveTo(new m.$keyboardNavigation.MinicalButton(this.container,i))}},enter:function(){this.getNode().querySelector(".dhx_month_head").click()}}}),m.$keyboardNavigation.MinicalCell.prototype.bindAll(m.$keyboardNavigation.MinicalCell.prototype.keys),m.$keyboardNavigation.DataArea=function(e){this.index=e||0},m.$keyboardNavigation.DataArea.prototype=m._compose(m.$keyboardNavigation.KeyNavNode,{getNode:function(){return m.$container.querySelector(".dhx_cal_data")},_handlers:null,isValid:function(){return!0},fallback:function(){return this},keys:{"up,down,right,left":function(){this.moveTo(new m.$keyboardNavigation.TimeSlot)}}}),m.$keyboardNavigation.DataArea.prototype.bindAll(m.$keyboardNavigation.DataArea.prototype.keys),dhtmlx._modalsStack||(dhtmlx._modalsStack=[]),function(){function e(){return!(!d.length&&!dhtmlx._modalsStack.length)}function t(e,t){for(;e&&e!=t;)e=e.parentNode;return!(e!=t)}function n(){setTimeout(function(){e()||t(document.activeElement,m.$container)||m.focus()},1)}function a(e){m.eventRemove(e,"keydown",o),m.event(e,"keydown",o),d.push(e)}function i(){var e=d.pop();e&&m.eventRemove(e,"keydown",o),n(e)}function r(e){return dhtmlx._modalsStack.length?e==dhtmlx._modalsStack[dhtmlx._modalsStack.length-1]:e==d[d.length-1]}function o(e){var t=(e=e||window.event).currentTarget;r(t)&&m.$keyboardNavigation.trapFocus(t,e)}function s(){a(m.getLightbox())}var d=[];if(m.attachEvent("onLightbox",s),m.attachEvent("onAfterLightbox",i),m.attachEvent("onAfterQuickInfo",function(){n()}),!dhtmlx._keyNavMessagePopup){dhtmlx._keyNavMessagePopup=!0;var l=null,c=null;dhtmlx.attachEvent("onMessagePopup",function(e){for(l=document.activeElement,c=l;c&&m._getClassName(c).indexOf("dhx_cal_data")<0;)c=c.parentNode;c&&(c=c.parentNode),m.eventRemove(e,"keydown",o),m.event(e,"keydown",o),dhtmlx._modalsStack.push(e)}),dhtmlx.attachEvent("onAfterMessagePopup",function(){var e=dhtmlx._modalsStack.pop();e&&m.eventRemove(e,"keydown",o),setTimeout(function(){for(var e=document.activeElement;e&&m._getClassName(e).indexOf("dhx_cal_light")<0;)e=e.parentNode;e||(l&&l.parentNode?l.focus():c&&c.parentNode&&c.focus(),c=l=null)},1)})}m.$keyboardNavigation.isModal=e}(),m.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new m.$keyboardNavigation.SchedulerNode,keepScrollPosition:function(e){var t,n,a=m.$container.querySelector(".dhx_timeline_scrollable_data");a||(a=m.$container.querySelector(".dhx_cal_data")),a&&(t=a.scrollTop,n=a.scrollLeft),e(),a&&(a.scrollTop=t,a.scrollLeft=n)},enable:function(){if(m.$container){this.isActive=!0;var e=this;this.keepScrollPosition(function(){e.globalNode.enable(),e.setActiveNode(e.getActiveNode())})}},disable:function(){this.isActive=!1,this.globalNode.disable()},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){return this.globalNode.getDefaultNode()},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var e=this.activeNode;return e&&!e.isValid()&&(e=e.fallback()),e},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(e){e&&e.isValid()&&(this.activeNode&&this.activeNode.compareTo(e)||this.isEnabled()&&(this.blurNode(this.activeNode),this.activeNode=e,this.focusNode(this.activeNode)))},focusNode:function(e){e&&e.focus&&(e.focus(),e.getNode&&document.activeElement!=e.getNode()&&this.setActiveNode(new m.$keyboardNavigation.DataArea))},blurNode:function(e){e&&e.blur&&e.blur()},getInlineEditor:function(e){var t=m.$container.querySelector(".dhx_cal_editor[event_id='"+e+"'] textarea");return t&&t.offsetWidth?t:null},keyDownHandler:function(e){if(!e.defaultPrevented){var t=this.getActiveNode();if((!m.$keyboardNavigation.isModal()||t&&t.container&&m._locate_css({target:t.container},"dhx_minical_popup",!1))&&(!m.getState().editor_id||!this.getInlineEditor(m.getState().editor_id))&&this.isEnabled()){e=e||window.event;var n=this.globalNode,a=m.$keyboardNavigation.shortcuts.getCommandFromEvent(e);t?t.findHandler(a)?t.doAction(a,e):n.findHandler(a)&&n.doAction(a,e):this.setDefaultNode()}}},_timeout:null,delay:function(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t||1)}},m._temp_key_scope=function(){function e(e){e=e||window.event,a.x=e.clientX,a.y=e.clientY}function r(){for(var e=!1,t=!1,n=document.elementFromPoint(a.x,a.y);n&&n!=m._obj;)n=n.parentNode;return e=!(n!=m._obj),t=m.$keyboardNavigation.dispatcher.isEnabled(),e||t}function o(e){delete e.rec_type,delete e.rec_pattern,delete e.event_pid,delete e.event_length}function s(e){return m._lame_copy({},e)}function d(){var e=m.$keyboardNavigation.dispatcher.getActiveNode();return e&&e.eventId?e.eventId:m._select_id}m.config.key_nav=!0,m.$keyboardNavigation._pasteDate=null;var l=m.$keyboardNavigation._pasteSection=null,a={};document.body?m.event(document.body,"mousemove",e):m.event(window,"load",function(){m.event(document.body,"mousemove",e)}),m.attachEvent("onMouseMove",function(e,t){var n=m.getState();if(n.mode&&n.min_date){var a=m.getActionData(t);m.$keyboardNavigation._pasteDate=a.date,m.$keyboardNavigation._pasteSection=a.section}}),m._make_pasted_event=function(e){var t=m.$keyboardNavigation._pasteDate,n=m.$keyboardNavigation._pasteSection,a=e.end_date-e.start_date,i=s(e);if(o(i),i.start_date=new Date(t),i.end_date=new Date(i.start_date.valueOf()+a),n){var r=m._get_section_property();m.config.multisection?i[r]=e[r]:i[r]=n}return i},m._do_paste=function(e,t,n){m.addEvent(t),m.callEvent("onEventPasted",[e,t,n])},m._is_key_nav_active=function(){return!(!this._is_initialized()||this._is_lightbox_open()||!this.config.key_nav)},m.event(document,"keydown",function(e){(e.ctrlKey||e.metaKey)&&86==e.keyCode&&m._buffer_event&&!m.$keyboardNavigation.dispatcher.isEnabled()&&(m.$keyboardNavigation.dispatcher.isActive=r())}),m._key_nav_copy_paste=function(e){if(!m._is_key_nav_active())return!0;if(37==(e=e||event).keyCode||39==e.keyCode){e.cancelBubble=!0;var t=m.date.add(m._date,37==e.keyCode?-1:1,m._mode);return m.setCurrentView(t),!0}var n=d();if((e.ctrlKey||e.metaKey)&&67==e.keyCode)return n&&(m._buffer_event=s(m.getEvent(n)),l=!0,m.callEvent("onEventCopied",[m.getEvent(n)])),!0;if((e.ctrlKey||e.metaKey)&&88==e.keyCode&&n){l=!1;var a=m._buffer_event=s(m.getEvent(n));m.updateEvent(a.id),m.callEvent("onEventCut",[a])}if((e.ctrlKey||e.metaKey)&&86==e.keyCode&&r(e)){if(a=(a=m._buffer_event?m.getEvent(m._buffer_event.id):m._buffer_event)||m._buffer_event){var i=m._make_pasted_event(a);l?(i.id=m.uid(),m._do_paste(l,i,a)):m.callEvent("onBeforeEventChanged",[i,e,!1,a])&&(m._do_paste(l,i,a),l=!0)}return!0}}},m._temp_key_scope(),function(){function t(){if(m.config.key_nav){var e=document.activeElement;return!(!e||m._locate_css(e,"dhx_cal_quick_info",!1))&&(m.$keyboardNavigation.isChildOf(e,m.$container)||m.$keyboardNavigation.isMinical(e))}}function n(e){e&&!a.isEnabled()?a.enable():!e&&a.isEnabled()&&a.disable()}m.$keyboardNavigation.attachSchedulerHandlers=function(){function t(e){if(!m.config.key_nav)return!0;var t,n=m.$keyboardNavigation.isChildOf(e.target||e.srcElement,m.$container.querySelector(".dhx_cal_data")),a=m.getActionData(e);m._locate_event(e.target||e.srcElement)?t=new m.$keyboardNavigation.Event(m._locate_event(e.target||e.srcElement)):n&&(t=new m.$keyboardNavigation.TimeSlot,a.date&&n&&(t=t.nextSlot(new m.$keyboardNavigation.TimeSlot(a.date,null,a.section)))),t&&(s.isEnabled()?a.date&&n&&s.delay(function(){s.setActiveNode(t)}):s.activeNode=t)}function a(e){if(m.config.key_nav&&s.isEnabled()){var t=e,n=new m.$keyboardNavigation.Event(t.eventId);if(!n.isValid()){var a=n.start||t.start,i=n.end||t.end,r=n.section||t.section;(n=new m.$keyboardNavigation.TimeSlot(a,i,r)).isValid()||(n=new m.$keyboardNavigation.TimeSlot)}s.setActiveNode(n);var o=s.getActiveNode();o&&o.getNode&&document.activeElement!=o.getNode()&&s.focusNode(s.getActiveNode())}}var e,s=m.$keyboardNavigation.dispatcher,n=function(e){if(m.config.key_nav)return s.keyDownHandler(e)},i=function(){s.keepScrollPosition(function(){s.focusGlobalNode()})};m.attachEvent("onDataRender",function(){m.config.key_nav&&s.isEnabled()&&!m.getState().editor_id&&(clearTimeout(e),e=setTimeout(function(){s.isEnabled()||s.enable(),r()}))});var r=function(){if(s.isEnabled()){var e=s.getActiveNode();e&&(e.isValid()||(e=e.fallback()),!e||e instanceof m.$keyboardNavigation.MinicalButton||e instanceof m.$keyboardNavigation.MinicalCell||s.keepScrollPosition(function(){e.focus(!0)}))}};m.attachEvent("onSchedulerReady",function(){var e=m.$container;m.eventRemove(document,"keydown",n),m.eventRemove(e,"mousedown",t),m.eventRemove(e,"focus",i),m.config.key_nav?(m.event(document,"keydown",n),m.event(e,"mousedown",t),m.event(e,"focus",i),e.setAttribute("tabindex","0")):e.removeAttribute("tabindex")});var o=m.updateEvent;m.updateEvent=function(e){var t=o.apply(this,arguments);if(m.config.key_nav&&s.isEnabled()&&m.getState().select_id==e){var n=new m.$keyboardNavigation.Event(e);m.getState().lightbox_id||a(n)}return t},m.attachEvent("onEventDeleted",function(e){return m.config.key_nav&&s.isEnabled()&&s.getActiveNode().eventId==e&&s.setActiveNode(new m.$keyboardNavigation.TimeSlot),!0}),m.attachEvent("onClearAll",function(){if(!m.config.key_nav)return!0;s.isEnabled()&&s.getActiveNode()instanceof m.$keyboardNavigation.Event&&s.setActiveNode(new m.$keyboardNavigation.TimeSlot)})},m.$keyboardNavigation._minicalendars=[],m.$keyboardNavigation.isMinical=function(e){for(var t=m.$keyboardNavigation._minicalendars,n=0;n<t.length;n++)if(this.isChildOf(e,t[n]))return!0;return!1},m.$keyboardNavigation.isChildOf=function(e,t){for(;e&&e!==t;)e=e.parentNode;return!(e!==t)},m.$keyboardNavigation.patchMinicalendar=function(){function r(e){var t=e.target;f.enable(),f.setActiveNode(new m.$keyboardNavigation.MinicalButton(t,0))}function o(e){var t=e.target||e.srcElement,n=m._locate_css(e,"dhx_cal_prev_button",!1),a=m._locate_css(e,"dhx_cal_next_button",!1),i=m._locate_css(e,"dhx_year_body",!1),r=0,o=0;if(i){for(var s,d,l=t;l&&"td"!=l.tagName.toLowerCase();)l=l.parentNode;if(l&&(s=(d=l).parentNode),s&&d){for(var c=s.parentNode.querySelectorAll("tr"),u=0;u<c.length;u++)if(c[u]==s){r=u;break}var _=s.querySelectorAll("td");for(u=0;u<_.length;u++)if(_[u]==d){o=u;break}}}var h=e.currentTarget;f.delay(function(){var e;(n||a||i)&&(n?(e=new m.$keyboardNavigation.MinicalButton(h,0),f.setActiveNode(new m.$keyboardNavigation.MinicalButton(h,0))):a?e=new m.$keyboardNavigation.MinicalButton(h,1):i&&(e=new m.$keyboardNavigation.MinicalCell(h,r,o)),e&&(f.enable(),e.isValid()&&(f.activeNode=null,f.setActiveNode(e))))})}var f=m.$keyboardNavigation.dispatcher;if(m.renderCalendar){var s=m.renderCalendar;m.renderCalendar=function(){var e=s.apply(this,arguments),t=m.$keyboardNavigation._minicalendars;m.eventRemove(e,"click",o),m.event(e,"click",o),m.eventRemove(e,"focus",r),m.event(e,"focus",r);for(var n=!1,a=0;a<t.length;a++)if(t[a]==e){n=!0;break}if(n||t.push(e),f.isEnabled()){var i=f.getActiveNode();i&&i.container==e?f.focusNode(i):e.setAttribute("tabindex","0")}else e.setAttribute("tabindex","0");return e}}if(m.destroyCalendar){var d=m.destroyCalendar;m.destroyCalendar=function(e,t){e=e||(m._def_count?m._def_count.firstChild:null);var n=d.apply(this,arguments);if(!e||!e.parentNode)for(var a=m.$keyboardNavigation._minicalendars,i=0;i<a.length;i++)a[i]==e&&(m.eventRemove(a[i],"focus",r),a.splice(i,1),i--);return n}}};var a=m.$keyboardNavigation.dispatcher;if(m.$keyboardNavigation.attachSchedulerHandlers(),m.renderCalendar)m.$keyboardNavigation.patchMinicalendar();else var e=m.attachEvent("onSchedulerReady",function(){m.detachEvent(e),m.$keyboardNavigation.patchMinicalendar()});setInterval(function(){if(m.$container&&m.$keyboardNavigation.isChildOf(m.$container,document.body)){var e=t();e?n(e):!e&&a.isEnabled()&&setTimeout(function(){m.config.key_nav?n(t()):m.$container.removeAttribute("tabindex")},100)}},500)}()}window.Scheduler?window.Scheduler.plugin(e):e(window.scheduler)}(),Scheduler.plugin(function(g){g.attachEvent("onTemplatesReady",function(){this.layers.sort(function(e,t){return e.zIndex-t.zIndex}),g._dp_init=function(n){n._methods=["_set_event_text_style","","changeEventId","deleteEvent"],this.attachEvent("onEventAdded",function(e){!this._loading&&this.validId(e)&&this.getEvent(e)&&this.getEvent(e).layer==n.layer&&n.setUpdated(e,!0,"inserted")}),this.attachEvent("onBeforeEventDelete",function(e){if(this.getEvent(e)&&this.getEvent(e).layer==n.layer){if(!this.validId(e))return;var t=n.getState(e);return"inserted"==t||this._new_event?(n.setUpdated(e,!1),!0):"deleted"!=t&&("true_deleted"==t||(n.setUpdated(e,!0,"deleted"),!1))}return!0}),this.attachEvent("onEventChanged",function(e){!this._loading&&this.validId(e)&&this.getEvent(e)&&this.getEvent(e).layer==n.layer&&n.setUpdated(e,!0,"updated")}),n._getRowData=function(e){var t=this.obj.getEvent(e),n={};for(var a in t)0!==a.indexOf("_")&&(t[a]&&t[a].getUTCFullYear?n[a]=this.obj._helpers.formatDate(t[a]):n[a]=t[a]);return n},n._clearUpdateFlag=function(){},n.attachEvent("insertCallback",g._update_callback),n.attachEvent("updateCallback",g._update_callback),n.attachEvent("deleteCallback",function(e,t){this.obj.setUserData(t,this.action_param,"true_deleted"),this.obj.deleteEvent(t)})},function(){var a=function(e){if(null===e||"object"!=typeof e)return e;var t=new e.constructor;for(var n in e)t[n]=a(e[n]);return t};g._dataprocessors=[],g._layers_zindex={};for(var e=0;e<g.layers.length;e++){if(g.config["lightbox_"+g.layers[e].name]={},g.config["lightbox_"+g.layers[e].name].sections=a(g.config.lightbox.sections),g._layers_zindex[g.layers[e].name]=g.config.inital_layer_zindex||5+3*e,g.layers[e].url){var t=new dataProcessor(g.layers[e].url);t.layer=g.layers[e].name,g._dataprocessors.push(t),g._dataprocessors[e].init(g)}g.layers[e].isDefault&&(g.defaultLayer=g.layers[e].name)}}(),g.showLayer=function(e){this.toggleLayer(e,!0)},g.hideLayer=function(e){this.toggleLayer(e,!1)},g.toggleLayer=function(e,t){var n=this.getLayer(e);n.visible=void 0!==t?!!t:!n.visible,this.setCurrentView(this._date,this._mode)},g.getLayer=function(e){var t,n;"string"==typeof e&&(n=e),"object"==typeof e&&(n=e.layer);for(var a=0;a<g.layers.length;a++)g.layers[a].name==n&&(t=g.layers[a]);return t},g.attachEvent("onBeforeLightbox",function(e){var t=this.getEvent(e);return this.config.lightbox.sections=this.config["lightbox_"+t.layer].sections,g.resetLightbox(),!0}),g.attachEvent("onClick",function(e){var t=g.getEvent(e);return!g.getLayer(t.layer).noMenu}),g.attachEvent("onEventCollision",function(e,t){var n=this.getLayer(e);if(!n.checkCollision)return!1;for(var a=0,i=0;i<t.length;i++)t[i].layer==n.name&&t[i].id!=e.id&&a++;return a>=g.config.collision_limit}),g.addEvent=function(e,t,n,a,i){var r=e;1!=arguments.length&&((r=i||{}).start_date=e,r.end_date=t,r.text=n,r.id=a,r.layer=this.defaultLayer),r.id=r.id||g.uid(),r.text=r.text||"","string"==typeof r.start_date&&(r.start_date=this.templates.api_date(r.start_date)),"string"==typeof r.end_date&&(r.end_date=this.templates.api_date(r.end_date)),r._timed=this.isOneDayEvent(r);var o=!this._events[r.id];this._events[r.id]=r,this.event_updated(r),this._loading||this.callEvent(o?"onEventAdded":"onEventChanged",[r.id,r])},this._evs_layer={};for(var e=0;e<this.layers.length;e++)this._evs_layer[this.layers[e].name]=[];g.addEventNow=function(e,t,n){var a={};"object"==typeof e&&(a=e,e=null);var i=6e4*(this.config.event_duration||this.config.time_step);e||(e=Math.round(g._currentDate().valueOf()/i)*i);var r=new Date(e);if(!t){var o=this.config.first_hour;o>r.getHours()&&(r.setHours(o),e=r.valueOf()),t=e+i}a.start_date=a.start_date||r,a.end_date=a.end_date||new Date(t),a.text=a.text||this.locale.labels.new_event,a.id=this._drag_id=this.uid(),a.layer=this.defaultLayer,this._drag_mode="new-size",this._loading=!0,this.addEvent(a),this.callEvent("onEventCreated",[this._drag_id,n]),this._loading=!1,this._drag_event={},this._on_mouse_up(n)},g._t_render_view_data=function(e){if(this.config.multi_day&&!this._table_view){for(var t=[],n=[],a=0;a<e.length;a++)e[a]._timed?t.push(e[a]):n.push(e[a]);this._table_view=!0,this.render_data(n),this._table_view=!1,this.render_data(t)}else this.render_data(e)},g.render_view_data=function(){if(this._not_render)this._render_wait=!0;else{this._render_wait=!1,this.clear_view(),this._evs_layer={};for(var e=0;e<this.layers.length;e++)this._evs_layer[this.layers[e].name]=[];var t=this.get_visible_events();for(e=0;e<t.length;e++)this._evs_layer[t[e].layer]&&this._evs_layer[t[e].layer].push(t[e]);if("month"==this._mode){var n=[];for(e=0;e<this.layers.length;e++)this.layers[e].visible&&(n=n.concat(this._evs_layer[this.layers[e].name]));this._t_render_view_data(n)}else for(e=0;e<this.layers.length;e++)if(this.layers[e].visible){var a=this._evs_layer[this.layers[e].name];this._t_render_view_data(a)}}},g._render_v_bar=function(e,t,n,a,i,r,o,s,d){var l=e.id;-1==o.indexOf("<div class=")&&(o=g.templates["event_header_"+e.layer]?g.templates["event_header_"+e.layer](e.start_date,e.end_date,e):o),-1==s.indexOf("<div class=")&&(s=g.templates["event_text_"+e.layer]?g.templates["event_text_"+e.layer](e.start_date,e.end_date,e):s);var c=document.createElement("div"),u="dhx_cal_event",_=g.templates["event_class_"+e.layer]?g.templates["event_class_"+e.layer](e.start_date,e.end_date,e):g.templates.event_class(e.start_date,e.end_date,e);_&&(u=u+" "+_);var h=g._border_box_events(),f=a-2,p=h?f-2:a-8,m='<div event_id="'+l+'" class="'+u+'" style="position:absolute; top:'+n+"px; left:"+t+"px; width:"+(h?f:a-4)+"px; height:"+i+"px;"+(r||"")+'">';return m+='<div class="dhx_header" style=" width:'+(h?f:a-6)+'px;" >&nbsp;</div>',m+='<div class="dhx_title">'+o+"</div>",m+='<div class="dhx_body" style=" width:'+(h?f:a-(this._quirks?4:14))+"px; height:"+(h?i-this.xy.event_header_height:i-(this._quirks?20:30)+1)+'px;">'+s+"</div>",m+='<div class="dhx_footer" style=" width:'+p+"px;"+(d?" margin-top:-1px;":"")+'" ></div></div>',c.innerHTML=m,c.style.zIndex=100,c.firstChild},g.render_event_bar=function(e){var t=this._els.dhx_cal_data[0],n=this._colsS[e._sday],a=this._colsS[e._eday];a==n&&(a=this._colsS[e._eday+1]);var i=this.xy.bar_height,r=this._colsS.heights[e._sweek]+(this._colsS.height?this.xy.month_scale_height+2:2)+e._sorder*i,o=document.createElement("div"),s=e._timed?"dhx_cal_event_clear":"dhx_cal_event_line",d=g.templates["event_class_"+e.layer]?g.templates["event_class_"+e.layer](e.start_date,e.end_date,e):g.templates.event_class(e.start_date,e.end_date,e);d&&(s=s+" "+d);var l='<div event_id="'+e.id+'" class="'+s+'" style="position:absolute; top:'+r+"px; left:"+n+"px; width:"+(a-n-15)+"px;"+(e._text_style||"")+'">';e._timed&&(l+=g.templates["event_bar_date_"+e.layer]?g.templates["event_bar_date_"+e.layer](e.start_date,e.end_date,e):g.templates.event_bar_date(e.start_date,e.end_date,e)),l+=g.templates["event_bar_text_"+e.layer]?g.templates["event_bar_text_"+e.layer](e.start_date,e.end_date,e):g.templates.event_bar_text(e.start_date,e.end_date,e)+"</div>)",l+="</div>",o.innerHTML=l,this._rendered.push(o.firstChild),t.appendChild(o.firstChild)},g.render_event=function(e){var t=g.xy.menu_width;if(g.getLayer(e.layer).noMenu&&(t=0),!(e._sday<0)){var n=g.locate_holder(e._sday);if(n){var a=60*e.start_date.getHours()+e.start_date.getMinutes(),i=60*e.end_date.getHours()+e.end_date.getMinutes()||60*g.config.last_hour,r=Math.round((60*a*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)+1,o=Math.max(g.xy.min_event_height,(i-a)*this.config.hour_size_px/60)+1,s=Math.floor((n.clientWidth-t)/e._count),d=e._sorder*s+1;e._inner||(s*=e._count-e._sorder);var l=this._render_v_bar(e.id,t+d,r,s,o,e._text_style,g.templates.event_header(e.start_date,e.end_date,e),g.templates.event_text(e.start_date,e.end_date,e));if(this._rendered.push(l),n.appendChild(l),d=d+parseInt(n.style.left,10)+t,r+=this._dy_shift,l.style.zIndex=this._layers_zindex[e.layer],this._edit_id==e.id){l.style.zIndex=parseInt(l.style.zIndex)+1;var c=l.style.zIndex;s=Math.max(s-4,g.xy.editor_width),(l=document.createElement("div")).setAttribute("event_id",e.id),this.set_xy(l,s,o-20,d,r+14),l.className="dhx_cal_editor",l.style.zIndex=c;var u=document.createElement("div");this.set_xy(u,s-6,o-26),u.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",u.style.zIndex=c,l.appendChild(u),this._els.dhx_cal_data[0].appendChild(l),this._rendered.push(l),u.innerHTML="<textarea class='dhx_cal_editor'>"+e.text+"</textarea>",this._quirks7&&(u.firstChild.style.height=o-12+"px"),this._editor=u.firstChild,this._editor.onkeypress=function(e){if((e||event).shiftKey)return!0;var t=(e||event).keyCode;t==g.keys.edit_save&&g.editStop(!0),t==g.keys.edit_cancel&&g.editStop(!1)},this._editor.onselectstart=function(e){return(e||event).cancelBubble=!0},u.firstChild.focus(),this._els.dhx_cal_data[0].scrollLeft=0,u.firstChild.select()}if(this._select_id==e.id){l.style.zIndex=parseInt(l.style.zIndex)+1;for(var _=this.config["icons_"+(this._edit_id==e.id?"edit":"select")],h="",f=0;f<_.length;f++)h+="<div class='dhx_menu_icon "+_[f]+"' title='"+this.locale.labels[_[f]]+"'></div>";var p=this._render_v_bar(e.id,d-t+1,r,t,20*_.length+26,"","<div class='dhx_menu_head'></div>",h,!0);p.style.left=d-t+1,p.style.zIndex=l.style.zIndex,this._els.dhx_cal_data[0].appendChild(p),this._rendered.push(p)}}}},g.filter_agenda=function(e,t){var n=g.getLayer(t.layer);return n&&n.visible}})}),Scheduler.plugin(function(L){L.config.limit_start=null,L.config.limit_end=null,L.config.limit_view=!1,L.config.check_limits=!0,L.config.mark_now=!0,L.config.display_marked_timespans=!0,L._temp_limit_scope=function(){function f(e,t,n,a,i){var r=L,o=[],s={_props:"map_to",matrix:"y_property"};for(var d in s){var l=s[d];if(r[d])for(var c in r[d]){var u=r[d][c][l];e[u]&&(o=r._add_timespan_zones(o,L._get_blocked_zones(t[c],e[u],n,a,i)))}}return r._add_timespan_zones(o,L._get_blocked_zones(t,"global",n,a,i))}var n=null,c="dhx_time_block",b="default",i=function(e,t,n){return t instanceof Date&&n instanceof Date?(e.start_date=t,e.end_date=n):(e.days=t,e.zones=n),e},r=function(e,t,n){var a="object"==typeof e?e:{days:e};return a.type=c,a.css="",t&&(n&&(a.sections=n),a=i(a,e,t)),a};L.blockTime=function(e,t,n){var a=r(e,t,n);return L.addMarkedTimespan(a)},L.unblockTime=function(e,t,n){var a=r(e,t=t||"fullday",n);return L.deleteMarkedTimespan(a)},L.attachEvent("onBeforeViewChange",function(e,t,n,a){function i(e,t){var n=L.config.limit_start,
a=L.config.limit_end,i=L.date.add(e,1,t);return e.valueOf()>a.valueOf()||i<=n.valueOf()}return!L.config.limit_view||(!i(a=a||t,n=n||e)||t.valueOf()==a.valueOf())||(setTimeout(function(){var e=i(t,n)?L.config.limit_start:t;L.setCurrentView(i(e,n)?null:e,n)},1),!1)}),L.checkInMarkedTimespan=function(e,t,n){t=t||b;for(var a=!0,i=new Date(e.start_date.valueOf()),r=L.date.add(i,1,"day"),o=L._marked_timespans;i<e.end_date;i=L.date.date_part(r),r=L.date.add(i,1,"day")){var s=+L.date.date_part(new Date(i)),d=f(e,o,i.getDay(),s,t);if(d)for(var l=0;l<d.length;l+=2){var c=L._get_zone_minutes(i),u=e.end_date>r||e.end_date.getDate()!=i.getDate()?1440:L._get_zone_minutes(e.end_date),_=d[l],h=d[l+1];if(_<u&&c<h&&!(a="function"==typeof n&&n(e,c,u,_,h)))break}}return!a};var o=L.checkLimitViolation=function(e){if(!e)return!0;if(!L.config.check_limits)return!0;var o=L,t=o.config,n=[];if(e.rec_type)for(var a=L.getRecDates(e),i=0;i<a.length;i++){var r=L._copy_event(e);L._lame_copy(r,a[i]),n.push(r)}else n=[e];for(var s=!0,d=0;d<n.length;d++){var l=!0;(r=n[d])._timed=L.isOneDayEvent(r),(l=!t.limit_start||!t.limit_end||r.start_date.valueOf()>=t.limit_start.valueOf()&&r.end_date.valueOf()<=t.limit_end.valueOf())&&(l=!L.checkInMarkedTimespan(r,c,function(e,t,n,a,i){var r=!0;return t<=i&&a<=t&&((1440==i||n<i)&&(r=!1),e._timed&&o._drag_id&&"new-size"==o._drag_mode?(e.start_date.setHours(0),e.start_date.setMinutes(i)):r=!1),(a<=n&&n<i||t<a&&i<n)&&(e._timed&&o._drag_id&&"new-size"==o._drag_mode?(e.end_date.setHours(0),e.end_date.setMinutes(a)):r=!1),r})),l||(l=o.checkEvent("onLimitViolation")?o.callEvent("onLimitViolation",[r.id,r]):l),s=s&&l}return s||(o._drag_id=null,o._drag_mode=null),s};L._get_blocked_zones=function(e,t,n,a,i){var r=[];if(e&&e[t])for(var o=e[t],s=this._get_relevant_blocked_zones(n,a,o,i),d=0;d<s.length;d++)r=this._add_timespan_zones(r,s[d].zones);return r},L._get_relevant_blocked_zones=function(e,t,n,a){return n[t]&&n[t][a]?n[t][a]:n[e]&&n[e][a]?n[e][a]:[]},L.attachEvent("onMouseDown",function(e){return!(e==c)}),L.attachEvent("onBeforeDrag",function(e){return!e||o(L.getEvent(e))}),L.attachEvent("onClick",function(e){return o(L.getEvent(e))}),L.attachEvent("onBeforeLightbox",function(e){var t=L.getEvent(e);return n=[t.start_date,t.end_date],o(t)}),L.attachEvent("onEventSave",function(e,t){if(!t.start_date||!t.end_date){var n=L.getEvent(e);t.start_date=new Date(n.start_date),t.end_date=new Date(n.end_date)}if(t.rec_type){var a=L._lame_clone(t);return L._roll_back_dates(a),o(a)}return o(t)}),L.attachEvent("onEventAdded",function(e){if(!e)return!0;var t=L.getEvent(e);return!o(t)&&L.config.limit_start&&L.config.limit_end&&(t.start_date<L.config.limit_start&&(t.start_date=new Date(L.config.limit_start)),t.start_date.valueOf()>=L.config.limit_end.valueOf()&&(t.start_date=this.date.add(L.config.limit_end,-1,"day")),t.end_date<L.config.limit_start&&(t.end_date=new Date(L.config.limit_start)),t.end_date.valueOf()>=L.config.limit_end.valueOf()&&(t.end_date=this.date.add(L.config.limit_end,-1,"day")),t.start_date.valueOf()>=t.end_date.valueOf()&&(t.end_date=this.date.add(t.start_date,this.config.event_duration||this.config.time_step,"minute")),t._timed=this.isOneDayEvent(t)),!0}),L.attachEvent("onEventChanged",function(e){if(!e)return!0;var t=L.getEvent(e);if(!o(t)){if(!n)return!1;t.start_date=n[0],t.end_date=n[1],t._timed=this.isOneDayEvent(t)}return!0}),L.attachEvent("onBeforeEventChanged",function(e){return o(e)}),L.attachEvent("onBeforeEventCreated",function(e){var t=L.getActionData(e).date,n={_timed:!0,start_date:t,end_date:L.date.add(t,L.config.time_step,"minute")};return o(n)}),L.attachEvent("onViewChange",function(){L._mark_now()}),L.attachEvent("onAfterSchedulerResize",function(){return window.setTimeout(function(){L._mark_now()},1),!0}),L.attachEvent("onTemplatesReady",function(){L._mark_now_timer=window.setInterval(function(){L._is_initialized()&&L._mark_now()},6e4)}),L._mark_now=function(e){var t="dhx_now_time";this._els[t]||(this._els[t]=[]);var n=L._currentDate(),a=this.config;if(L._remove_mark_now(),!e&&a.mark_now&&n<this._max_date&&n>this._min_date&&n.getHours()>=a.first_hour&&n.getHours()<a.last_hour){var i=this.locate_holder_day(n);this._els[t]=L._append_mark_now(i,n)}},L._append_mark_now=function(e,t){var n="dhx_now_time",a=L._get_zone_minutes(t),i={zones:[a,a+1],css:n,type:n};if(!this._table_view){if(this._props&&this._props[this._mode]){var r,o,s=this._props[this._mode],d=s.size||s.options.length;1<s.days?(s.size&&s.options.length&&(e=(s.position+e)/s.options.length*s.size),o=(r=e)+d):o=(r=0)+d;for(var l=[],c=r;c<o;c++){var u=c;i.days=u;var _=L._render_marked_timespan(i,null,u)[0];l.push(_)}return l}return i.days=e,L._render_marked_timespan(i,null,e)}if("month"==this._mode)return i.days=+L.date.date_part(t),L._render_marked_timespan(i,null,null)},L._remove_mark_now=function(){for(var e="dhx_now_time",t=this._els[e],n=0;n<t.length;n++){var a=t[n],i=a.parentNode;i&&i.removeChild(a)}this._els[e]=[]},L._marked_timespans={global:{}},L._get_zone_minutes=function(e){return 60*e.getHours()+e.getMinutes()},L._prepare_timespan_options=function(e){var t=[],n=[];if("fullweek"==e.days&&(e.days=[0,1,2,3,4,5,6]),e.days instanceof Array){for(var a=e.days.slice(),i=0;i<a.length;i++){var r=L._lame_clone(e);r.days=a[i],t.push.apply(t,L._prepare_timespan_options(r))}return t}if(!e||!(e.start_date&&e.end_date&&e.end_date>e.start_date||void 0!==e.days&&e.zones)&&!e.type)return t;var o=0,s=1440;"fullday"==e.zones&&(e.zones=[o,s]),e.zones&&e.invert_zones&&(e.zones=L.invertZones(e.zones)),e.id=L.uid(),e.css=e.css||"",e.type=e.type||b;var d=e.sections;if(d){for(var l in d)if(d.hasOwnProperty(l)){var c=d[l];c instanceof Array||(c=[c]);for(i=0;i<c.length;i++){(g=L._lame_copy({},e)).sections={},g.sections[l]=c[i],n.push(g)}}}else n.push(e);for(var u=0;u<n.length;u++){var _=n[u],h=_.start_date,f=_.end_date;if(h&&f)for(var p=L.date.date_part(new Date(h)),m=L.date.add(p,1,"day");p<f;){var g;delete(g=L._lame_copy({},_)).start_date,delete g.end_date,g.days=p.valueOf();var v=p<h?L._get_zone_minutes(h):o,y=m<f||f.getDate()!=p.getDate()?s:L._get_zone_minutes(f);g.zones=[v,y],t.push(g),p=m,m=L.date.add(m,1,"day")}else _.days instanceof Date&&(_.days=L.date.date_part(_.days).valueOf()),_.zones=e.zones.slice(),t.push(_)}return t},L._get_dates_by_index=function(e,t,n){var a=[];t=L.date.date_part(new Date(t||L._min_date)),n=new Date(n||L._max_date);for(var i=t.getDay(),r=0<=e-i?e-i:7-t.getDay()+e,o=L.date.add(t,r,"day");o<n;o=L.date.add(o,1,"week"))a.push(o);return a},L._get_css_classes_by_config=function(e){var t=[];return e.type==c&&(t.push(c),e.css&&t.push(c+"_reset")),t.push("dhx_marked_timespan",e.css),t.join(" ")},L._get_block_by_config=function(e){var t=document.createElement("div");return e.html&&("string"==typeof e.html?t.innerHTML=e.html:t.appendChild(e.html)),t},L._render_marked_timespan=function(e,t,n){var a=[],i=L.config,r=this._min_date,o=this._max_date,s=!1;if(!i.display_marked_timespans)return a;if(!n&&0!==n){if(e.days<7)n=e.days;else{var d=new Date(e.days);if(!((s=+d)<+o&&+r<=+d))return a;n=d.getDay()}var l=r.getDay();n<l?n=7-(l-n):n-=l}var c=e.zones,u=L._get_css_classes_by_config(e);if(L._table_view&&"month"==L._mode){var _=[],h=[];if(t)_.push(t),h.push(n);else{h=s?[s]:L._get_dates_by_index(n);for(var f=0;f<h.length;f++)_.push(this._scales[h[f]])}for(f=0;f<_.length;f++){t=_[f],n=h[f];var p=Math.floor((this._correct_shift(n,1)-r.valueOf())/(864e5*this._cols.length)),m=this.locate_holder_day(n,!1)%this._cols.length;if(!this._ignores[m]){var g=this.config.rtl?this._colsS.col_length-1-m:m,v=L._get_block_by_config(e),y=Math.max(t.offsetHeight-1,0),b=Math.max(t.offsetWidth-1,0),x=this._colsS[g],w=this._colsS.heights[p]+(this._colsS.height?this.xy.month_scale_height+2:2)-1;v.className=u,v.style.top=w+"px",v.style.lineHeight=v.style.height=y+"px";for(var k=0;k<c.length;k+=2){var E=c[f];if((C=c[f+1])<=E)return[];(A=v.cloneNode(!0)).style.left=x+Math.round(E/1440*b)+"px",A.style.width=Math.round((C-E)/1440*b)+"px",t.appendChild(A),a.push(A)}}}}else{var S=n;if(this._ignores[this.locate_holder_day(n,!1)])return a;if(this._props&&this._props[this._mode]&&e.sections&&e.sections[this._mode]){var D=this._props[this._mode];S=D.order[e.sections[this._mode]];var N=D.order[e.sections[this._mode]];1<D.days?S=S*(D.size||D.options.length)+N:(S=N,D.size&&S>D.position+D.size&&(S=0))}t=t||L.locate_holder(S);for(f=0;f<c.length;f+=2){var C,A;E=Math.max(c[f],60*i.first_hour);if((C=Math.min(c[f+1],60*i.last_hour))<=E){if(f+2<c.length)continue;return[]}(A=L._get_block_by_config(e)).className=u;var T=24*this.config.hour_size_px+1,M=36e5;A.style.top=Math.round((60*E*1e3-this.config.first_hour*M)*this.config.hour_size_px/M)%T+"px",A.style.lineHeight=A.style.height=Math.max(Math.round(60*(C-E)*1e3*this.config.hour_size_px/M)%T,1)+"px",t.appendChild(A),a.push(A)}}return a},L._mark_timespans=function(){var e=this._els.dhx_cal_data[0],t=[];if(L._table_view&&"month"==L._mode)for(var n in this._scales){var a=new Date(+n);t.push.apply(t,L._on_scale_add_marker(this._scales[n],a))}else{a=new Date(L._min_date);for(var i=0,r=e.childNodes.length;i<r;i++){var o=e.childNodes[i];o.firstChild&&-1<L._getClassName(o.firstChild).indexOf("dhx_scale_hour")||(t.push.apply(t,L._on_scale_add_marker(o,a)),a=L.date.add(a,1,"day"))}}return t},L.markTimespan=function(e){var t=!1;this._els.dhx_cal_data||(L.get_elements(),t=!0);var n=L._marked_timespans_ids,a=L._marked_timespans_types,i=L._marked_timespans;L.deleteMarkedTimespan(),L.addMarkedTimespan(e);var r=L._mark_timespans();return t&&(L._els=[]),L._marked_timespans_ids=n,L._marked_timespans_types=a,L._marked_timespans=i,r},L.unmarkTimespan=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];n.parentNode&&n.parentNode.removeChild(n)}},L._addMarkerTimespanConfig=function(e){var t="global",n=L._marked_timespans,a=e.id,i=L._marked_timespans_ids;i[a]||(i[a]=[]);var r=e.days,o=e.sections,s=e.type;if(e.id=a,o){for(var d in o)if(o.hasOwnProperty(d)){n[d]||(n[d]={});var l=o[d],c=n[d];c[l]||(c[l]={}),c[l][r]||(c[l][r]={}),c[l][r][s]||(c[l][r][s]=[],L._marked_timespans_types||(L._marked_timespans_types={}),L._marked_timespans_types[s]||(L._marked_timespans_types[s]=!0));var u=c[l][r][s];(e._array=u).push(e),i[a].push(e)}}else{n[t][r]||(n[t][r]={}),n[t][r][s]||(n[t][r][s]=[]),L._marked_timespans_types||(L._marked_timespans_types={}),L._marked_timespans_types[s]||(L._marked_timespans_types[s]=!0);u=n[t][r][s];(e._array=u).push(e),i[a].push(e)}},L._marked_timespans_ids={},L.addMarkedTimespan=function(e){var t=L._prepare_timespan_options(e);if(t.length){for(var n=t[0].id,a=0;a<t.length;a++)L._addMarkerTimespanConfig(t[a]);return n}},L._add_timespan_zones=function(e,t){var n=e.slice();if(t=t.slice(),!n.length)return t;for(var a=0;a<n.length;a+=2)for(var i=n[a],r=n[a+1],o=a+2==n.length,s=0;s<t.length;s+=2){var d=t[s],l=t[s+1];if(r<l&&d<=r||d<i&&i<=l)n[a]=Math.min(i,d),n[a+1]=Math.max(r,l),a-=2;else{if(!o)continue;var c=d<i?0:2;n.splice(a+c,0,d,l)}t.splice(s--,2);break}return n},L._subtract_timespan_zones=function(e,t){for(var n=e.slice(),a=0;a<n.length;a+=2)for(var i=n[a],r=n[a+1],o=0;o<t.length;o+=2){var s=t[o],d=t[o+1];if(i<d&&s<r){var l=!1;s<=i&&r<=d&&n.splice(a,2),i<s&&(n.splice(a,2,i,s),l=!0),d<r&&n.splice(l?a+2:a,l?0:2,d,r),a-=2;break}}return n},L.invertZones=function(e){return L._subtract_timespan_zones([0,1440],e.slice())},L._delete_marked_timespan_by_id=function(e){var t=L._marked_timespans_ids[e];if(t)for(var n=0;n<t.length;n++)for(var a=t[n],i=a._array,r=0;r<i.length;r++)if(i[r]==a){i.splice(r,1);break}},L._delete_marked_timespan_by_config=function(e){var t,n=L._marked_timespans,a=e.sections,i=e.days,r=e.type||b;if(a){for(var o in a)if(a.hasOwnProperty(o)&&n[o]){var s=a[o];n[o][s]&&(t=n[o][s])}}else t=n.global;if(t)if(void 0!==i)t[i]&&t[i][r]&&(L._addMarkerTimespanConfig(e),L._delete_marked_timespans_list(t[i][r],e));else for(var d in t)if(t[d][r]){var l=L._lame_clone(e);e.days=d,L._addMarkerTimespanConfig(l),L._delete_marked_timespans_list(t[d][r],e)}},L._delete_marked_timespans_list=function(e,t){for(var n=0;n<e.length;n++){var a=e[n],i=L._subtract_timespan_zones(a.zones,t.zones);if(i.length)a.zones=i;else{e.splice(n,1),n--;for(var r=L._marked_timespans_ids[a.id],o=0;o<r.length;o++)if(r[o]==a){r.splice(o,1);break}}}},L.deleteMarkedTimespan=function(e){if(arguments.length||(L._marked_timespans={global:{}},L._marked_timespans_ids={},L._marked_timespans_types={}),"object"!=typeof e)L._delete_marked_timespan_by_id(e);else{e.start_date&&e.end_date||(void 0!==e.days||e.type||(e.days="fullweek"),e.zones||(e.zones="fullday"));var t=[];if(e.type)t.push(e.type);else for(var n in L._marked_timespans_types)t.push(n);for(var a=L._prepare_timespan_options(e),i=0;i<a.length;i++)for(var r=a[i],o=0;o<t.length;o++){var s=L._lame_clone(r);s.type=t[o],L._delete_marked_timespan_by_config(s)}}},L._get_types_to_render=function(e,t){var n=e?L._lame_copy({},e):{};for(var a in t||{})t.hasOwnProperty(a)&&(n[a]=t[a]);return n},L._get_configs_to_render=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push.apply(t,e[n]);return t},L._on_scale_add_marker=function(e,t){if(!L._table_view||"month"==L._mode){var n=t.getDay(),a=t.valueOf(),i=this._mode,r=L._marked_timespans,o=[],s=[];if(this._props&&this._props[i]){var d=this._props[i],l=d.options,c=l[L._get_unit_index(d,t)];if(1<d.days){var u=864e5,_=Math.round((t-L._min_date)/u),h=d.size||l.length;t=L.date.add(L._min_date,Math.floor(_/h),"day"),t=L.date.date_part(t)}else t=L.date.date_part(new Date(this._date));if(n=t.getDay(),a=t.valueOf(),r[i]&&r[i][c.key]){var f=r[i][c.key],p=L._get_types_to_render(f[n],f[a]);o.push.apply(o,L._get_configs_to_render(p))}}var m=r.global,g=m[a]||m[n];o.push.apply(o,L._get_configs_to_render(g));for(var v=0;v<o.length;v++)s.push.apply(s,L._render_marked_timespan(o[v],e,t));return s}},L.attachEvent("onScaleAdd",function(){L._on_scale_add_marker.apply(L,arguments)}),L.dblclick_dhx_marked_timespan=function(e,t){L.callEvent("onScaleDblClick",[L.getActionData(e).date,t,e]),L.config.dblclick_create&&L.addEventNow(L.getActionData(e).date,null,e)}},L._temp_limit_scope()}),Scheduler.plugin(function(f){f.xy.map_date_width=188,f.xy.map_icon_width=25,f.xy.map_description_width=400,f.config.map_resolve_event_location=!0,f.config.map_resolve_user_location=!0,f.config.map_initial_position=new google.maps.LatLng(48.724,8.215),f.config.map_error_position=new google.maps.LatLng(15,15),f.config.map_infowindow_max_width=300,f.config.map_type=google.maps.MapTypeId.ROADMAP,f.config.map_zoom_after_resolve=15,f.locale.labels.marker_geo_success="It seems you are here.",f.locale.labels.marker_geo_fail="Sorry, could not get your current position using geolocation.",f.templates.marker_date=f.date.date_to_str("%Y-%m-%d %H:%i"),f.templates.marker_text=function(e,t,n){return"<div><b>"+n.text+"</b><br/><br/>"+(n.event_location||"")+"<br/><br/>"+f.templates.marker_date(e)+" - "+f.templates.marker_date(t)+"</div>"},f.dblclick_dhx_map_area=function(){!this.config.readonly&&this.config.dblclick_create&&this.addEventNow({start_date:f._date,end_date:f.date.add(f._date,f.config.time_step,"minute")})},f.templates.map_time=function(e,t,n){return f.config.rtl&&!n._timed?f.templates.day_date(t)+" &ndash; "+f.templates.day_date(e):n._timed?this.day_date(n.start_date,n.end_date,n)+" "+this.event_date(e):f.templates.day_date(e)+" &ndash; "+f.templates.day_date(t)},f.templates.map_text=function(e,t,n){return n.text},f.date.map_start=function(e){return e},f.date.add_map=function(e){return new Date(e.valueOf())},f.templates.map_date=function(){return""},f._latLngUpdate=!1,f.attachEvent("onSchedulerReady",function(){function r(e){if(e){var t=f.locale.labels;f._els.dhx_cal_header[0].innerHTML="<div class='dhx_map_line' style='width: "+(f.xy.map_date_width+f.xy.map_description_width+2)+"px;' ><div class='headline_date' style='width: "+f.xy.map_date_width+"px;'>"+t.date+"</div><div class='headline_description' style='width: "+f.xy.map_description_width+"px;'>"+t.description+"</div></div>",f._table_view=!0,f.set_sizes()}}function o(){f._selected_event_id=null,f.map._infowindow.close();var e=f.map._markers;for(var t in e)e.hasOwnProperty(t)&&(e[t].setMap(null),delete f.map._markers[t],f.map._infowindows_content[t]&&delete f.map._infowindows_content[t])}function s(){var e=f.get_visible_events();e.sort(function(e,t){return e.start_date.valueOf()==t.start_date.valueOf()?e.id>t.id?1:-1:e.start_date>t.start_date?1:-1});for(var t="<div "+(s=f._waiAria.mapAttrString())+" class='dhx_map_area'>",n=0;n<e.length;n++){var a=e[n],i=a.id==f._selected_event_id?"dhx_map_line highlight":"dhx_map_line",r=a.color?"background:"+a.color+";":"",o=a.textColor?"color:"+a.textColor+";":"",s=f._waiAria.mapRowAttrString(a),d=f._waiAria.mapDetailsBtnString();t+="<div "+s+" class='"+i+"' event_id='"+a.id+"' style='"+r+o+(a._text_style||"")+" width: "+(f.xy.map_date_width+f.xy.map_description_width+2)+"px;'><div class='dhx_map_event_time' style='width: "+f.xy.map_date_width+"px;' >"+f.templates.map_time(a.start_date,a.end_date,a)+"</div>",t+="<div "+d+" class='dhx_event_icon icon_details'>&nbsp;</div>",t+="<div class='line_description' style='width:"+(f.xy.map_description_width-f.xy.map_icon_width)+"px;'>"+f.templates.map_text(a.start_date,a.end_date,a)+"</div></div>"}t+="<div class='dhx_v_border' style="+(f.config.rtl?"'right: ":"'left: ")+(f.xy.map_date_width-2)+"px;'></div><div class='dhx_v_border_description'></div></div>",f._els.dhx_cal_data[0].scrollTop=0,f._els.dhx_cal_data[0].innerHTML=t,f._els.dhx_cal_data[0].style.width=f.xy.map_date_width+f.xy.map_description_width+1+"px";var l=f._els.dhx_cal_data[0].firstChild.childNodes,c=f._getNavDateElement();c&&(c.innerHTML=f.templates[f._mode+"_date"](f._min_date,f._max_date,f._mode)),f._rendered=[];for(n=0;n<l.length-2;n++)f._rendered[n]=l[n]}function d(e){var t=document.getElementById(e),n=f._y-f.xy.nav_height;n<0&&(n=0);var a=f._x-f.xy.map_date_width-f.xy.map_description_width-1;a<0&&(a=0),t.style.height=n+"px",t.style.width=a+"px",f.config.rtl?t.style.marginRight=f.xy.map_date_width+f.xy.map_description_width+1+"px":t.style.marginLeft=f.xy.map_date_width+f.xy.map_description_width+1+"px",t.style.marginTop=f.xy.nav_height+2+"px"}f._isMapPositionSet=!1;var e=document.createElement("div");e.className="dhx_map",e.id="dhx_gmap",e.style.dispay="none",f._obj.appendChild(e),f._els.dhx_gmap=[],f._els.dhx_gmap.push(e),d("dhx_gmap");var t={zoom:f.config.map_inital_zoom||10,center:f.config.map_initial_position,mapTypeId:f.config.map_type||google.maps.MapTypeId.ROADMAP},n=new google.maps.Map(document.getElementById("dhx_gmap"),t);n.disableDefaultUI=!1,n.disableDoubleClickZoom=!f.config.readonly,google.maps.event.addListener(n,"dblclick",function(e){if(!f.config.readonly&&f.config.dblclick_create){var n=e.latLng;geocoder.geocode({latLng:n},function(e,t){t==google.maps.GeocoderStatus.OK&&(n=e[0].geometry.location,f.addEventNow({lat:n.lat(),lng:n.lng(),event_location:e[0].formatted_address,start_date:f._date,end_date:f.date.add(f._date,f.config.time_step,"minute")}))})}});var a={content:""};f.config.map_infowindow_max_width&&(a.maxWidth=f.config.map_infowindow_max_width),f.map={_points:[],_markers:[],_infowindow:new google.maps.InfoWindow(a),_infowindows_content:[],_initialization_count:-1,_obj:n},geocoder=new google.maps.Geocoder,f.config.map_resolve_user_location&&navigator.geolocation&&(f._isMapPositionSet||navigator.geolocation.getCurrentPosition(function(e){var t=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);n.setCenter(t),n.setZoom(f.config.map_zoom_after_resolve||10),f.map._infowindow.setContent(f.locale.labels.marker_geo_success),f.map._infowindow.position=n.getCenter(),f.map._infowindow.open(n),f._isMapPositionSet=!0},function(){f.map._infowindow.setContent(f.locale.labels.marker_geo_fail),f.map._infowindow.setPosition(n.getCenter()),f.map._infowindow.open(n),f._isMapPositionSet=!0})),google.maps.event.addListener(n,"resize",function(){e.style.zIndex="5",n.setZoom(n.getZoom())}),google.maps.event.addListener(n,"tilesloaded",function(){e.style.zIndex="5"}),e.style.display="none";var i=f.render_data;f.render_data=function(e,t){if("map"!=this._mode)return i.apply(this,arguments);s();for(var n=f.get_visible_events(),a=0;a<n.length;a++)f.map._markers[n[a].id]||c(n[a],!1,!1)},f.map_view=function(e){f.map._initialization_count++;var t,n=f._els.dhx_gmap[0];if(f._els.dhx_cal_data[0].style.width=f.xy.map_date_width+f.xy.map_description_width+1+"px",f._min_date=f.config.map_start||f._currentDate(),f._max_date=f.config.map_end||f.date.add(f._currentDate(),1,"year"),f._table_view=!0,r(e),e){o(),s(),n.style.display="block",d("dhx_gmap"),t=f.map._obj.getCenter();for(var a=f.get_visible_events(),i=0;i<a.length;i++)f.map._markers[a[i].id]||c(a[i])}else n.style.display="none";google.maps.event.trigger(f.map._obj,"resize"),0===f.map._initialization_count&&t&&f.map._obj.setCenter(t),f._selected_event_id&&l(f._selected_event_id)};var l=function(e){f.map._obj.setCenter(f.map._points[e]),f.callEvent("onClick",[e])},c=function(e,t,n){var a=f.config.map_error_position;e.lat&&e.lng&&(a=new google.maps.LatLng(e.lat,e.lng));var i=f.templates.marker_text(e.start_date,e.end_date,e);f._new_event||(f.map._infowindows_content[e.id]=i,f.map._markers[e.id]&&f.map._markers[e.id].setMap(null),f.map._markers[e.id]=new google.maps.Marker({position:a,map:f.map._obj}),google.maps.event.addListener(f.map._markers[e.id],"click",function(){f.map._infowindow.setContent(f.map._infowindows_content[e.id]),f.map._infowindow.open(f.map._obj,f.map._markers[e.id]),f._selected_event_id=e.id,f.render_data()}),f.map._points[e.id]=a,t&&f.map._obj.setCenter(f.map._points[e.id]),n&&f.callEvent("onClick",[e.id]))};f.attachEvent("onClick",function(e){if("map"==this._mode){f._selected_event_id=e;for(var t=0;t<f._rendered.length;t++)f._rendered[t].className="dhx_map_line",f._rendered[t].getAttribute("event_id")==e&&(f._rendered[t].className+=" highlight");f.map._points[e]&&f.map._markers[e]&&(f.map._obj.setCenter(f.map._points[e]),google.maps.event.trigger(f.map._markers[e],"click"))}return!0});var u=function(a){a.event_location&&geocoder?geocoder.geocode({address:a.event_location,language:f.uid().toString()},function(e,t){var n={};t!=google.maps.GeocoderStatus.OK?(n=f.callEvent("onLocationError",[a.id]))&&!0!==n||(n=f.config.map_error_position):n=e[0].geometry.location,a.lat=n.lat(),a.lng=n.lng(),f._selected_event_id=a.id,f._latLngUpdate=!0,f.callEvent("onEventChanged",[a.id,a]),c(a,!0,!0)}):c(a,!0,!0)},_=function(a){a.event_location&&geocoder&&geocoder.geocode({address:a.event_location,language:f.uid().toString()},function(e,t){var n={};t!=google.maps.GeocoderStatus.OK?(n=f.callEvent("onLocationError",[a.id]))&&!0!==n||(n=f.config.map_error_position):n=e[0].geometry.location,a.lat=n.lat(),a.lng=n.lng(),f._latLngUpdate=!0,f.callEvent("onEventChanged",[a.id,a])})},h=function(t,n,a,e){setTimeout(function(){var e=t.apply(n,a);return t=n=a=null,e},e||1)};f.attachEvent("onEventChanged",function(e){if(this._latLngUpdate)this._latLngUpdate=!1;else{var t=f.getEvent(e);t.start_date<f._min_date&&t.end_date>f._min_date||t.start_date<f._max_date&&t.end_date>f._max_date||t.start_date.valueOf()>=f._min_date&&t.end_date.valueOf()<=f._max_date?(f.map._markers[e]&&f.map._markers[e].setMap(null),u(t)):(f._selected_event_id=null,f.map._infowindow.close(),f.map._markers[e]&&f.map._markers[e].setMap(null))}return!0}),f.attachEvent("onEventIdChange",function(e,t){var n=f.getEvent(t);return(n.start_date<f._min_date&&n.end_date>f._min_date||n.start_date<f._max_date&&n.end_date>f._max_date||n.start_date.valueOf()>=f._min_date&&n.end_date.valueOf()<=f._max_date)&&(f.map._markers[e]&&(f.map._markers[e].setMap(null),delete f.map._markers[e]),f.map._infowindows_content[e]&&delete f.map._infowindows_content[e],u(n)),!0}),f.attachEvent("onEventAdded",function(e,t){return f._dataprocessor||(t.start_date<f._min_date&&t.end_date>f._min_date||t.start_date<f._max_date&&t.end_date>f._max_date||t.start_date.valueOf()>=f._min_date&&t.end_date.valueOf()<=f._max_date)&&(f.map._markers[e]&&f.map._markers[e].setMap(null),u(t)),!0}),f.attachEvent("onBeforeEventDelete",function(e){return f.map._markers[e]&&f.map._markers[e].setMap(null),f._selected_event_id=null,f.map._infowindow.close(),!0}),f._event_resolve_delay=1500,f.attachEvent("onEventLoading",function(e){return f.config.map_resolve_event_location&&e.event_location&&!e.lat&&!e.lng&&(f._event_resolve_delay+=1500,h(_,this,[e],f._event_resolve_delay)),!0}),f.attachEvent("onEventCancel",function(e,t){return t&&(f.map._markers[e]&&f.map._markers[e].setMap(null),f.map._infowindow.close()),!0})})}),Scheduler.plugin(function(L){L.templates.calendar_month=L.date.date_to_str("%F %Y"),L.templates.calendar_scale_date=L.date.date_to_str("%D"),L.templates.calendar_date=L.date.date_to_str("%d"),L.config.minicalendar={mark_events:!0},L._synced_minicalendars=[],L.renderCalendar=function(e,t,n){var a=null,i=e.date||L._currentDate();if("string"==typeof i&&(i=this.templates.api_date(i)),t)a=this._render_calendar(t.parentNode,i,e,t),L.unmarkCalendar(a);else{var r=e.container,o=e.position;if("string"==typeof r&&(r=document.getElementById(r)),"string"==typeof o&&(o=document.getElementById(o)),o&&void 0===o.left){var s=L.$domHelpers.getOffset(o);o={top:s.top+o.offsetHeight,left:s.left}}r||(r=L._get_def_cont(o)),(a=this._render_calendar(r,i,e)).onclick=function(e){var t=(e=e||event).target||e.srcElement,n=L.$domHelpers;if(n.closest(t,".dhx_month_head")&&!n.closest(t,".dhx_after")&&!n.closest(t,".dhx_before")){var a=n.closest(t,"[data-cell-date]").getAttribute("data-cell-date"),i=L.templates.parse_date(a);L.unmarkCalendar(this),L.markCalendar(this,i,"dhx_calendar_click"),this._last_date=i,this.conf.handler&&this.conf.handler.call(L,i,this)}}}if(L.config.minicalendar.mark_events)for(var d=L.date.month_start(i),l=L.date.add(d,1,"month"),c=this.getEvents(d,l),u=this["filter_"+this._mode],_={},h=0;h<c.length;h++){var f=c[h];if(!u||u(f.id,f)){var p=f.start_date;for(p.valueOf()<d.valueOf()&&(p=d),p=L.date.date_part(new Date(p.valueOf()));p<f.end_date&&(_[+p]||(_[+p]=!0,this.markCalendar(a,p,"dhx_year_event")),!((p=this.date.add(p,1,"day")).valueOf()>=l.valueOf())););}}return this._markCalendarCurrentDate(a),(a.conf=e).sync&&!n&&this._synced_minicalendars.push(a),a.conf._on_xle_handler||(a.conf._on_xle_handler=L.attachEvent("onXLE",function(){L.updateCalendar(a,a.conf.date)})),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&a.setAttribute("role","application"),a},L._get_def_cont=function(e){return this._def_count||(this._def_count=document.createElement("div"),this._def_count.className="dhx_minical_popup",this._def_count.onclick=function(e){(e||event).cancelBubble=!0},document.body.appendChild(this._def_count)),this._def_count.style.left=e.left+"px",this._def_count.style.top=e.top+"px",this._def_count._created=new Date,this._def_count},L._locateCalendar=function(e,t){if("string"==typeof t&&(t=L.templates.api_date(t)),+t>+e._max_date||+t<+e._min_date)return null;for(var n=e.querySelector(".dhx_year_body").childNodes[0],a=0,i=new Date(e._min_date);+this.date.add(i,1,"week")<=+t;)i=this.date.add(i,1,"week"),a++;var r=L.config.start_on_monday,o=(t.getDay()||(r?7:0))-(r?1:0);return n.rows[a].cells[o].firstChild},L.markCalendar=function(e,t,n){var a=this._locateCalendar(e,t);a&&(a.className+=" "+n)},L.unmarkCalendar=function(e,t,n){if(n=n||"dhx_calendar_click",t=t||e._last_date){var a=this._locateCalendar(e,t);a&&(a.className=(a.className||"").replace(RegExp(n,"g")))}},L._week_template=function(e){for(var t=e||250,n=0,a=document.createElement("div"),i=this.date.week_start(L._currentDate()),r=0;r<7;r++)this._cols[r]=Math.floor(t/(7-r)),this._render_x_header(r,n,i,a),i=this.date.add(i,1,"day"),t-=this._cols[r],n+=this._cols[r];return a.lastChild.className+=" dhx_scale_bar_last",a},L.updateCalendar=function(e,t){e.conf.date=t,this.renderCalendar(e.conf,e,!0)},L._mini_cal_arrows=["&nbsp;","&nbsp;"],L._render_calendar=function(e,t,a,n){var i=L.templates,r=this._cols;this._cols=[];var o=this._mode;this._mode="calendar";var s=this._colsS;this._colsS={height:0};var d=new Date(this._min_date),l=new Date(this._max_date),c=new Date(L._date),u=i.month_day,_=this._ignores_detected;this._ignores_detected=0,i.month_day=i.calendar_date,t=this.date.month_start(t);var h,f=this._week_template(e.offsetWidth-1-this.config.minicalendar.padding);n?h=n:(h=document.createElement("div")).className="dhx_cal_container dhx_mini_calendar",h.setAttribute("date",this._helpers.formatDate(t)),h.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid"+(L.config.rtl?" dhx_grid_rtl'>":"'>")+"<div class='dhx_year_week'>"+(f?f.innerHTML:"")+"</div><div class='dhx_year_body'></div></div>";var p=h.querySelector(".dhx_year_month"),m=h.querySelector(".dhx_year_week"),g=h.querySelector(".dhx_year_body");if(p.innerHTML=this.templates.calendar_month(t),a.navigation)for(var v=function(e,t){var n=L.date.add(e._date,t,"month");L.updateCalendar(e,n),L._date.getMonth()==e._date.getMonth()&&L._date.getFullYear()==e._date.getFullYear()&&L._markCalendarCurrentDate(e)},y=["dhx_cal_prev_button","dhx_cal_next_button"],b=["left:1px;top:2px;position:absolute;","left:auto; right:1px;top:2px;position:absolute;"],x=[-1,1],w=function(n){return function(){if(a.sync)for(var e=L._synced_minicalendars,t=0;t<e.length;t++)v(e[t],n);else L.config.rtl&&(n=-n),v(h,n)}},k=[L.locale.labels.prev,L.locale.labels.next],E=0;E<2;E++){var S=document.createElement("div");S.className=y[E],L._waiAria.headerButtonsAttributes(S,k[E]),S.style.cssText=b[E],S.innerHTML=this._mini_cal_arrows[E],p.appendChild(S),S.onclick=w(x[E])}h._date=new Date(t),h.week_start=(t.getDay()-(this.config.start_on_monday?1:0)+7)%7;var D=h._min_date=this.date.week_start(t);h._max_date=this.date.add(h._min_date,6,"week"),this._reset_month_scale(g,t,D,6),n||e.appendChild(h),m.style.height=m.childNodes[0].offsetHeight-1+"px";var N=L.uid();L._waiAria.minicalHeader(p,N),L._waiAria.minicalGrid(h.querySelector(".dhx_year_grid"),N),L._waiAria.minicalRow(m);for(var C=m.querySelectorAll(".dhx_scale_bar"),A=0;A<C.length;A++)L._waiAria.minicalHeadCell(C[A]);var T=g.querySelectorAll("td"),M=new Date(D);for(A=0;A<T.length;A++)L._waiAria.minicalDayCell(T[A],new Date(M)),M=L.date.add(M,1,"day");return L._waiAria.minicalHeader(p,N),this._cols=r,this._mode=o,this._colsS=s,this._min_date=d,this._max_date=l,L._date=c,i.month_day=u,this._ignores_detected=_,h},L.destroyCalendar=function(e,t){!e&&this._def_count&&this._def_count.firstChild&&(t||500<(new Date).valueOf()-this._def_count._created.valueOf())&&(e=this._def_count.firstChild),e&&(e.onclick=null,e.innerHTML="",e.parentNode&&e.parentNode.removeChild(e),this._def_count&&(this._def_count.style.top="-1000px"),e.conf&&e.conf._on_xle_handler&&L.detachEvent(e.conf._on_xle_handler))},L.isCalendarVisible=function(){return!!(this._def_count&&0<parseInt(this._def_count.style.top,10))&&this._def_count},L._attach_minical_events=function(){L.event(document.body,"click",function(){L.destroyCalendar()}),L._attach_minical_events=function(){}},L.attachEvent("onTemplatesReady",function(){L._attach_minical_events()}),L.templates.calendar_time=L.date.date_to_str("%d-%m-%Y"),L.form_blocks.calendar_time={render:function(e){var t="<input class='dhx_readonly' type='text' readonly='true'>",n=L.config,a=this.date.date_part(L._currentDate()),i=1440,r=0;n.limit_time_select&&(r=60*n.first_hour,i=60*n.last_hour+1),a.setHours(r/60),e._time_values=[],t+=" <select class='dhx_lightbox_time_select'>";for(var o=r;o<i;o+=1*this.config.time_step)t+="<option value='"+o+"'>"+this.templates.time_picker(a)+"</option>",e._time_values.push(o),a=this.date.add(a,this.config.time_step,"minute");return t+="</select>",L.config.full_day,"<div style='height:30px;padding-top:0; font-size:inherit;' class='dhx_section_time dhx_lightbox_minical'>"+t+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+t+"</div>"},set_value:function(a,e,i,s){function r(e,t,n){u(e,t,n),e.value=L.templates.calendar_time(t),e._date=L.date.date_part(new Date(t))}function t(e){for(var t=s._time_values,n=60*e.getHours()+e.getMinutes(),a=n,i=!1,r=0;r<t.length;r++){var o=t[r];if(o===n){i=!0;break}o<n&&(a=o)}return i||a?i?n:a:-1}var o,d,l=a.getElementsByTagName("input"),c=a.getElementsByTagName("select"),u=function(t,e,n){t.onclick=function(){L.destroyCalendar(null,!0),L.renderCalendar({position:t,date:new Date(this._date),navigation:!0,handler:function(e){t.value=L.templates.calendar_time(e),t._date=new Date(e),L.destroyCalendar(),L.config.event_duration&&L.config.auto_end_date&&0===n&&f()}})}}
;if(L.config.full_day){if(!a._full_day){var n="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+L.locale.labels.full_day+"&nbsp;</label></input>";L.config.wide_form||(n=a.previousSibling.innerHTML+n),a.previousSibling.innerHTML=n,a._full_day=!0}var _=a.previousSibling.getElementsByTagName("input")[0],h=0===L.date.time_part(i.start_date)&&0===L.date.time_part(i.end_date);_.checked=h,c[0].disabled=_.checked,c[1].disabled=_.checked,_.onclick=function(){if(!0===_.checked){var e={};L.form_blocks.calendar_time.get_value(a,e),o=L.date.date_part(e.start_date),(+(d=L.date.date_part(e.end_date))==+o||+o<=+d&&(0!==i.end_date.getHours()||0!==i.end_date.getMinutes()))&&(d=L.date.add(d,1,"day"))}var t=o||i.start_date,n=d||i.end_date;r(l[0],t),r(l[1],n),c[0].value=60*t.getHours()+t.getMinutes(),c[1].value=60*n.getHours()+n.getMinutes(),c[0].disabled=_.checked,c[1].disabled=_.checked}}if(L.config.event_duration&&L.config.auto_end_date){var f=function(){o=L.date.add(l[0]._date,c[0].value,"minute"),d=new Date(o.getTime()+60*L.config.event_duration*1e3),l[1].value=L.templates.calendar_time(d),l[1]._date=L.date.date_part(new Date(d)),c[1].value=60*d.getHours()+d.getMinutes()};c[0].onchange=f}r(l[0],i.start_date,0),r(l[1],i.end_date,1),u=function(){},c[0].value=t(i.start_date),c[1].value=t(i.end_date)},get_value:function(e,t){var n=e.getElementsByTagName("input"),a=e.getElementsByTagName("select");return t.start_date=L.date.add(n[0]._date,a[0].value,"minute"),t.end_date=L.date.add(n[1]._date,a[1].value,"minute"),t.end_date<=t.start_date&&(t.end_date=L.date.add(t.start_date,L.config.time_step,"minute")),{start_date:new Date(t.start_date),end_date:new Date(t.end_date)}},focus:function(){}},L.linkCalendar=function(n,a){var e=function(){var e=L._date,t=new Date(e.valueOf());return a&&(t=a(t)),t.setDate(1),L.updateCalendar(n,t),!0};L.attachEvent("onViewChange",e),L.attachEvent("onXLE",e),L.attachEvent("onEventAdded",e),L.attachEvent("onEventChanged",e),L.attachEvent("onEventDeleted",e),e()},L._markCalendarCurrentDate=function(e){var t=L.getState(),n=t.min_date,a=t.max_date,i=t.mode,r=L.date.month_start(new Date(e._date)),o=L.date.add(r,1,"month");if(!({month:!0,year:!0,agenda:!0,grid:!0}[i]||n.valueOf()<=r.valueOf()&&a.valueOf()>=o.valueOf()))for(var s=n;s.valueOf()<a.valueOf();)r.valueOf()<=s.valueOf()&&s<o&&L.markCalendar(e,s,"dhx_calendar_click"),s=L.date.add(s,1,"day")},L.attachEvent("onEventCancel",function(){L.destroyCalendar(null,!0)})}),Scheduler.plugin(function(o){o.attachEvent("onTemplatesReady",function(){o.xy.scroll_width=0;var n=o.render_view_data;o.render_view_data=function(){var e=this._els.dhx_cal_data[0];e.firstChild._h_fix=!0,n.apply(o,arguments);var t=parseInt(e.style.height);e.style.height="1px",e.style.height=e.scrollHeight+"px",this._obj.style.height=this._obj.clientHeight+e.scrollHeight-t+"px"};var r=o._reset_month_scale;o._reset_month_scale=function(e,t,n,a){var i={clientHeight:100};r.apply(o,[i,t,n,a]),e.innerHTML=i.innerHTML}})}),Scheduler.plugin(function(u){function _(e,t){for(var n=u.$ajax.xpath("//data/item",e.xmlDoc),a={},i=0;i<n.length;i++)a[n[i].getAttribute(t.map_to)]=!0;return a}function h(e){try{for(var t=JSON.parse(e.xmlDoc.responseText),n={},a=0;a<t.length;a++){var i=t[a];n[i.value||i.key||i.id]=!0}return n}catch(e){return null}}u.form_blocks.multiselect={render:function(e){var t="dhx_multi_select_control dhx_multi_select_"+e.name;e.vertical&&(t+=" dhx_multi_select_control_vertical");for(var n="<div class='"+t+"' style='overflow: auto; height: "+e.height+"px; position: relative;' >",a=0;a<e.options.length;a++)n+="<label><input type='checkbox' value='"+e.options[a].key+"'/>"+e.options[a].label+"</label>",e.vertical&&(n+="<br/>");return n+"</div>"},set_value:function(a,e,t,n){function i(e){for(var t=a.getElementsByTagName("input"),n=0;n<t.length;n++)t[n].checked=!!e[t[n].value]}for(var r=a.getElementsByTagName("input"),o=0;o<r.length;o++)r[o].checked=!1;var s={};if(t[n.map_to]){var d=(t[n.map_to]+"").split(n.delimiter||u.config.section_delimiter||",");for(o=0;o<d.length;o++)s[d[o]]=!0;i(s)}else{if(u._new_event||!n.script_url)return;var l=document.createElement("div");l.className="dhx_loading",l.style.cssText="position: absolute; top: 40%; left: 40%;",a.appendChild(l);var c=[n.script_url,-1==n.script_url.indexOf("?")?"?":"&","dhx_crosslink_"+n.map_to+"="+t.id+"&uid="+u.uid()].join("");u.$ajax.get(c,function(e){var t=h(e,n);t||(t=_(e,n)),i(t),a.removeChild(l)})}},get_value:function(e,t,n){for(var a=[],i=e.getElementsByTagName("input"),r=0;r<i.length;r++)i[r].checked&&a.push(i[r].value);return a.join(n.delimiter||u.config.section_delimiter||",")},focus:function(){}}}),Scheduler.plugin(function(e){!function(){function i(e){var t=function(){};return t.prototype=e,t}var r=e._load;e._load=function(e,t){if("object"==typeof(e=e||this._load_url))for(var n=i(this._loaded),a=0;a<e.length;a++)this._loaded=new n,r.call(this,e[a],t);else r.apply(this,arguments)}}()}),Scheduler.plugin(function(c){!function(){function o(e){var t={};for(var n in e)0!==n.indexOf("_")&&(t[n]=e[n]);return l.use_id||delete t.id,t}function s(){clearTimeout(e),e=setTimeout(function(){c.updateView()},1)}function t(e){e._loading=!0,e._not_render=!0,e.callEvent("onXLS",[])}function n(e){e._not_render=!1,e._render_wait&&e.render_view_data(),e._loading=!1,e.callEvent("onXLE",[])}function d(e){return l.use_id?e.id:e.cid}var e,l={use_id:!1};c.backbone=function(i,e){function a(){r.length&&(c.parse(r,"json"),r=[])}e&&(l=e),i.bind("change",function(e){var t=d(e),n=c._events[t]=e.toJSON();n.id=t,c._init_event(n),s()}),i.bind("remove",function(e){var t=d(e);c._events[t]&&c.deleteEvent(t)});var r=[];i.bind("add",function(e){var t=d(e);if(!c._events[t]){var n=e.toJSON();n.id=t,c._init_event(n),r.push(n),1==r.length&&setTimeout(a,1)}}),i.bind("request",function(e){e instanceof Backbone.Collection&&t(c)}),i.bind("sync",function(e){e instanceof Backbone.Collection&&n(c)}),i.bind("error",function(e){e instanceof Backbone.Collection&&n(c)}),c.attachEvent("onEventCreated",function(e){var t=new i.model(c.getEvent(e));return c._events[e]=t.toJSON(),c._events[e].id=e,!0}),c.attachEvent("onEventAdded",function(e){if(!i.get(e)){var t=o(c.getEvent(e)),n=new i.model(t),a=d(n);a!=e&&this.changeEventId(e,a),i.add(n),i.trigger("scheduler:add",n)}return!0}),c.attachEvent("onEventChanged",function(e){var t=i.get(e),n=o(c.getEvent(e));return t.set(n),i.trigger("scheduler:change",t),!0}),c.attachEvent("onEventDeleted",function(e){var t=i.get(e);return t&&(i.trigger("scheduler:remove",t),i.remove(e)),!0})}}()}),Scheduler.plugin(function(c){c.attachEvent("onTemplatesReady",function(){function i(t,e,n,a){if(!c.checkEvent("onBeforeExternalDragIn")||c.callEvent("onBeforeExternalDragIn",[t,e,n,a,l])){var i=c.attachEvent("onEventCreated",function(e){c.callEvent("onExternalDragIn",[e,t,l])||(this._drag_mode=this._drag_id=null,this.deleteEvent(e))}),r=c.getActionData(l),o={start_date:new Date(r.date)};if(c.matrix&&c.matrix[c._mode]){var s=c.matrix[c._mode];o[s.y_property]=r.section;var d=c._locate_cell_timeline(l);o.start_date=s._trace_x[d.x],o.end_date=c.date.add(o.start_date,s.x_step,s.x_unit)}c._props&&c._props[c._mode]&&(o[c._props[c._mode].map_to]=r.section),c.addEventNow(o),c.detachEvent(i)}}var l,e=new dhtmlDragAndDropObject,t=e.stopDrag;e.stopDrag=function(e){return l=e||event,t.apply(this,arguments)},e.addDragLanding(c._els.dhx_cal_data[0],{_drag:function(e,t,n,a){i(e,t,n,a)},_dragIn:function(e){return e},_dragOut:function(){return this}}),dhtmlx.DragControl&&dhtmlx.DragControl.addDrop(c._els.dhx_cal_data[0],{onDrop:function(e,t,n,a){i(e,dhtmlx.DragControl.getMaster(e),t,(l=a).target||a.srcElement)},onDragIn:function(e,t){return t}},!0)})}),Scheduler.plugin(function(T){!function(){function w(e){return e.replace(n,"\n").replace(t,"")}function k(e,t){e=parseFloat(e),t=parseFloat(t),isNaN(t)||(e-=t);var n=i(e);return e=e-n.width+n.cols*m,isNaN(e)?"auto":100*e/m}function E(e,t,n){e=parseFloat(e),t=parseFloat(t),!isNaN(t)&&n&&(e-=t);var a=i(e);return e=e-a.width+a.cols*m,isNaN(e)?"auto":100*e/(m-(isNaN(t)?0:t))}function i(e){for(var t=0,n=T._els.dhx_cal_header[0].childNodes,a=n[1]?n[1].childNodes:n[0].childNodes,i=0;i<a.length;i++){var r=a[i].style?a[i]:a[i].parentNode,o=parseFloat(r.style.width);if(!(o<e))break;e-=o+1,t+=o+1}return{width:t,cols:i}}function S(e){return e=parseFloat(e),isNaN(e)?"auto":100*e/A}function D(e,t){return(window.getComputedStyle?window.getComputedStyle(e,null)[t]:e.currentStyle?e.currentStyle[t]:null)||""}function N(e,t){for(var n=parseInt(e.style.left,10),a=0;a<T._cols.length;a++)if((n-=T._cols[a])<0)return a;return t}function C(e,t){for(var n=parseInt(e.style.top,10),a=0;a<T._colsS.heights.length;a++)if(T._colsS.heights[a]>n)return a;return t}function u(e){return e?"<"+e+">":""}function _(e){return e?"</"+e+">":""}function h(e,t,n,a){var i="<"+e+" profile='"+t+"'";return n&&(i+=" header='"+n+"'"),a&&(i+=" footer='"+a+"'"),i+">"}function f(){var e="",t=T._mode;if(T.matrix&&T.matrix[T._mode]&&(t="cell"==T.matrix[T._mode].render?"matrix":"timeline"),e+="<scale mode='"+t+"' today='"+T._els.dhx_cal_date[0].innerHTML+"'>","week_agenda"==T._mode)for(var n=T._els.dhx_cal_data[0].getElementsByTagName("DIV"),a=0;a<n.length;a++)"dhx_wa_scale_bar"==n[a].className&&(e+="<column>"+w(n[a].innerHTML)+"</column>");else if("agenda"==T._mode||"map"==T._mode){e+="<column>"+w((n=T._els.dhx_cal_header[0].childNodes[0].childNodes)[0].innerHTML)+"</column><column>"+w(n[1].innerHTML)+"</column>"}else if("year"==T._mode)for(n=T._els.dhx_cal_data[0].childNodes,a=0;a<n.length;a++)e+="<month label='"+w(n[a].querySelector(".dhx_year_month").innerHTML)+"'>",e+=o(n[a].querySelector(".dhx_year_week").childNodes),e+=r(n[a].querySelector(".dhx_year_body")),e+="</month>";else{e+="<x>",e+=o(n=T._els.dhx_cal_header[0].childNodes),e+="</x>";var i=T._els.dhx_cal_data[0];if(T.matrix&&T.matrix[T._mode]){e+="<y>";for(a=0;a<i.firstChild.rows.length;a++){e+="<row><![CDATA["+w(i.firstChild.rows[a].cells[0].innerHTML)+"]]></row>"}e+="</y>",A=i.firstChild.rows[0].cells[0].offsetHeight}else if("TABLE"==i.firstChild.tagName)e+=r(i);else{for(i=i.childNodes[i.childNodes.length-1];-1==i.className.indexOf("dhx_scale_holder");)i=i.previousSibling;i=i.childNodes,e+="<y>";for(a=0;a<i.length;a++)e+="\n<row><![CDATA["+w(i[a].innerHTML)+"]]></row>";e+="</y>",A=i[0].offsetHeight}}return e+"</scale>"}function r(e){for(var t="",n=e.querySelectorAll("tr"),a=0;a<n.length;a++){for(var i=[],r=n[a].querySelectorAll("td"),o=0;o<r.length;o++)i.push(r[o].querySelector(".dhx_month_head").innerHTML);t+="\n<row height='"+r[0].offsetHeight+"'><![CDATA["+w(i.join("|"))+"]]></row>",A=r[0].offsetHeight}return t}function o(e){var t,n="";T.matrix&&T.matrix[T._mode]&&(T.matrix[T._mode].second_scale&&(t=e[1].childNodes),e=e[0].childNodes);for(var a=0;a<e.length;a++)n+="\n<column><![CDATA["+w(e[a].innerHTML)+"]]></column>";if(m=e[0].offsetWidth,t){var i=0,r=e[0].offsetWidth,o=1;for(a=0;a<t.length;a++)n+="\n<column second_scale='"+o+"'><![CDATA["+w(t[a].innerHTML)+"]]></column>",r<=(i+=t[a].offsetWidth)&&(r+=e[o]?e[o].offsetWidth:0,o++),m=t[0].offsetWidth}return n}function p(e){var t="",n=T._rendered,a=T.matrix&&T.matrix[T._mode];if("agenda"==T._mode||"map"==T._mode)for(var i=0;i<n.length;i++)t+="<event><head><![CDATA["+w(n[i].childNodes[0].innerHTML)+"]]></head><body><![CDATA["+w(n[i].childNodes[2].innerHTML)+"]]></body></event>";else if("week_agenda"==T._mode)for(i=0;i<n.length;i++)t+="<event day='"+n[i].parentNode.getAttribute("day")+"'><body>"+w(n[i].innerHTML)+"</body></event>";else if("year"==T._mode)for(n=T.get_visible_events(),i=0;i<n.length;i++){var r=n[i].start_date;for(r.valueOf()<T._min_date.valueOf()&&(r=T._min_date);r<n[i].end_date;){var o=r.getMonth()+12*(r.getFullYear()-T._min_date.getFullYear())-T.week_starts._month,s=T.week_starts[o]+r.getDate()-1,d=e?D(T._get_year_cell(r),"color"):"",l=e?D(T._get_year_cell(r),"backgroundColor"):"";if(t+="<event day='"+s%7+"' week='"+Math.floor(s/7)+"' month='"+o+"' backgroundColor='"+l+"' color='"+d+"'></event>",(r=T.date.add(r,1,"day")).valueOf()>=T._max_date.valueOf())break}}else if(a&&"cell"==a.render)for(n=T._els.dhx_cal_data[0].getElementsByTagName("TD"),i=0;i<n.length;i++){d=e?D(n[i],"color"):"";t+="\n<event><body backgroundColor='"+(l=e?D(n[i],"backgroundColor"):"")+"' color='"+d+"'><![CDATA["+w(n[i].innerHTML)+"]]></body></event>"}else for(i=0;i<n.length;i++){var c,u;if(T.matrix&&T.matrix[T._mode])c=k(n[i].style.left),u=k(n[i].offsetWidth)-1;else{var _=T.config.use_select_menu_space?0:26;c=E(n[i].style.left,_,!0),u=E(n[i].style.width,_)-1}if(!isNaN(1*u)){var h=S(n[i].style.top),f=S(n[i].style.height),p=n[i].className.split(" ")[0].replace("dhx_cal_","");if("dhx_tooltip_line"!==p){var m=T.getEvent(n[i].getAttribute("event_id"));if(m){s=m._sday;var g=m._sweek,v=m._length||0;if("month"==T._mode)f=parseInt(n[i].offsetHeight,10),h=parseInt(n[i].style.top,10)-T.xy.month_head_height,s=N(n[i],s),g=C(n[i],g);else if(T.matrix&&T.matrix[T._mode]){s=0,g=n[i].parentNode.parentNode.parentNode.rowIndex;var y=A;A=n[i].parentNode.offsetHeight,h=S(n[i].style.top),h-=.2*h,A=y}else{if(n[i].parentNode==T._els.dhx_cal_data[0])continue;var b=T._els.dhx_cal_data[0].childNodes[0],x=parseFloat(-1!=b.className.indexOf("dhx_scale_holder")?b.style.left:0);c+=k(n[i].parentNode.style.left,x)}if(t+="\n<event week='"+g+"' day='"+s+"' type='"+p+"' x='"+c+"' y='"+h+"' width='"+u+"' height='"+f+"' len='"+v+"'>","event"==p){t+="<header><![CDATA["+w(n[i].childNodes[1].innerHTML)+"]]></header>";d=e?D(n[i].childNodes[2],"color"):"";t+="<body backgroundColor='"+(l=e?D(n[i].childNodes[2],"backgroundColor"):"")+"' color='"+d+"'><![CDATA["+w(n[i].childNodes[2].innerHTML)+"]]></body>"}else{d=e?D(n[i],"color"):"";t+="<body backgroundColor='"+(l=e?D(n[i],"backgroundColor"):"")+"' color='"+d+"'><![CDATA["+w(n[i].innerHTML)+"]]></body>"}t+="</event>"}}}}return t}function s(e,t,n,a,i,r){var o=!1;"fullcolor"==a&&(o=!0,a="color"),a=a||"color";var s="";if(e){var d=T._date,l=T._mode;t=T.date[n+"_start"](t),t=T.date["get_"+n+"_end"]?T.date["get_"+n+"_end"](t):T.date.add(t,1,n),s=h("pages",a,i,r);for(var c=new Date(e);+c<+t;c=this.date.add(c,1,n))this.setCurrentView(c,n),s+=u("page")+f().replace("\u2013","-")+p(o)+_("page");s+=_("pages"),this.setCurrentView(d,l)}else s=h("data",a,i,r)+f().replace("\u2013","-")+p(o)+_("data");return s}function d(e,t){var n=T.uid(),a=document.createElement("div");a.style.display="none",document.body.appendChild(a),a.innerHTML='<form id="'+n+'" method="post" target="_blank" action="'+t+'" accept-charset="utf-8" enctype="application/x-www-form-urlencoded"><input type="hidden" name="mycoolxmlbody"/> </form>',document.getElementById(n).firstChild.value=encodeURIComponent(e),document.getElementById(n).submit(),a.parentNode.removeChild(a)}function l(e,t,n,a,i,r,o){d("object"==typeof i?c(i):s.apply(this,[e,t,n,i,r,o]),a)}function c(e){for(var t="<data>",n=0;n<e.length;n++)t+=e[n].source.getPDFData(e[n].start,e[n].end,e[n].view,e[n].mode,e[n].header,e[n].footer);return t+"</data>"}var m,A,t=new RegExp("<[^>]*>","g"),n=new RegExp("<br[^>]*>","g");T.getPDFData=s,T.toPDF=function(e,t,n,a){return l.apply(this,[null,null,null,e,t,n,a])},T.toPDFRange=function(e,t,n,a,i,r,o){return"string"==typeof e&&(e=T.templates.api_date(e),t=T.templates.api_date(t)),l.apply(this,arguments)}}()}),Scheduler.plugin(function(s){s.config.icons_select=["icon_details","icon_delete"],s.config.details_on_create=!0,s.config.show_quick_info=!0,s.xy.menu_width=0,s.attachEvent("onClick",function(e){return s.showQuickInfo(e),!0}),function(){for(var e=["onEmptyClick","onViewChange","onLightbox","onBeforeEventDelete","onBeforeDrag"],t=function(){return s.hideQuickInfo(!0),!0},n=0;n<e.length;n++)s.attachEvent(e[n],t)}(),s.templates.quick_info_title=function(e,t,n){return n.text.substr(0,50)},s.templates.quick_info_content=function(e,t,n){return n.details||n.text},s.templates.quick_info_date=function(e,t,n){return s.isOneDayEvent(n)&&s.config.rtl?s.templates.day_date(e,t,n)+" "+s.templates.event_header(t,e,n):s.isOneDayEvent(n)?s.templates.day_date(e,t,n)+" "+s.templates.event_header(e,t,n):s.config.rtl?s.templates.week_date(t,e,n):s.templates.week_date(e,t,n)},s.showQuickInfo=function(e){if(e!=this._quick_info_box_id&&this.config.show_quick_info){this.hideQuickInfo(!0);var t=this._get_event_counter_part(e);t&&(this._quick_info_box=this._init_quick_info(t),this._fill_quick_data(e),this._show_quick_info(t),this.callEvent("onQuickInfo",[e]))}},function(){function o(e){e=e||"";var t,n=parseFloat(e),a=e.match(/m?s/);switch(a&&(a=a[0]),a){case"s":t=1e3*n;break;case"ms":t=n;break;default:t=0}return t}s.hideQuickInfo=function(e){var t=this._quick_info_box,n=this._quick_info_box_id;if(this._quick_info_box_id=0,t&&t.parentNode){var a=t.offsetWidth;if(s.config.quick_info_detached)return this.callEvent("onAfterQuickInfo",[n]),t.parentNode.removeChild(t);if("auto"==t.style.right?t.style.left=-a+"px":t.style.right=-a+"px",e)t.parentNode.removeChild(t);else{var i;window.getComputedStyle?i=window.getComputedStyle(t,null):t.currentStyle&&(i=t.currentStyle);var r=o(i["transition-delay"])+o(i["transition-duration"]);setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},r)}this.callEvent("onAfterQuickInfo",[n])}}}(),s.event(window,"keydown",function(e){27==e.keyCode&&s.hideQuickInfo()}),s._show_quick_info=function(e){var t=s._quick_info_box;s._obj.appendChild(t);var n=t.offsetWidth,a=t.offsetHeight;if(s.config.quick_info_detached){var i=e.left-e.dx*(n-e.width);i+n>window.innerWidth&&(i=window.innerWidth-n),i=Math.max(0,i),t.style.left=i+"px",t.style.top=e.top-(e.dy?a:-e.height)+"px"}else t.style.top=this.xy.scale_height+this.xy.nav_height+20+"px",1==e.dx?(t.style.right="auto",t.style.left=-n+"px",setTimeout(function(){t.style.left="-10px"},1)):(t.style.left="auto",t.style.right=-n+"px",setTimeout(function(){t.style.right="-10px"},1)),t.className=t.className.replace(" dhx_qi_left","").replace(" dhx_qi_right","")+" dhx_qi_"+(1==e.dx?"left":"right")},s.attachEvent("onTemplatesReady",function(){if(s.hideQuickInfo(),this._quick_info_box){var e=this._quick_info_box;e.parentNode&&e.parentNode.removeChild(e),this._quick_info_box=null}}),s._quick_info_onscroll_handler=function(){s.hideQuickInfo()},s._init_quick_info=function(){if(!this._quick_info_box){var e=s.xy,t=this._quick_info_box=document.createElement("div");this._waiAria.quickInfoAttr(t),t.className="dhx_cal_quick_info",s.$testmode&&(t.className+=" dhx_no_animate"),s.config.rtl&&(t.className+=" dhx_quick_info_rtl");var n=this._waiAria.quickInfoHeaderAttrString(),a='<div class="dhx_cal_qi_title" style="height:'+e.quick_info_title+'px" '+n+'><div class="dhx_cal_qi_tcontent"></div><div  class="dhx_cal_qi_tdate"></div></div><div class="dhx_cal_qi_content"></div>';a+='<div class="dhx_cal_qi_controls" style="height:'+e.quick_info_buttons+'px">';for(var i=s.config.icons_select,r=0;r<i.length;r++){a+="<div "+(n=this._waiAria.quickInfoButtonAttrString(this.locale.labels[i[r]]))+' class="dhx_qi_big_icon '+i[r]+'" title="'+s.locale.labels[i[r]]+"\"><div class='dhx_menu_icon "+i[r]+"'></div><div>"+s.locale.labels[i[r]]+"</div></div>"}a+="</div>",t.innerHTML=a,s.event(t,"click",function(e){e=e||event,s._qi_button_click(e.target||e.srcElement)}),s.config.quick_info_detached&&(s._detachDomEvent(s._els.dhx_cal_data[0],"scroll",s._quick_info_onscroll_handler),s.event(s._els.dhx_cal_data[0],"scroll",s._quick_info_onscroll_handler))}return this._quick_info_box},s._qi_button_click=function(e){var t=s._quick_info_box;if(e&&e!=t){var n=s._getClassName(e);if(-1!=n.indexOf("_icon")){var a=s._quick_info_box_id;s._click.buttons[n.split(" ")[1].replace("icon_","")](a)}else s._qi_button_click(e.parentNode)}},s._get_event_counter_part=function(e){for(var t=s.getRenderedEvent(e),n=0,a=0,i=t;i&&i!=s._obj;)n+=i.offsetLeft,a+=i.offsetTop-i.scrollTop,i=i.offsetParent;return i?{left:n,top:a,dx:n+t.offsetWidth/2>s._x/2?1:0,dy:a+t.offsetHeight/2>s._y/2?1:0,width:t.offsetWidth,height:t.offsetHeight}:0},s._fill_quick_data=function(e){var t=s.getEvent(e),n=s._quick_info_box;s._quick_info_box_id=e;var a={content:s.templates.quick_info_title(t.start_date,t.end_date,t),date:s.templates.quick_info_date(t.start_date,t.end_date,t)},i=n.firstChild.firstChild;i.innerHTML=a.content,i.nextSibling.innerHTML=a.date,s._waiAria.quickInfoHeader(n,[a.content,a.date].join(" ")),n.firstChild.nextSibling.innerHTML=s.templates.quick_info_content(t.start_date,t.end_date,t)}}),Scheduler.plugin(function(h){h.attachEvent("onTemplatesReady",function(){function i(e,t,n,a){for(var i=t.getElementsByTagName(e),r=n.getElementsByTagName(e),o=r.length-1;0<=o;o--){n=r[o];if(a){var s=document.createElement("span");s.className="dhx_text_disabled",s.innerHTML=a(i[o]),n.parentNode.insertBefore(s,n),n.parentNode.removeChild(n)}else n.disabled=!0,t.checked&&(n.checked=!0)}}var c;h.form_blocks.recurring&&(c=h.form_blocks.recurring.set_value);var u=h.config.buttons_left.slice(),_=h.config.buttons_right.slice();h.attachEvent("onBeforeLightbox",function(e){this.config.readonly_form||this.getEvent(e).readonly?this.config.readonly_active=!0:(this.config.readonly_active=!1,h.config.buttons_left=u.slice(),h.config.buttons_right=_.slice(),h.form_blocks.recurring&&(h.form_blocks.recurring.set_value=c));var t=this.config.lightbox.sections;if(this.config.readonly_active){for(var n=0;n<t.length;n++)"recurring"==t[n].type&&this.config.readonly_active&&h.form_blocks.recurring&&(h.form_blocks.recurring.set_value=function(e){var t=h.$domHelpers.closest(e,".dhx_wrap_section"),n="none";t.querySelector(".dhx_cal_lsection").display=n,t.querySelector(".dhx_form_repeat").display=n,t.style.display=n,h.setLightboxSize()});var a=["dhx_delete_btn","dhx_save_btn"],i=[h.config.buttons_left,h.config.buttons_right];for(n=0;n<a.length;n++)for(var r=a[n],o=0;o<i.length;o++){for(var s=i[o],d=-1,l=0;l<s.length;l++)if(s[l]==r){d=l;break}-1!=d&&s.splice(d,1)}}return this.resetLightbox(),!0});var r=h._fill_lightbox;h._fill_lightbox=function(){var e=this.getLightbox();this.config.readonly_active&&(e.style.visibility="hidden",e.style.display="block");var t=r.apply(this,arguments);if(this.config.readonly_active&&(e.style.visibility="",e.style.display="none"),this.config.readonly_active){var n=this.getLightbox(),a=this._lightbox_r=n.cloneNode(!0);a.id=h.uid(),a.className+=" dhx_cal_light_readonly",i("textarea",n,a,function(e){return e.value}),i("input",n,a,!1),i("select",n,a,function(e){return e.options.length?e.options[Math.max(e.selectedIndex||0,0)].text:""}),n.parentNode.insertBefore(a,n),o.call(this,a),h._lightbox&&h._lightbox.parentNode.removeChild(h._lightbox),this._lightbox=a,h.config.drag_lightbox&&(a.firstChild.onmousedown=h._ready_to_dnd),this.setLightboxSize(),a.onclick=function(e){var t=e?e.target:event.srcElement,n=h.$domHelpers.closest(t,".dhx_btn_set");n&&n.querySelector(".dhx_cancel_btn")&&h.cancel_lightbox()},a.onkeydown=function(e){var t=e||window.event,n=e.target||e.srcElement,a=n.querySelector("[dhx_button]");switch(a||(a=n.parentNode.querySelector(".dhx_custom_button, .dhx_readonly")),(e||t).keyCode){case 32:if((e||t).shiftKey)return;a&&a.click&&a.click();break;case h.keys.edit_cancel:h.cancel_lightbox()}}}return t};var o=h.showCover;h.showCover=function(){this.config.readonly_active||o.apply(this,arguments)};var e=h.hide_lightbox;h.hide_lightbox=function(){return this._lightbox_r&&(this._lightbox_r.parentNode.removeChild(this._lightbox_r),this._lightbox_r=this._lightbox=null),e.apply(this,arguments)}})}),Scheduler.plugin(function(k){var s;k.config.occurrence_timestamp_in_utc=!1,k.config.recurring_workdays=[1,2,3,4,5],k.form_blocks.recurring={_get_node:function(e){return"string"==typeof e&&(e=document.getElementById(e)),"none"==e.style.display&&(e.style.display=""),e},_outer_html:function(e){function t(e){var t,n=document.createElement("div");return n.appendChild(e.cloneNode(!0)),t=n.innerHTML,n=null,t}return e.outerHTML||t(e)},render:function(e){if(e.form){var t=k.form_blocks.recurring,n=t._get_node(e.form),a=t._outer_html(n);return n.style.display="none",a}var i=k.locale.labels;return'<div class="dhx_form_repeat"> <form> <div class="dhx_repeat_left"> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="day" />'+i.repeat_radio_day+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="week"/>'+i.repeat_radio_week+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="month" checked />'+i.repeat_radio_month+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="year" />'+i.repeat_radio_year+'</label> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_center"> <div style="display:none;" id="dhx_repeat_day"> <label><input class="dhx_repeat_radio" type="radio" name="day_type" value="d"/>'+i.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="day_count" value="1" />'+i.repeat_text_day_count+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="day_type" checked value="w"/>'+i.repeat_radio_day_type2+'</label> </div> <div style="display:none;" id="dhx_repeat_week"><label>'+i.repeat_week+'<input class="dhx_repeat_text" type="text" name="week_count" value="1" /></label><span>'+i.repeat_text_week_count+'</span><br /> <table class="dhx_repeat_days"> <tr> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="1" />'+i.day_for_recurring[1]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="4" />'+i.day_for_recurring[4]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="2" />'+i.day_for_recurring[2]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="5" />'+i.day_for_recurring[5]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="3" />'+i.day_for_recurring[3]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="6" />'+i.day_for_recurring[6]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="0" />'+i.day_for_recurring[0]+'</label><br /><br /> </td> </tr> </table> </div> <div id="dhx_repeat_month"> <label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" value="d"/>'+i.repeat_radio_month_type+'</label><label><input class="dhx_repeat_text" type="text" name="month_day" value="1" />'+i.repeat_text_month_day+'</label><label><input class="dhx_repeat_text" type="text" name="month_count" value="1" />'+i.repeat_text_month_count+'</label><br /> <label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" checked value="w"/>'+i.repeat_radio_month_start+'</label><input class="dhx_repeat_text" type="text" name="month_week2" value="1" /><label><select name="month_day2">\t<option value="1" selected >'+k.locale.date.day_full[1]+'<option value="2">'+k.locale.date.day_full[2]+'<option value="3">'+k.locale.date.day_full[3]+'<option value="4">'+k.locale.date.day_full[4]+'<option value="5">'+k.locale.date.day_full[5]+'<option value="6">'+k.locale.date.day_full[6]+'<option value="0">'+k.locale.date.day_full[0]+"</select>"+i.repeat_text_month_count2_before+'</label><label><input class="dhx_repeat_text" type="text" name="month_count2" value="1" />'+i.repeat_text_month_count2_after+'</label><br /> </div> <div style="display:none;" id="dhx_repeat_year"> <label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" value="d"/>'+i.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="year_day" value="1" />'+i.repeat_text_year_day+'</label><label><select name="year_month"><option value="0" selected >'+i.month_for_recurring[0]+'<option value="1">'+i.month_for_recurring[1]+'<option value="2">'+i.month_for_recurring[2]+'<option value="3">'+i.month_for_recurring[3]+'<option value="4">'+i.month_for_recurring[4]+'<option value="5">'+i.month_for_recurring[5]+'<option value="6">'+i.month_for_recurring[6]+'<option value="7">'+i.month_for_recurring[7]+'<option value="8">'+i.month_for_recurring[8]+'<option value="9">'+i.month_for_recurring[9]+'<option value="10">'+i.month_for_recurring[10]+'<option value="11">'+i.month_for_recurring[11]+"</select>"+i.select_year_month+'</label><br /> <label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" checked value="w"/>'+i.repeat_year_label+'</label><input class="dhx_repeat_text" type="text" name="year_week2" value="1" /><select name="year_day2"><option value="1" selected >'+k.locale.date.day_full[1]+'<option value="2">'+k.locale.date.day_full[2]+'<option value="3">'+k.locale.date.day_full[3]+'<option value="4">'+k.locale.date.day_full[4]+'<option value="5">'+k.locale.date.day_full[5]+'<option value="6">'+k.locale.date.day_full[6]+'<option value="7">'+k.locale.date.day_full[0]+"</select>"+i.select_year_day2+'<select name="year_month2"><option value="0" selected >'+i.month_for_recurring[0]+'<option value="1">'+i.month_for_recurring[1]+'<option value="2">'+i.month_for_recurring[2]+'<option value="3">'+i.month_for_recurring[3]+'<option value="4">'+i.month_for_recurring[4]+'<option value="5">'+i.month_for_recurring[5]+'<option value="6">'+i.month_for_recurring[6]+'<option value="7">'+i.month_for_recurring[7]+'<option value="8">'+i.month_for_recurring[8]+'<option value="9">'+i.month_for_recurring[9]+'<option value="10">'+i.month_for_recurring[10]+'<option value="11">'+i.month_for_recurring[11]+'</select><br /> </div> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_right"> <label><input class="dhx_repeat_radio" type="radio" name="end" checked/>'+i.repeat_radio_end+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />'+i.repeat_radio_end2+'</label><input class="dhx_repeat_text" type="text" name="occurences_count" value="1" />'+i.repeat_text_occurences_count+'<br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />'+i.repeat_radio_end3+'</label><input class="dhx_repeat_date" type="text" name="date_of_end" value="'+k.config.repeat_date_of_end+'" /><br /> </div> </form> </div> <div style="clear:both"> </div>'},_ds:{},_get_form_node:function(e,t,n){var a=e[t];if(!a)return null;if(a.nodeName)return a;if(a.length)for(var i=0;i<a.length;i++)if(a[i].value==n)return a[i]},_get_node_value:function(e,t,n){var a=e[t];if(!a)return"";if(a.length){if(n){for(var i=[],r=0;r<a.length;r++)a[r].checked&&i.push(a[r].value);return i}for(r=0;r<a.length;r++)if(a[r].checked)return a[r].value}return a.value?n?[a.value]:a.value:void 0},_get_node_numeric_value:function(e,t){return 1*k.form_blocks.recurring._get_node_value(e,t)||0},_set_node_value:function(e,t,n){var a=e[t];if(a)if(a.name==t)a.value=n;else if(a.length)for(var i="object"==typeof n,r=0;r<a.length;r++)(i||a[r].value==n)&&(a[r].checked=i?!!n[a[r].value]:!!n)},_init_set_value:function(e,t,n){function a(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.name)if(m[n.name])if(m[n.name].nodeType){var a=m[n.name];m[n.name]=[a,n]}else m[n.name].push(n);else m[n.name]=n}}function i(){v("dhx_repeat_day").style.display="none",v("dhx_repeat_week").style.display="none",v("dhx_repeat_month").style.display="none",v("dhx_repeat_year").style.display="none",v("dhx_repeat_"+this.value).style.display="block",k.setLightboxSize()}function r(e){var t=[c(m,"repeat")];for(y[t[0]](t,e);t.length<5;)t.push("");var n="",a=o(m);if("no"==a)e.end=new Date(9999,1,1),n="no";else if("date_of_end"==a)e.end=h(c(m,"date_of_end"));else{k.transpose_type(t.join("_")),n=Math.max(1,c(m,"occurences_count"));var i=0;e.end=k.date.add(new Date(e.start),n+i,t.join("_"))}return t.join("_")+"#"+n}function o(e){var t=e.end;if(t.length){for(var n=0;n<t.length;n++)if(t[n].checked)return t[n].value&&"on"!=t[n].value?t[n].value:n?2==n?"date_of_end":"occurences_count":"no"}else if(t.value)return t.value;return"no"}function s(e,t){var n=e.end;if(n.length)if(n[0].value&&"on"!=n[0].value)for(var a=0;a<n.length;a++)n[a].value==t&&(n[a].checked=!0);else{var i=0;switch(t){case"no":i=0;break;case"date_of_end":i=2;break;default:i=1}n[i].checked=!0}else n.value=t}function d(e,t){var n=k.form_blocks.recurring._set_node_value,a=e.split("#");switch(e=a[0].split("_"),b[e[0]](e,t),a[1]){case"no":s(m,"no");break;case"":s(m,"date_of_end");var i=t.end;k.config.include_end_by&&(i=k.date.add(i,-1,"day")),n(m,"date_of_end",f(i));break;default:s(m,"occurences_count"),n(m,
"occurences_count",a[1])}n(m,"repeat",e[0]);var r=k.form_blocks.recurring._get_form_node(m,"repeat",e[0]);"SELECT"==r.nodeName&&r.onchange?r.onchange():r.onclick&&r.onclick()}var l=k.form_blocks.recurring,c=l._get_node_value,u=l._set_node_value;k.form_blocks.recurring._ds={start:n.start_date,end:n._end_date};var _=k.date.str_to_date(k.config.repeat_date),h=function(e){var t=_(e);return k.config.include_end_by&&(t=k.date.add(t,1,"day")),t},f=k.date.date_to_str(k.config.repeat_date),p=e.getElementsByTagName("FORM")[0],m={};if(a(p.getElementsByTagName("INPUT")),a(p.getElementsByTagName("SELECT")),!k.config.repeat_date_of_end){var g=k.date.date_to_str(k.config.repeat_date);k.config.repeat_date_of_end=g(k.date.add(k._currentDate(),30,"day"))}u(m,"date_of_end",k.config.repeat_date_of_end);var v=function(e){return document.getElementById(e)||{style:{}}};k.form_blocks.recurring._get_repeat_code=r;var y={month:function(e,t){var n=k.form_blocks.recurring._get_node_value,a=k.form_blocks.recurring._get_node_numeric_value;"d"==n(m,"month_type")?(e.push(Math.max(1,a(m,"month_count"))),t.start.setDate(n(m,"month_day"))):(e.push(Math.max(1,a(m,"month_count2"))),e.push(n(m,"month_day2")),e.push(Math.max(1,a(m,"month_week2"))),k.config.repeat_precise||t.start.setDate(1)),t._start=!0},week:function(e,t){var n=k.form_blocks.recurring._get_node_value,a=k.form_blocks.recurring._get_node_numeric_value;e.push(Math.max(1,a(m,"week_count"))),e.push(""),e.push("");for(var i=[],r=n(m,"week_day",!0),o=t.start.getDay(),s=!1,d=0;d<r.length;d++)i.push(r[d]),s=s||r[d]==o;i.length||(i.push(o),s=!0),i.sort(),k.config.repeat_precise?s||(k.transpose_day_week(t.start,i,1,7),t._start=!0):(t.start=k.date.week_start(t.start),t._start=!0),e.push(i.join(","))},day:function(e){var t=k.form_blocks.recurring._get_node_value,n=k.form_blocks.recurring._get_node_numeric_value;"d"==t(m,"day_type")?e.push(Math.max(1,n(m,"day_count"))):(e.push("week"),e.push(1),e.push(""),e.push(""),e.push(k.config.recurring_workdays.join(",")),e.splice(0,1))},year:function(e,t){var n=k.form_blocks.recurring._get_node_value;"d"==n(m,"year_type")?(e.push("1"),t.start.setMonth(0),t.start.setDate(n(m,"year_day")),t.start.setMonth(n(m,"year_month"))):(e.push("1"),e.push(n(m,"year_day2")),e.push(n(m,"year_week2")),t.start.setDate(1),t.start.setMonth(n(m,"year_month2"))),t._start=!0}},b={week:function(e){var t=k.form_blocks.recurring._set_node_value;t(m,"week_count",e[1]);for(var n=e[4].split(","),a={},i=0;i<n.length;i++)a[n[i]]=!0;t(m,"week_day",a)},month:function(e,t){var n=k.form_blocks.recurring._set_node_value;""===e[2]?(n(m,"month_type","d"),n(m,"month_count",e[1]),n(m,"month_day",t.start.getDate())):(n(m,"month_type","w"),n(m,"month_count2",e[1]),n(m,"month_week2",e[3]),n(m,"month_day2",e[2]))},day:function(e){var t=k.form_blocks.recurring._set_node_value;t(m,"day_type","d"),t(m,"day_count",e[1])},year:function(e,t){var n=k.form_blocks.recurring._set_node_value;""===e[2]?(n(m,"year_type","d"),n(m,"year_day",t.start.getDate()),n(m,"year_month",t.start.getMonth())):(n(m,"year_type","w"),n(m,"year_week2",e[3]),n(m,"year_day2",e[2]),n(m,"year_month2",t.start.getMonth()))}};k.form_blocks.recurring._set_repeat_code=d;for(var x=0;x<p.elements.length;x++){var w=p.elements[x];switch(w.name){case"repeat":"SELECT"==w.nodeName?w.onchange=i:w.onclick=i}}k._lightbox._rec_init_done=!0},set_value:function(e,t,n){var a=k.form_blocks.recurring;k._lightbox._rec_init_done||a._init_set_value(e,t,n),e.open=!n.rec_type,e.blocked=this._is_modified_occurence(n);var i=a._ds;i.start=n.start_date,i.end=n._end_date,a._toggle_block(),t&&a._set_repeat_code(t,i)},get_value:function(e,t){if(e.open){var n=k.form_blocks.recurring._ds,a={};this.formSection("time").getValue(a),n.start=a.start_date,t.rec_type=k.form_blocks.recurring._get_repeat_code(n),n._start?(t.start_date=new Date(n.start),t._start_date=new Date(n.start),n._start=!1):t._start_date=null,t._end_date=n.end,t.rec_pattern=t.rec_type.split("#")[0]}else t.rec_type=t.rec_pattern="",t._end_date=t.end_date;return t.rec_type},_get_button:function(){return k.formSection("recurring").header.firstChild.firstChild},_get_form:function(){return k.formSection("recurring").node},open:function(){var e=k.form_blocks.recurring;e._get_form().open||e._toggle_block()},close:function(){var e=k.form_blocks.recurring;e._get_form().open&&e._toggle_block()},_toggle_block:function(){var e=k.form_blocks.recurring,t=e._get_form(),n=e._get_button();t.open||t.blocked?(t.style.height="0px",n&&(n.style.backgroundPosition="-5px 20px",n.nextSibling.innerHTML=k.locale.labels.button_recurring)):(t.style.height="auto",n&&(n.style.backgroundPosition="-5px 0px",n.nextSibling.innerHTML=k.locale.labels.button_recurring_open)),t.open=!t.open,k.setLightboxSize()},focus:function(){},button_click:function(){k.form_blocks.recurring._get_form().blocked||k.form_blocks.recurring._toggle_block()}},k._rec_markers={},k._rec_markers_pull={},k._add_rec_marker=function(e,t){e._pid_time=t,this._rec_markers[e.id]=e,this._rec_markers_pull[e.event_pid]||(this._rec_markers_pull[e.event_pid]={}),this._rec_markers_pull[e.event_pid][t]=e},k._get_rec_marker=function(e,t){var n=this._rec_markers_pull[t];return n?n[e]:null},k._get_rec_markers=function(e){return this._rec_markers_pull[e]||[]},k._rec_temp=[],s=k.addEvent,k.addEvent=function(e,t,n,a,i){var r=s.apply(this,arguments);if(r&&k.getEvent(r)){var o=k.getEvent(r);this._is_modified_occurence(o)&&k._add_rec_marker(o,1e3*o.event_length),o.rec_type&&(o.rec_pattern=o.rec_type.split("#")[0])}return r},k.attachEvent("onEventIdChange",function(e,t){if(!this._ignore_call){this._ignore_call=!0,k._rec_markers[e]&&(k._rec_markers[t]=k._rec_markers[e],delete k._rec_markers[e]),k._rec_markers_pull[e]&&(k._rec_markers_pull[t]=k._rec_markers_pull[e],delete k._rec_markers_pull[e]);for(var n=0;n<this._rec_temp.length;n++){(a=this._rec_temp[n]).event_pid==e&&(a.event_pid=t,this.changeEventId(a.id,t+"#"+a.id.split("#")[1]))}for(var n in this._rec_markers){var a;(a=this._rec_markers[n]).event_pid==e&&(a.event_pid=t,a._pid_changed=!0)}var i=k._rec_markers[t];i&&i._pid_changed&&(delete i._pid_changed,setTimeout(function(){k.callEvent("onEventChanged",[t,k.getEvent(t)])},1)),delete this._ignore_call}}),k.attachEvent("onConfirmedBeforeEventDelete",function(e){var t=this.getEvent(e);if(this._is_virtual_event(e)||this._is_modified_occurence(t)&&t.rec_type&&"none"!=t.rec_type){e=e.split("#");var n=this.uid(),a=e[1]?e[1]:t._pid_time/1e3,i=this._copy_event(t);i.id=n,i.event_pid=t.event_pid||e[0];var r=a;i.event_length=r,i.rec_type=i.rec_pattern="none",this.addEvent(i),this._add_rec_marker(i,1e3*r)}else{t.rec_type&&this._lightbox_id&&this._roll_back_dates(t);var o=this._get_rec_markers(e);for(var s in o)o.hasOwnProperty(s)&&(e=o[s].id,this.getEvent(e)&&this.deleteEvent(e,!0))}return!0}),k.attachEvent("onEventDeleted",function(e,t){!this._is_virtual_event(e)&&this._is_modified_occurence(t)&&(k._events[e]||(t.rec_type=t.rec_pattern="none",this.setEvent(e,t)))}),k.attachEvent("onEventChanged",function(e,t){if(this._loading)return!0;var n=this.getEvent(e);if(this._is_virtual_event(e)){e=e.split("#");var a=this.uid();this._not_render=!0;var i=this._copy_event(t);i.id=a,i.event_pid=e[0];var r=e[1];i.event_length=r,i.rec_type=i.rec_pattern="",this._add_rec_marker(i,1e3*r),this.addEvent(i),this._not_render=!1}else{n.rec_type&&this._lightbox_id&&this._roll_back_dates(n);var o=this._get_rec_markers(e);for(var s in o)o.hasOwnProperty(s)&&(delete this._rec_markers[o[s].id],this.deleteEvent(o[s].id,!0));delete this._rec_markers_pull[e];for(var d=!1,l=0;l<this._rendered.length;l++)this._rendered[l].getAttribute("event_id")==e&&(d=!0);d||(this._select_id=null)}return!0}),k.attachEvent("onEventAdded",function(e){if(!this._loading){var t=this.getEvent(e);t.rec_type&&!t.event_length&&this._roll_back_dates(t)}return!0}),k.attachEvent("onEventSave",function(e,t){return this.getEvent(e).rec_type||!t.rec_type||this._is_virtual_event(e)||(this._select_id=null),!0}),k.attachEvent("onEventCreated",function(e){var t=this.getEvent(e);return t.rec_type||(t.rec_type=t.rec_pattern=t.event_length=t.event_pid=""),!0}),k.attachEvent("onEventCancel",function(e){var t=this.getEvent(e);t.rec_type&&(this._roll_back_dates(t),this.render_view_data())}),k._roll_back_dates=function(e){e.event_length=(e.end_date.valueOf()-e.start_date.valueOf())/1e3,e.end_date=e._end_date,e._start_date&&(e.start_date.setMonth(0),e.start_date.setDate(e._start_date.getDate()),e.start_date.setMonth(e._start_date.getMonth()),e.start_date.setFullYear(e._start_date.getFullYear()))},k._is_virtual_event=function(e){return-1!=e.toString().indexOf("#")},k._is_modified_occurence=function(e){return e.event_pid&&"0"!=e.event_pid},k._validId=function(e){return!this._is_virtual_event(e)},k.showLightbox_rec=k.showLightbox,k.showLightbox=function(t){var e=this.locale,n=k.config.lightbox_recurring,a=this.getEvent(t),i=a.event_pid,r=this._is_virtual_event(t);r&&(i=t.split("#")[0]);var o=function(e){var t=k.getEvent(e);return t._end_date=t.end_date,t.end_date=new Date(t.start_date.valueOf()+1e3*t.event_length),k.showLightbox_rec(e)};if((i||1*i==0)&&a.rec_type)return o(t);if(!i||"0"===i||!e.labels.confirm_recurring||"instance"==n||"series"==n&&!r)return this.showLightbox_rec(t);if("ask"==n){var s=this;dhtmlx.modalbox({text:e.labels.confirm_recurring,title:e.labels.title_confirm_recurring,width:"500px",position:"middle",buttons:[e.labels.button_edit_series,e.labels.button_edit_occurrence,e.labels.icon_cancel],callback:function(e){switch(+e){case 0:return o(i);case 1:return s.showLightbox_rec(t);case 2:return}}})}else o(i)},k.get_visible_events_rec=k.get_visible_events,k.get_visible_events=function(e){for(var t=0;t<this._rec_temp.length;t++)delete this._events[this._rec_temp[t].id];this._rec_temp=[];var n=this.get_visible_events_rec(e),a=[];for(t=0;t<n.length;t++)n[t].rec_type?"none"!=n[t].rec_pattern&&this.repeat_date(n[t],a):a.push(n[t]);return a},function(){var t=k.isOneDayEvent;k.isOneDayEvent=function(e){return!!e.rec_type||t.call(this,e)};var n=k.updateEvent;k.updateEvent=function(e){var t=k.getEvent(e);t&&t.rec_type&&(t.rec_pattern=(t.rec_type||"").split("#")[0]),t&&t.rec_type&&!this._is_virtual_event(e)?k.update_view():n.call(this,e)}}(),k.transponse_size={day:1,week:7,month:1,year:12},k.date.day_week=function(e,t,n){e.setDate(1);var a=1*t+(n=7*(n-1))-e.getDay()+1;e.setDate(a<=n?a+7:a)},k.transpose_day_week=function(e,t,n,a,i){for(var r=(e.getDay()||(k.config.start_on_monday?7:0))-n,o=0;o<t.length;o++)if(t[o]>r)return e.setDate(e.getDate()+1*t[o]-r-(a?n:i));this.transpose_day_week(e,t,n+a,null,n)},k.transpose_type=function(e){var t="transpose_"+e;if(!this.date[t]){var a=e.split("_"),n="add_"+e,i=this.transponse_size[a[0]]*a[1];if("day"==a[0]||"week"==a[0]){var r=null;if(a[4]&&(r=a[4].split(","),k.config.start_on_monday)){for(var o=0;o<r.length;o++)r[o]=1*r[o]||7;r.sort()}this.date[t]=function(e,t){var n=Math.floor((t.valueOf()-e.valueOf())/(864e5*i));0<n&&e.setDate(e.getDate()+n*i),r&&k.transpose_day_week(e,r,1,i)},this.date[n]=function(e,t){var n=new Date(e.valueOf());if(r)for(var a=0;a<t;a++)k.transpose_day_week(n,r,0,i);else n.setDate(n.getDate()+t*i);return n}}else"month"!=a[0]&&"year"!=a[0]||(this.date[t]=function(e,t){var n=Math.ceil((12*t.getFullYear()+1*t.getMonth()+1-(12*e.getFullYear()+1*e.getMonth()+1))/i-1);0<=n&&e.setMonth(e.getMonth()+n*i),a[3]&&k.date.day_week(e,a[2],a[3])},this.date[n]=function(e,t){var n=new Date(e.valueOf());return n.setMonth(n.getMonth()+t*i),a[3]&&k.date.day_week(n,a[2],a[3]),n})}},k.repeat_date=function(e,t,n,a,i,r){a=a||this._min_date,i=i||this._max_date;var o=r||-1,s=new Date(e.start_date.valueOf()),d=s.getHours(),l=0;for(!e.rec_pattern&&e.rec_type&&(e.rec_pattern=e.rec_type.split("#")[0]),this.transpose_type(e.rec_pattern),k.date["transpose_"+e.rec_pattern](s,a);s<e.start_date||k._fix_daylight_saving_date(s,a,e,s,new Date(s.valueOf()+1e3*e.event_length)).valueOf()<=a.valueOf()||s.valueOf()+1e3*e.event_length<=a.valueOf();)s=this.date.add(s,1,e.rec_pattern);for(;s<i&&s<e.end_date&&(o<0||l<o);){s.setHours(d);var c=k.config.occurrence_timestamp_in_utc?Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()):s.valueOf(),u=this._get_rec_marker(c,e.id);if(u)n&&("none"!=u.rec_type&&l++,t.push(u));else{var _=new Date(s.valueOf()+1e3*e.event_length),h=this._copy_event(e);if(h.text=e.text,h.start_date=s,h.event_pid=e.id,h.id=e.id+"#"+Math.ceil(c/1e3),h.end_date=_,h.end_date=k._fix_daylight_saving_date(h.start_date,h.end_date,e,s,h.end_date),h._timed=this.isOneDayEvent(h),!h._timed&&!this._table_view&&!this.config.multi_day)return;t.push(h),n||(this._events[h.id]=h,this._rec_temp.push(h)),l++}s=this.date.add(s,1,e.rec_pattern)}},k._fix_daylight_saving_date=function(e,t,n,a,i){var r=e.getTimezoneOffset()-t.getTimezoneOffset();return r?0<r?new Date(a.valueOf()+1e3*n.event_length-60*r*1e3):new Date(t.valueOf()-60*r*1e3):new Date(i.valueOf())},k.getRecDates=function(e,t){var n="object"==typeof e?e:k.getEvent(e),a=[];if(t=t||100,!n.rec_type)return[{start_date:n.start_date,end_date:n.end_date}];if("none"==n.rec_type)return[];k.repeat_date(n,a,!0,n.start_date,n.end_date,t);for(var i=[],r=0;r<a.length;r++)"none"!=a[r].rec_type&&i.push({start_date:a[r].start_date,end_date:a[r].end_date});return i},k.getEvents=function(e,t){var n=[];for(var a in this._events){var i=this._events[a];if(i&&i.start_date<t&&i.end_date>e)if(i.rec_pattern){if("none"==i.rec_pattern)continue;var r=[];this.repeat_date(i,r,!0,e,t);for(var o=0;o<r.length;o++)!r[o].rec_pattern&&r[o].start_date<t&&r[o].end_date>e&&!this._rec_markers[r[o].id]&&n.push(r[o])}else this._is_virtual_event(i.id)||n.push(i)}return n},k.config.repeat_date="%m.%d.%Y",k.config.lightbox.sections=[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"recurring",type:"recurring",map_to:"rec_type",button:"recurring"},{name:"time",height:72,type:"time",map_to:"auto"}],k._copy_dummy=function(){var e=new Date(this.start_date),t=new Date(this.end_date);this.start_date=e,this.end_date=t,this.event_length=this.event_pid=this.rec_pattern=this.rec_type=null},k.config.include_end_by=!1,k.config.lightbox_recurring="ask",k.attachEvent("onClearAll",function(){k._rec_markers={},k._rec_markers_pull={},k._rec_temp=[]})}),Scheduler.plugin(function(l){l._get_serializable_data=function(){var e={};for(var t in this._events){var n=this._events[t];-1==n.id.toString().indexOf("#")&&(e[n.id]=n)}return e},l.data_attributes=function(){var e=[],t=l._helpers.formatDate,n=this._get_serializable_data();for(var a in n){var i=n[a];for(var r in i)"_"!=r.substr(0,1)&&e.push([r,"start_date"==r||"end_date"==r?t:null]);break}return e},l.toXML=function(e){var t=[],n=this.data_attributes(),a=this._get_serializable_data();for(var i in a){var r=a[i];t.push("<event>");for(var o=0;o<n.length;o++)t.push("<"+n[o][0]+"><![CDATA["+(n[o][1]?n[o][1](r[n[o][0]]):r[n[o][0]])+"]]></"+n[o][0]+">");t.push("</event>")}return(e||"")+"<data>"+t.join("\n")+"</data>"},l._serialize_json_value=function(e){return null===e||"boolean"==typeof e?e=""+e:(e||0===e||(e=""),e='"'+e.toString().replace(/\n/g,"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"'),e},l.toJSON=function(){var e=[],t="",n=this.data_attributes(),a=this._get_serializable_data();for(var i in a){for(var r=a[i],o=[],s=0;s<n.length;s++)t=n[s][1]?n[s][1](r[n[s][0]]):r[n[s][0]],o.push(' "'+n[s][0]+'": '+this._serialize_json_value(t));e.push("{"+o.join(",")+"}")}return"["+e.join(",\n")+"]"},l.toICal=function(e){var t="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//dhtmlXScheduler//NONSGML v2.2//EN\nDESCRIPTION:",n="END:VCALENDAR",a=l.date.date_to_str("%Y%m%dT%H%i%s"),i=l.date.date_to_str("%Y%m%d"),r=[],o=this._get_serializable_data();for(var s in o){var d=o[s];r.push("BEGIN:VEVENT"),d._timed&&(d.start_date.getHours()||d.start_date.getMinutes())?r.push("DTSTART:"+a(d.start_date)):r.push("DTSTART:"+i(d.start_date)),d._timed&&(d.end_date.getHours()||d.end_date.getMinutes())?r.push("DTEND:"+a(d.end_date)):r.push("DTEND:"+i(d.end_date)),r.push("SUMMARY:"+d.text),r.push("END:VEVENT")}return t+(e||"")+"\n"+r.join("\n")+"\n"+n}}),Scheduler.plugin(function(u){window.dhtmlXTooltip=u.dhtmlXTooltip=u.tooltip={},dhtmlXTooltip.config={className:"dhtmlXTooltip tooltip",timeout_to_display:50,timeout_to_hide:50,delta_x:15,delta_y:-20},dhtmlXTooltip.tooltip=document.createElement("div"),dhtmlXTooltip.tooltip.className=dhtmlXTooltip.config.className,u._waiAria.tooltipAttr(dhtmlXTooltip.tooltip),dhtmlXTooltip.show=function(e,t){if(!this._mobile||u.config.touch_tooltip){var n=dhtmlXTooltip,a=this.tooltip,i=a.style;n.tooltip.className=n.config.className;var r=this.position(e),o=e.target||e.srcElement;if(!this.isTooltip(o)){var s=r.x+(n.config.delta_x||0),d=r.y-(n.config.delta_y||0);i.visibility="hidden",i.removeAttribute?(i.removeAttribute("right"),i.removeAttribute("bottom")):(i.removeProperty("right"),i.removeProperty("bottom")),i.left="0",i.top="0",u.config.rtl&&(a.className+=" dhtmlXTooltip_rtl"),this.tooltip.innerHTML=t,document.body.appendChild(this.tooltip);var l=this.tooltip.offsetWidth,c=this.tooltip.offsetHeight;document.documentElement.clientWidth-s-l<0?(i.removeAttribute?i.removeAttribute("left"):i.removeProperty("left"),i.right=document.documentElement.clientWidth-s+2*(n.config.delta_x||0)+"px"):i.left=s<0?r.x+Math.abs(n.config.delta_x||0)+"px":s+"px",document.documentElement.clientHeight-d-c<0?(i.removeAttribute?i.removeAttribute("top"):i.removeProperty("top"),i.bottom=document.documentElement.clientHeight-d-2*(n.config.delta_y||0)+"px"):i.top=d<0?r.y+Math.abs(n.config.delta_y||0)+"px":d+"px",u._waiAria.tooltipVisibleAttr(this.tooltip),i.visibility="visible",this.tooltip.onmouseleave=function(e){e=e||window.event;for(var t=u.dhtmlXTooltip,n=e.relatedTarget;n!=u._obj&&n;)n=n.parentNode;n!=u._obj&&t.delay(t.hide,t,[],t.config.timeout_to_hide)},u.callEvent("onTooltipDisplayed",[this.tooltip,this.tooltip.event_id])}}},dhtmlXTooltip._clearTimeout=function(){this.tooltip._timeout_id&&window.clearTimeout(this.tooltip._timeout_id)},dhtmlXTooltip.hide=function(){if(this.tooltip.parentNode){u._waiAria.tooltipHiddenAttr(this.tooltip);var e=this.tooltip.event_id;this.tooltip.event_id=null,this.tooltip.onmouseleave=null,this.tooltip.parentNode.removeChild(this.tooltip),u.callEvent("onAfterTooltip",[e])}this._clearTimeout()},dhtmlXTooltip.delay=function(t,n,a,e){this._clearTimeout(),this.tooltip._timeout_id=setTimeout(function(){var e=t.apply(n,a);return t=n=a=null,e},e||this.config.timeout_to_display)},dhtmlXTooltip.isTooltip=function(e){for(var t=!1;e&&!t;)t=e.className==this.tooltip.className,e=e.parentNode;return t},dhtmlXTooltip.position=function(e){return{x:(e=e||window.event).clientX,y:e.clientY}},u.attachEvent("onMouseMove",function(e,t){var n=window.event||t,a=n.target||n.srcElement,i=dhtmlXTooltip,r=i.isTooltip(a),o=i.isTooltipTarget&&i.isTooltipTarget(a);if(e&&u.getState().editor_id!=e||r||o){var s,d;if(e||i.tooltip.event_id){var l=u.getEvent(e)||u.getEvent(i.tooltip.event_id);if(!l)return;if(i.tooltip.event_id=l.id,!(s=u.templates.tooltip_text(l.start_date,l.end_date,l)))return i.hide()}if(o&&(s=""),u.$env.isIE)for(var c in d={pageX:void 0,pageY:void 0,clientX:void 0,clientY:void 0,target:void 0,srcElement:void 0})d[c]=n[c];if(!u.callEvent("onBeforeTooltip",[e])||!s)return;i.delay(i.show,i,[d||n,s])}else i.delay(i.hide,i,[],i.config.timeout_to_hide)}),u.attachEvent("onBeforeDrag",function(){return dhtmlXTooltip.hide(),!0}),u.attachEvent("onEventDeleted",function(){return dhtmlXTooltip.hide(),!0})}),Scheduler.plugin(function(h){h._get_url_nav=function(){for(var e={},t=(document.location.hash||"").replace("#","").split(","),n=0;n<t.length;n++){var a=t[n].split("=");2==a.length&&(e[a[0]]=a[1])}return e},h.attachEvent("onTemplatesReady",function(){function d(e){_=e,h.getEvent(e)&&h.showEvent(e)}var l=!0,c=h.date.str_to_date("%Y-%m-%d"),u=h.date.date_to_str("%Y-%m-%d"),_=h._get_url_nav().event||null;h.attachEvent("onAfterEventDisplay",function(){return!(_=null)}),h.attachEvent("onBeforeViewChange",function(e,t,n,a){if(l){l=!1;var i=h._get_url_nav();if(i.event)try{if(h.getEvent(i.event))return setTimeout(function(){d(i.event)}),!1;var r=h.attachEvent("onXLE",function(){setTimeout(function(){d(i.event)}),h.detachEvent(r)})}catch(h){}if(i.date||i.mode){try{this.setCurrentView(i.date?c(i.date):null,i.mode||null)}catch(h){this.setCurrentView(i.date?c(i.date):null,n)}return!1}}var o=["date="+u(a||t),"mode="+(n||e)];_&&o.push("event="+_);var s="#"+o.join(",");return document.location.hash=s,!0})})}),Scheduler.plugin(function(e){e.attachEvent("onLightBox",function(){if(this._cover)try{this._cover.style.height=this.expanded?"100%":(document.body.parentNode||document.body).scrollHeight+"px"}catch(e){}}),e.form_blocks.select.set_value=function(e,t){void 0!==t&&""!==t||(t=(e.firstChild.options[0]||{}).value),e.firstChild.value=t||""}}),Scheduler.plugin(function(D){D.config.year_x=4,D.config.year_y=3,D.xy.year_top=0,D.templates.year_date=function(e){return D.date.date_to_str(D.locale.labels.year_tab+" %Y")(e)},D.templates.year_month=D.date.date_to_str("%F"),D.templates.year_scale_date=D.date.date_to_str("%D"),D.templates.year_tooltip=function(e,t,n){return n.text},function(){var o=function(){return"year"==D._mode};D.dblclick_dhx_month_head=function(e){if(o()){var t=e.target||e.srcElement,n=D._getClassName(t.parentNode);if(-1!=n.indexOf("dhx_before")||-1!=n.indexOf("dhx_after"))return!1;for(var a=t;a&&(!a.hasAttribute||!a.hasAttribute("date"));)a=a.parentNode;if(a){var i=this._helpers.parseDate(a.getAttribute("date"));i.setDate(parseInt(t.innerHTML,10));var r=this.date.add(i,1,"day");!this.config.readonly&&this.config.dblclick_create&&this.addEventNow(i.valueOf(),r.valueOf(),e)}}};var e=D.changeEventId;D.changeEventId=function(){e.apply(this,arguments),o()&&this.year_view(!0)};var n=D.render_data,r=D.date.date_to_str("%Y/%m/%d"),s=D.date.str_to_date("%Y/%m/%d");D.render_data=function(e){if(!o())return n.apply(this,arguments);for(var t=0;t<e.length;t++)this._year_render_event(e[t])};var a=D.clear_view;D.clear_view=function(){if(!o())return a.apply(this,arguments);var e=D._year_marked_cells,t=null;for(var n in e)e.hasOwnProperty(n)&&((t=e[n]).className="dhx_month_head",t.removeAttribute("date"));D._year_marked_cells={}},D._hideToolTip=function(){this._tooltip&&(this._tooltip.style.display="none",this._tooltip.date=new Date(9999,1,1))},D._showToolTip=function(e,t,n,a){if(this._tooltip){if(this._tooltip.date.valueOf()==e.valueOf())return;this._tooltip.innerHTML=""}else{var i=this._tooltip=document.createElement("div");i.className="dhx_year_tooltip",this.config.rtl&&(i.className+=" dhx_tooltip_rtl"),document.body.appendChild(i),i.onclick=D._click.dhx_cal_data}for(var r=this.getEvents(e,this.date.add(e,1,"day")),o="",s=0;s<r.length;s++){var d=r[s];if(this.filter_event(d.id,d)){var l=d.color?"background:"+d.color+";":"",c=d.textColor?"color:"+d.textColor+";":"";o+="<div class='dhx_tooltip_line' style='"+l+c+"' event_id='"+r[s].id+"'>",o+="<div class='dhx_tooltip_date' style='"+l+c+"'>"+(r[s]._timed?this.templates.event_date(r[s].start_date):"")+"</div>",o+="<div class='dhx_event_icon icon_details'>&nbsp;</div>",o+=this.templates.year_tooltip(r[s].start_date,r[s].end_date,r[s])+"</div>"}}this._tooltip.style.display="",this._tooltip.style.top="0px",document.body.offsetWidth-t.left-this._tooltip.offsetWidth<0?this._tooltip.style.left=t.left-this._tooltip.offsetWidth+"px":this._tooltip.style.left=t.left+a.offsetWidth+"px",this._tooltip.date=e,this._tooltip.innerHTML=o,document.body.offsetHeight-t.top-this._tooltip.offsetHeight<0?this._tooltip.style.top=t.top-this._tooltip.offsetHeight+a.offsetHeight+"px":this._tooltip.style.top=t.top+"px"},D._year_view_tooltip_handler=function(e){if(o()){var t=(e=e||event).target||e.srcElement;"a"==t.tagName.toLowerCase()&&(t=t.parentNode),-1!=D._getClassName(t).indexOf("dhx_year_event")?D._showToolTip(s(t.getAttribute("date")),D.$domHelpers.getOffset(t),e,t):D._hideToolTip()}},D._init_year_tooltip=function(){D._detachDomEvent(D._els.dhx_cal_data[0],"mouseover",D._year_view_tooltip_handler),D.event(D._els.dhx_cal_data[0],"mouseover",D._year_view_tooltip_handler)},D._get_year_cell=function(e){var t=e.getMonth()+12*(e.getFullYear()-this._min_date.getFullYear())-this.week_starts._month,n=this._els.dhx_cal_data[0].childNodes[t],a=this.week_starts[t]+e.getDate()-1;return n.querySelectorAll(".dhx_year_body tr")[Math.floor(a/7)].querySelectorAll("td")[a%7].querySelector(".dhx_month_head")},D._year_marked_cells={},D._mark_year_date=function(e,t){var n=r(e),a=this._get_year_cell(e);if(a){var i=this.templates.event_class(t.start_date,t.end_date,t);D._year_marked_cells[n]||(a.className="dhx_month_head dhx_year_event",a.setAttribute("date",n),D._year_marked_cells[n]=a),a.className+=i?" "+i:""}},D._unmark_year_date=function(e){var t=this._get_year_cell(e);t&&(t.className="dhx_month_head")},D._year_render_event=function(e){var t=e.start_date;for(t=t.valueOf()<this._min_date.valueOf()?this._min_date:this.date.date_part(new Date(t));t<e.end_date;)if(this._mark_year_date(t,e),(t=this.date.add(t,1,"day")).valueOf()>=this._max_date.valueOf())return},D.year_view=function(e){var t;if(e&&(t=D.xy.scale_height,D.xy.scale_height=-1),D._els.dhx_cal_header[0].style.display=e?"none":"",D.set_sizes(),e&&(D.xy.scale_height=t),D._table_view=e,!this._load_mode||!this._load())if(e){if(D._init_year_tooltip(),D._reset_year_scale(),D._load_mode&&D._load())return void(D._render_wait=!0);D.render_view_data()}else D._hideToolTip()},D._reset_year_scale=function(){this._cols=[],this._colsS={};var e=[],t=this._els.dhx_cal_data[0],n=this.config;t.scrollTop=0,t.innerHTML="";var a=Math.floor(parseInt(t.style.width)/n.year_x),i=Math.floor((parseInt(t.style.height)-D.xy.year_top)/n.year_y);i<190&&(i=190,a=Math.floor((parseInt(t.style.width)-D.xy.scroll_width)/n.year_x));var r=a-11,o=0,s=document.createElement("div"),d=this.date.week_start(D._currentDate());this._process_ignores(d,7,"day",1);for(var l=7-(this._ignores_detected||0),c=0,u=0;u<7;u++)this._ignores&&this._ignores[u]||(this._cols[u]=Math.floor(r/(l-c)),this._render_x_header(u,o,d,s),r-=this._cols[u],o+=this._cols[u],c++),d=this.date.add(d,1,"day");s.lastChild.className+=" dhx_scale_bar_last";for(u=0;u<s.childNodes.length;u++)this._waiAria.yearHeadCell(s.childNodes[u]);var _=this.date[this._mode+"_start"](this.date.copy(this._date)),h=_,f=null;for(u=0;u<n.year_y;u++)for(var p=0;p<n.year_x;p++){(f=document.createElement("div")).className="dhx_year_box",f.style.cssText="position:absolute;",f.setAttribute("date",this._helpers.formatDate(_)),f.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid'><div class='dhx_year_week'>"+s.innerHTML+"</div><div class='dhx_year_body'></div></div>";var m=f.querySelector(".dhx_year_month"),g=f.querySelector(".dhx_year_grid"),v=f.querySelector(".dhx_year_week"),y=f.querySelector(".dhx_year_body"),b=D.uid();this._waiAria.yearHeader(m,b),this._waiAria.yearGrid(g,b),m.innerHTML=this.templates.year_month(_);for(var x=this.date.week_start(_),w=(this._reset_month_scale(y,_,x,6),y.querySelectorAll("td")),k=0;k<w.length;k++)this._waiAria.yearDayCell(w[k]);t.appendChild(f),v.style.height=v.childNodes[0].offsetHeight+"px";var E=Math.round((i-190)/2);f.style.marginTop=E+"px",this.set_xy(f,a-10,i-E-10,a*p+5,i*u+5+D.xy.year_top),e[u*n.year_x+p]=(_.getDay()-(this.config.start_on_monday?1:0)+7)%7,_=this.date.add(_,1,"month")}var S=this._getNavDateElement();S&&(S.innerHTML=this.templates[this._mode+"_date"](h,_,this._mode)),(this.week_starts=e)._month=h.getMonth(),this._min_date=h,this._max_date=_};var d=D.getActionData;D.getActionData=function(e){if(!o())return d.apply(D,arguments);var t=e?e.target:event.srcElement,n=D._get_year_month_date(t),a=D._get_year_month_cell(t),i=D._get_year_day_indexes(a);return i&&n?(n=D.date.add(n,i.week,"week"),n=D.date.add(n,i.day,"day")):n=null,{date:n,section:null}},D._get_year_day_indexes=function(e){var t=D._get_year_el_node(e,this._locate_year_month_table);if(!t)return null;for(var n=0,a=0,i=(n=0,t.rows.length);n<i;n++){for(var r=t.rows[n].getElementsByTagName("td"),o=(a=0,r.length);a<o&&r[a]!=e;a++);if(a<o)break}return n<i?{day:a,week:n}:null},D._get_year_month_date=function(e){if(!(e=D._get_year_el_node(e,D._locate_year_month_root)))return null;var t=e.getAttribute("date");return t?D.date.week_start(D.date.month_start(s(t))):null},D._locate_year_month_day=function(e){return-1!=D._getClassName(e).indexOf("dhx_year_event")&&e.hasAttribute&&e.hasAttribute("date")};var l=D._locate_event;D._locate_event=function(e){var t=l.apply(D,arguments);if(!t){var n=D._get_year_el_node(e,D._locate_year_month_day);if(!n||!n.hasAttribute("date"))return null;var a=s(n.getAttribute("date")),i=D.getEvents(a,D.date.add(a,1,"day"));if(!i.length)return null;t=i[0].id}return t},D._locate_year_month_cell=function(e){return"td"==e.nodeName.toLowerCase()},D._locate_year_month_table=function(e){return"table"==e.nodeName.toLowerCase()},D._locate_year_month_root=function(e){return e.hasAttribute&&e.hasAttribute("date")},D._get_year_month_cell=function(e){return this._get_year_el_node(e,this._locate_year_month_cell)},D._get_year_month_table=function(e){return this._get_year_el_node(e,this._locate_year_month_table)},D._get_year_month_root=function(e){return this._get_year_el_node(this._get_year_month_table(e),this._locate_year_month_root)},D._get_year_el_node=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e}}()}),Scheduler.plugin(function(e){e.locale={date:{month_full:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064a\u0633\u0627\u0646","\u0623\u064a\u0627\u0631","\u062d\u0632\u064a\u0631\u0627\u0646","\u062a\u0645\u0648\u0632","\u0622\u0628","\u0623\u064a\u0644\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],month_short:["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],day_full:["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0623\u062b\u0646\u064a\u0646","\u0623\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0623\u0644\u062d\u0645\u064a\u0633","\u0623\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a"],day_short:["\u0627\u062d\u062f","\u0627\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"]},labels:{dhx_cal_today_button:"\u0627\u0644\u064a\u0648\u0645",day_tab:"\u064a\u0648\u0645",week_tab:"\u0623\u0633\u0628\u0648\u0639",month_tab:"\u0634\u0647\u0631",new_event:"\u062d\u062f\u062b \u062c\u062f\u064a\u062f",icon_save:"\u0627\u062e\u0632\u0646",icon_cancel:"\u0627\u0644\u063a\u0627\u0621",icon_details:"\u062a\u0641\u0627\u0635\u064a\u0644",icon_edit:"\u062a\u062d\u0631\u064a\u0631",icon_delete:"\u062d\u0630\u0641",confirm_closing:"\u0627\u0644\u062a\u063a\u064a\u064a\u0631\u0627\u062a \u0633\u0648\u0641 \u062a\u0636\u064a\u0639, \u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f",confirm_deleting:"\u0627\u0644\u062d\u062f\u062b \u0633\u064a\u062a\u0645 \u062d\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u0627 \u060c \u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f\u061f",section_description:"\u0627\u0644\u0648\u0635\u0641",section_time:"\u0627\u0644\u0641\u062a\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064a\u0629",full_day:"\u0637\u0648\u0627\u0644 \u0627\u0644\u064a\u0648\u0645",confirm_recurring:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062a\u062d\u0631\u064a\u0631 \u0645\u062c\u0645\u0648\u0639\u0629 \u0643\u0627\u0645\u0644\u0629 \u0645\u0646 \u0627\u0644\u0623\u062d\u062f\u0627\u062b \u0627\u0644\u0645\u062a\u0643\u0631\u0631\u0629\u061f",section_recurring:"\u062a\u0643\u0631\u0627\u0631 \u0627\u0644\u062d\u062f\u062b",button_recurring:"\u062a\u0639\u0637\u064a\u0644",button_recurring_open:"\u062a\u0645\u0643\u064a\u0646",button_edit_series:"\u062a\u062d\u0631\u064a\u0631 \u0633\u0644\u0633\u0644\u0629",button_edit_occurrence:"\u062a\u0639\u062f\u064a\u0644 \u0646\u0633\u062e\u0629",
grid_tab:"\u062c\u062f\u0648\u0644",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["\u0421\u0442\u0443\u0434\u0437\u0435\u043d\u044c","\u041b\u044e\u0442\u044b","\u0421\u0430\u043a\u0430\u0432\u0456\u043a","\u041a\u0440\u0430\u0441\u0430\u0432\u0456\u043a","Ma\u0439","\u0427\u044d\u0440\u0432\u0435\u043d\u044c","\u041b\u0456\u043f\u0435\u043d\u044c","\u0416\u043d\u0456\u0432\u0435\u043d\u044c","\u0412\u0435\u0440\u0430\u0441\u0435\u043d\u044c","\u041a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a","\u041b\u0456\u0441\u0442\u0430\u043f\u0430\u0434","\u0421\u043d\u0435\u0436\u0430\u043d\u044c"],month_short:["\u0421\u0442\u0443\u0434\u0437","\u041b\u044e\u0442","\u0421\u0430\u043a","\u041a\u0440\u0430\u0441","Ma\u0439","\u0427\u044d\u0440","\u041b\u0456\u043f","\u0416\u043d\u0456\u0432","\u0412\u0435\u0440","\u041a\u0430\u0441\u0442","\u041b\u0456\u0441\u0442","\u0421\u043d\u0435\u0436"],day_full:["\u041d\u044f\u0434\u0437\u0435\u043b\u044f","\u041f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a","\u0410\u045e\u0442\u043e\u0440\u0430\u043a","\u0421\u0435\u0440\u0430\u0434\u0430","\u0427\u0430\u0446\u0432\u0435\u0440","\u041f\u044f\u0442\u043d\u0456\u0446\u0430","\u0421\u0443\u0431\u043e\u0442\u0430"],day_short:["\u041d\u0434","\u041f\u043d","\u0410\u045e\u0442","\u0421\u0440","\u0427\u0446\u0432","\u041f\u0442","\u0421\u0431"]},labels:{dhx_cal_today_button:"\u0421\u0451\u043d\u043d\u044f",day_tab:"\u0414\u0437\u0435\u043d\u044c",week_tab:"\u0422\u044b\u0434\u0437\u0435\u043d\u044c",month_tab:"\u041c\u0435\u0441\u044f\u0446",new_event:"\u041d\u043e\u0432\u0430\u044f \u043f\u0430\u0434\u0437\u0435\u044f",icon_save:"\u0417\u0430\u0445\u0430\u0432\u0430\u0446\u044c",icon_cancel:"\u0410\u0434\u043c\u044f\u043d\u0456\u0446\u044c",icon_details:"\u0414\u044d\u0442\u0430\u043b\u0456",icon_edit:"\u0417\u043c\u044f\u043d\u0456\u0446\u044c",icon_delete:"\u0412\u044b\u0434\u0430\u043b\u0456\u0446\u044c",confirm_closing:"",confirm_deleting:"\u041f\u0430\u0434\u0437\u0435\u044f \u0431\u0443\u0434\u0437\u0435 \u0432\u044b\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0435\u0437\u0432\u0430\u0440\u043e\u0442\u043d\u0430, \u043f\u0440\u0430\u0446\u044f\u0433\u043d\u0443\u0446\u044c?",section_description:"\u0410\u043f\u0456\u0441\u0430\u043d\u043d\u0435",section_time:"\u041f\u0435\u0440\u044b\u044f\u0434 \u0447\u0430\u0441\u0443",full_day:"\u0423\u0432\u0435\u0441\u044c \u0434\u0437\u0435\u043d\u044c",confirm_recurring:"\u0412\u044b \u0445\u043e\u0447\u0430\u0446\u0435 \u0437\u043c\u044f\u043d\u0456\u0446\u044c \u0443\u0441\u044e \u0441\u0435\u0440\u044b\u044e \u043f\u0430\u045e\u0442\u0430\u0440\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0430\u0434\u0437\u0435\u0439?",section_recurring:"\u041f\u0430\u045e\u0442\u0430\u0440\u044d\u043d\u043d\u0435",button_recurring:"\u0410\u0434\u043a\u043b\u044e\u0447\u0430\u043d\u0430",button_recurring_open:"\u0423\u043a\u043b\u044e\u0447\u0430\u043d\u0430",button_edit_series:"\u0420\u044d\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044c \u0441\u0435\u0440\u044b\u044e",button_edit_occurrence:"\u0420\u044d\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044c \u0430\u0441\u043e\u0431\u043d\u0456\u043a",agenda_tab:"\u0421\u043f\u0456\u0441",date:"\u0414\u0430\u0442\u0430",description:"\u0410\u043f\u0456\u0441\u0430\u043d\u043d\u0435",year_tab:"\u0413\u043e\u0434",week_agenda_tab:"\u0421\u043f\u0456\u0441",grid_tab:"\u0421\u043fic",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0437\u0435\u043d\u044c",repeat_radio_week:"\u0422\u044b\u0434\u0437\u0435\u043d\u044c",repeat_radio_month:"\u041c\u0435\u0441\u044f\u0446",repeat_radio_year:"\u0413\u043e\u0434",repeat_radio_day_type:"\u041a\u043e\u0436\u043d\u044b",repeat_text_day_count:"\u0434\u0437\u0435\u043d\u044c",repeat_radio_day_type2:"\u041a\u043e\u0436\u043d\u044b \u043f\u0440\u0430\u0446\u043e\u045e\u043d\u044b \u0434\u0437\u0435\u043d\u044c",repeat_week:" \u041f\u0430\u045e\u0442\u0430\u0440\u0430\u0446\u044c \u043a\u043e\u0436\u043d\u044b",repeat_text_week_count:"\u0442\u044b\u0434\u0437\u0435\u043d\u044c",repeat_radio_month_type:"\u041f\u0430\u045e\u0442\u0430\u0440\u0430\u0446\u044c",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u044b\u0441\u043b\u0430 \u043a\u043e\u0436\u043d\u0430\u0433\u0430",repeat_text_month_count:"\u043c\u0435\u0441\u044f\u0446\u0443",repeat_text_month_count2_before:"\u043a\u043e\u0436\u043d\u044b ",repeat_text_month_count2_after:"\u043c\u0435\u0441\u044f\u0446",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043d\u044c",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u044b \u0437\u0430\u043a\u0430\u043d\u0447\u044d\u043d\u043d\u044f",repeat_text_occurences_count:"\u043f\u0430\u045e\u0442\u043e\u0440\u0430\u045e",repeat_radio_end2:"",repeat_radio_end3:"\u0414\u0430 ",month_for_recurring:["\u0421\u0442\u0443\u0434\u0437\u0435\u043d\u044f","\u041b\u044e\u0442\u0430\u0433\u0430","\u0421\u0430\u043a\u0430\u0432\u0456\u043a\u0430","\u041a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430","\u041c\u0430\u044f","\u0427\u044d\u0440\u0432\u0435\u043d\u044f","\u041b\u0456\u043fe\u043d\u044f","\u0416\u043d\u0456\u045e\u043d\u044f","\u0412\u0435\u0440\u0430\u0441\u043d\u044f","\u041a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430","\u041b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430","\u0421\u043d\u0435\u0436\u043d\u044f"],day_for_recurring:["\u041d\u044f\u0434\u0437\u0435\u043b\u044e","\u041f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a","\u0410\u045e\u0442\u043e\u0440\u0430\u043a","\u0421\u0435\u0440\u0430\u0434\u0443","\u0427\u0430\u0446\u0432\u0435\u0440","\u041f\u044f\u0442\u043d\u0456\u0446\u0443","\u0421\u0443\u0431\u043e\u0442\u0443"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Gener","Febrer","Mar\xe7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{dhx_cal_today_button:"Hui",day_tab:"Dia",week_tab:"Setmana",month_tab:"Mes",new_event:"Nou esdeveniment",icon_save:"Guardar",icon_cancel:"Cancel\xb7lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar\xe0 definitivament, continuar ?",section_description:"Descripci\xf3",section_time:"Periode de temps",full_day:"Tot el dia",confirm_recurring:"\xbfDesitja modificar el conjunt d'esdeveniments repetits?",section_recurring:"Repeteixca l'esdeveniment",button_recurring:"Impedit",button_recurring_open:"Perm\xe9s",button_edit_series:"Edit s\xe8rie",button_edit_occurrence:"Edita Inst\xe0ncia",agenda_tab:"Agenda",date:"Data",description:"Descripci\xf3",year_tab:"Any",week_agenda_tab:"Agenda",grid_tab:"Taula",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}}}),Scheduler.plugin(function(e){e.config.day_date="%M %d\u65e5 %D",e.config.default_date="%Y\u5e74 %M %d\u65e5",e.config.month_date="%Y\u5e74 %M",e.locale={date:{month_full:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],day_short:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},labels:{dhx_cal_today_button:"\u4eca\u5929",day_tab:"\u65e5",week_tab:"\u5468",month_tab:"\u6708",new_event:"\u65b0\u5efa\u65e5\u7a0b",icon_save:"\u4fdd\u5b58",icon_cancel:"\u5173\u95ed",icon_details:"\u8be6\u7ec6",icon_edit:"\u7f16\u8f91",icon_delete:"\u5220\u9664",confirm_closing:"\u8bf7\u786e\u8ba4\u662f\u5426\u64a4\u9500\u4fee\u6539!",confirm_deleting:"\u662f\u5426\u5220\u9664\u65e5\u7a0b?",section_description:"\u63cf\u8ff0",section_time:"\u65f6\u95f4\u8303\u56f4",full_day:"\u6574\u5929",confirm_recurring:"\u8bf7\u786e\u8ba4\u662f\u5426\u5c06\u65e5\u7a0b\u8bbe\u4e3a\u91cd\u590d\u6a21\u5f0f?",section_recurring:"\u91cd\u590d\u5468\u671f",button_recurring:"\u7981\u7528",button_recurring_open:"\u542f\u7528",button_edit_series:"\u7f16\u8f91\u7cfb\u5217",button_edit_occurrence:"\u7f16\u8f91\u5b9e\u4f8b",agenda_tab:"\u8bae\u7a0b",date:"\u65e5\u671f",description:"\u8bf4\u660e",year_tab:"\u4eca\u5e74",week_agenda_tab:"\u8bae\u7a0b",grid_tab:"\u7535\u7f51",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u6309\u5929",repeat_radio_week:"\u6309\u5468",repeat_radio_month:"\u6309\u6708",repeat_radio_year:"\u6309\u5e74",repeat_radio_day_type:"\u6bcf",repeat_text_day_count:"\u5929",repeat_radio_day_type2:"\u6bcf\u4e2a\u5de5\u4f5c\u65e5",repeat_week:" \u91cd\u590d \u6bcf",repeat_text_week_count:"\u661f\u671f\u7684:",repeat_radio_month_type:"\u91cd\u590d",repeat_radio_month_start:"\u5728",repeat_text_month_day:"\u65e5 \u6bcf",repeat_text_month_count:"\u6708",repeat_text_month_count2_before:"\u6bcf",repeat_text_month_count2_after:"\u6708",repeat_year_label:"\u5728",select_year_day2:"\u7684",repeat_text_year_day:"\u65e5",select_year_month:"\u6708",repeat_radio_end:"\u65e0\u7ed3\u675f\u65e5\u671f",repeat_text_occurences_count:"\u6b21\u7ed3\u675f",repeat_radio_end2:"\u91cd\u590d",repeat_radio_end3:"\u7ed3\u675f\u4e8e",month_for_recurring:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],day_for_recurring:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],month_short:["Led","\xdan","B\u0159e","Dub","Kv\u011b","\u010cer","\u010cec","Srp","Z\xe1\u0159\xed","\u0158\xedj","List","Pro"],day_full:["Ned\u011ble","Pond\u011bl\xed","\xdater\xfd","St\u0159eda","\u010ctvrtek","P\xe1tek","Sobota"],day_short:["Ne","Po","\xdat","St","\u010ct","P\xe1","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"Den",week_tab:"T\xfdden",month_tab:"M\u011bs\xedc",new_event:"Nov\xe1 ud\xe1lost",icon_save:"Ulo\u017eit",icon_cancel:"Zp\u011bt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Ud\xe1lost bude trvale smaz\xe1na, opravdu?",section_description:"Pozn\xe1mky",section_time:"Doba platnosti",confirm_recurring:"P\u0159ejete si upravit celou \u0159adu opakovan\xfdch ud\xe1lost\xed?",section_recurring:"Opakov\xe1n\xed ud\xe1losti",button_recurring:"Vypnuto",button_recurring_open:"Zapnuto",button_edit_series:"Edit series",button_edit_occurrence:"Upravit instance",agenda_tab:"Program",date:"Datum",description:"Pozn\xe1mka",year_tab:"Rok",full_day:"Full day",week_agenda_tab:"Program",grid_tab:"M\u0159\xed\u017eka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denn\u011b",repeat_radio_week:"T\xfddn\u011b",repeat_radio_month:"M\u011bs\xed\u010dn\u011b",repeat_radio_year:"Ro\u010dn\u011b",repeat_radio_day_type:"ka\u017ed\xfd",repeat_text_day_count:"Den",repeat_radio_day_type2:"pracovn\xed dny",repeat_week:"Opakuje ka\u017ed\xfdch",repeat_text_week_count:"T\xfddn\u016f na:",repeat_radio_month_type:"u ka\u017ed\xe9ho",repeat_radio_month_start:"na",repeat_text_month_day:"Den ka\u017ed\xe9ho",repeat_text_month_count:"M\u011bs\xedc",repeat_text_month_count2_before:"ka\u017ed\xfd",repeat_text_month_count2_after:"M\u011bs\xedc",repeat_year_label:"na",select_year_day2:"v",repeat_text_year_day:"Den v",select_year_month:"",repeat_radio_end:"bez data ukon\u010den\xed",repeat_text_occurences_count:"Ud\xe1losti",repeat_radio_end2:"po",repeat_radio_end3:"Konec",month_for_recurring:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],day_for_recurring:["Ned\u011ble ","Pond\u011bl\xed","\xdater\xfd","St\u0159eda","\u010ctvrtek","P\xe1tek","Sobota"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uge",month_tab:"M\xe5ned",new_event:"Ny begivenhed",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g\xe5 tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du tilrette hele serien af gentagne begivenheder?",section_recurring:"Gentag begivenhed",button_recurring:"Frakoblet",button_recurring_open:"Tilkoblet",button_edit_series:"Rediger serien",button_edit_occurrence:"Rediger en kopi",agenda_tab:"Dagsorden",date:"Dato",description:"Beskrivelse",year_tab:"\xc5r",week_agenda_tab:"Dagsorden",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ugenlig",repeat_radio_month:"M\xe5nedlig",repeat_radio_year:"\xc5rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"P\xe5 hver arbejdsdag",repeat_week:" Gentager sig hver",repeat_text_week_count:"uge p\xe5 f\xf8lgende dage:",repeat_radio_month_type:"Hver den",repeat_radio_month_start:"Den",repeat_text_month_day:" i hver",repeat_text_month_count:"m\xe5ned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"m\xe5ned",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen slutdato",repeat_text_occurences_count:"gentagelse",repeat_radio_end2:"Efter",repeat_radio_end3:"Slut",month_for_recurring:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:[" Januar"," Februar"," M\xe4rz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{dhx_cal_today_button:"Heute",day_tab:"Tag",week_tab:"Woche",month_tab:"Monat",new_event:"neuer Eintrag",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"\xc4ndern",icon_delete:"L\xf6schen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gel\xf6scht",section_description:"Beschreibung",section_time:"Zeitspanne",full_day:"Ganzer Tag",confirm_recurring:"Wollen Sie alle Eintr\xe4ge bearbeiten oder nur diesen einzelnen Eintrag?",section_recurring:"Wiederholung",button_recurring:"Aus",button_recurring_open:"An",button_edit_series:"Bearbeiten Sie die Serie",button_edit_occurrence:"Bearbeiten Sie eine Kopie",agenda_tab:"Agenda",date:"Datum",description:"Beschreibung",year_tab:"Jahre",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"T\xe4glich",repeat_radio_week:"W\xf6chentlich",repeat_radio_month:"Monatlich",repeat_radio_year:"J\xe4hrlich",repeat_radio_day_type:"jeden",repeat_text_day_count:"Tag",repeat_radio_day_type2:"an jedem Arbeitstag",repeat_week:" Wiederholt sich jede",repeat_text_week_count:"Woche am:",repeat_radio_month_type:"an jedem",repeat_radio_month_start:"am",repeat_text_month_day:"Tag eines jeden",repeat_text_month_count:"Monats",repeat_text_month_count2_before:"jeden",repeat_text_month_count2_after:"Monats",repeat_year_label:"am",select_year_day2:"im",repeat_text_year_day:"Tag im",select_year_month:"",repeat_radio_end:"kein Enddatum",repeat_text_occurences_count:"Ereignissen",repeat_radio_end3:"Schlu\xdf",repeat_radio_end2:"nach",month_for_recurring:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03ca\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],month_short:["\u0399\u0391\u039d","\u03a6\u0395\u0392","\u039c\u0391\u03a1","\u0391\u03a0\u03a1","\u039c\u0391\u0399","\u0399\u039f\u03a5\u039d","\u0399\u039f\u03a5\u039b","\u0391\u03a5\u0393","\u03a3\u0395\u03a0","\u039f\u039a\u03a4","\u039d\u039f\u0395","\u0394\u0395\u039a"],day_full:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae"],day_short:["\u039a\u03a5","\u0394\u0395","\u03a4\u03a1","\u03a4\u0395","\u03a0\u0395","\u03a0\u0391","\u03a3\u0391"]},labels:{dhx_cal_today_button:"\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1",day_tab:"\u0397\u03bc\u03ad\u03c1\u03b1",week_tab:"\u0395\u03b2\u03b4\u03bf\u03bc\u03ac\u03b4\u03b1",month_tab:"\u039c\u03ae\u03bd\u03b1\u03c2",new_event:"\u039d\u03ad\u03bf \u03ad\u03c1\u03b3\u03bf",icon_save:"\u0391\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7",icon_cancel:"\u0386\u03ba\u03c5\u03c1\u03bf",icon_details:"\u039b\u03b5\u03c0\u03c4\u03bf\u03bc\u03ad\u03c1\u03b5\u03b9\u03b5\u03c2",icon_edit:"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",icon_delete:"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae",confirm_closing:"",confirm_deleting:"\u03a4\u03bf \u03ad\u03c1\u03b3\u03bf \u03b8\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03b5\u03af \u03bf\u03c1\u03b9\u03c3\u03c4\u03b9\u03ba\u03ac. \u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5;",section_description:"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae",section_time:"\u03a7\u03c1\u03bf\u03bd\u03b9\u03ba\u03ae \u03c0\u03b5\u03c1\u03af\u03bf\u03b4\u03bf\u03c2",full_day:"\u03a0\u03bb\u03ae\u03c1\u03b7\u03c2 \u0397\u03bc\u03ad\u03c1\u03b1",confirm_recurring:"\u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03b8\u03b5\u03af\u03c4\u03b5 \u03bf\u03bb\u03cc\u03ba\u03bb\u03b7\u03c1\u03b7 \u03c4\u03b7\u03bd \u03bf\u03bc\u03ac\u03b4\u03b1 \u03c4\u03c9\u03bd \u03b5\u03c0\u03b1\u03bd\u03b1\u03bb\u03b1\u03bc\u03b2\u03b1\u03bd\u03cc\u03bc\u03b5\u03bd\u03c9\u03bd \u03ad\u03c1\u03b3\u03c9\u03bd;",section_recurring:"\u0395\u03c0\u03b1\u03bd\u03b1\u03bb\u03b1\u03bc\u03b2\u03b1\u03bd\u03cc\u03bc\u03b5\u03bd\u03bf \u03ad\u03c1\u03b3\u03bf",button_recurring:"\u0391\u03bd\u03b5\u03bd\u03b5\u03c1\u03b3\u03cc",button_recurring_open:"\u0395\u03bd\u03b5\u03c1\u03b3\u03cc",button_edit_series:"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03c4\u03b5\u03af\u03c4\u03b5 \u03c4\u03b7 \u03c3\u03b5\u03b9\u03c1\u03ac",button_edit_occurrence:"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03ad\u03bd\u03b1 \u03b1\u03bd\u03c4\u03af\u03b3\u03c1\u03b1\u03c6\u03bf",agenda_tab:"\u0397\u03bc\u03b5\u03c1\u03ae\u03c3\u03b9\u03b1 \u0394\u03b9\u03ac\u03c4\u03b1\u03be\u03b7",date:"\u0397\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1",description:"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae",year_tab:"\u0388\u03c4\u03bf\u03c2",week_agenda_tab:"\u0397\u03bc\u03b5\u03c1\u03ae\u03c3\u03b9\u03b1 \u0394\u03b9\u03ac\u03c4\u03b1\u03be\u03b7",grid_tab:"\u03a0\u03bb\u03ad\u03b3\u03bc\u03b1",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0397\u03bc\u03b5\u03c1\u03b7\u03c3\u03af\u03c9\u03c2",repeat_radio_week:"\u0395\u03b2\u03b4\u03bf\u03bc\u03b1\u03b4\u03b9\u03b1\u03af\u03c9\u03c2",repeat_radio_month:"\u039c\u03b7\u03bd\u03b9\u03b1\u03af\u03c9\u03c2",repeat_radio_year:"\u0395\u03c4\u03b7\u03c3\u03af\u03c9\u03c2",repeat_radio_day_type:"\u039a\u03ac\u03b8\u03b5",repeat_text_day_count:"\u03b7\u03bc\u03ad\u03c1\u03b1",repeat_radio_day_type2:"\u039a\u03ac\u03b8\u03b5 \u03b5\u03c1\u03b3\u03ac\u03c3\u03b9\u03bc\u03b7",repeat_week:" \u0395\u03c0\u03b1\u03bd\u03ac\u03bb\u03b7\u03c8\u03b7 \u03ba\u03ac\u03b8\u03b5",repeat_text_week_count:"\u03b5\u03b2\u03b4\u03bf\u03bc\u03ac\u03b4\u03b1 \u03c4\u03b9\u03c2 \u03b5\u03c0\u03cc\u03bc\u03b5\u03bd\u03b5\u03c2 \u03b7\u03bc\u03ad\u03c1\u03b5\u03c2:",repeat_radio_month_type:"\u0395\u03c0\u03b1\u03bd\u03ac\u03bb\u03b7\u03c8\u03b7",repeat_radio_month_start:"\u03a4\u03b7\u03bd",repeat_text_month_day:"\u03b7\u03bc\u03ad\u03c1\u03b1 \u03ba\u03ac\u03b8\u03b5",repeat_text_month_count:"\u03bc\u03ae\u03bd\u03b1",repeat_text_month_count2_before:"\u03ba\u03ac\u03b8\u03b5",repeat_text_month_count2_after:"\u03bc\u03ae\u03bd\u03b1",repeat_year_label:"\u03a4\u03b7\u03bd",select_year_day2:"\u03c4\u03bf\u03c5",repeat_text_year_day:"\u03b7\u03bc\u03ad\u03c1\u03b1",select_year_month:"\u03bc\u03ae\u03bd\u03b1",repeat_radio_end:"\u03a7\u03c9\u03c1\u03af\u03c2 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1 \u03bb\u03ae\u03be\u03b5\u03c9\u03c2",repeat_text_occurences_count:"\u03b5\u03c0\u03b1\u03bd\u03b1\u03bb\u03ae\u03c8\u03b5\u03b9\u03c2",repeat_radio_end3:"\u039b\u03ae\u03b3\u03b5\u03b9 \u03c4\u03b7\u03bd",repeat_radio_end2:"\u039c\u03b5\u03c4\u03ac \u03b1\u03c0\u03cc",month_for_recurring:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03ca\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],day_for_recurring:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daily",repeat_radio_week:"Weekly",repeat_radio_month:"Monthly",repeat_radio_year:"Yearly",repeat_radio_day_type:"Every",repeat_text_day_count:"day",repeat_radio_day_type2:"Every workday",repeat_week:" Repeat every",repeat_text_week_count:"week next days:",repeat_radio_month_type:"Repeat",repeat_radio_month_start:"On",repeat_text_month_day:"day every",repeat_text_month_count:"month",repeat_text_month_count2_before:"every",repeat_text_month_count2_after:"month",repeat_year_label:"On",select_year_day2:"of",repeat_text_year_day:"day",select_year_month:"month",repeat_radio_end:"No end date",repeat_text_occurences_count:"occurrences",repeat_radio_end2:"After",repeat_radio_end3:"End by",month_for_recurring:["January","February","March","April","May","June","July","August","September","October","November","December"],day_for_recurring:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],day_short:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"]},labels:{dhx_cal_today_button:"Hoy",day_tab:"D\xeda",week_tab:"Semana",month_tab:"Mes",new_event:"Nuevo evento",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xe1 definitivamente, \xbfcontinuar?",section_description:"Descripci\xf3n",section_time:"Per\xedodo",full_day:"Todo el d\xeda",confirm_recurring:"\xbfDesea modificar el conjunto de eventos repetidos?",section_recurring:"Repita el evento",button_recurring:"Impedido",button_recurring_open:"Permitido",button_edit_series:"Editar la serie",button_edit_occurrence:"Editar este evento",agenda_tab:"D\xeda",date:"Fecha",description:"Descripci\xf3n",year_tab:"A\xf1o",week_agenda_tab:"D\xeda",grid_tab:"Reja",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Diariamente",repeat_radio_week:"Semanalmente",repeat_radio_month:"Mensualmente",repeat_radio_year:"Anualmente",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia",repeat_radio_day_type2:"Cada jornada de trabajo",repeat_week:" Repetir cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repita",repeat_radio_month_start:"El",repeat_text_month_day:"dia cada ",repeat_text_month_count:"mes",repeat_text_month_count2_before:"cada",repeat_text_month_count2_after:"mes",repeat_year_label:"El",select_year_day2:"del",repeat_text_year_day:"dia",select_year_month:"mes",repeat_radio_end:"Sin fecha de finalizaci\xf3n",repeat_text_occurences_count:"ocurrencias",repeat_radio_end3:"Fin",repeat_radio_end2:"Despu\xe9s de",month_for_recurring:["Enero","Febrero","\u041c\u0430rzo","\u0410bril","Mayo","Junio","Julio","\u0410gosto","Setiembre","Octubre","Noviembre","Diciembre"],day_for_recurring:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jeuves","Viernes","Sabado"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{dhx_cal_today_button:"T\xe4n\xe4\xe4n",day_tab:"P\xe4iv\xe4",week_tab:"Viikko",month_tab:"Kuukausi",new_event:"Uusi tapahtuma",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",full_day:"Koko p\xe4iv\xe4",confirm_recurring:"Haluatko varmasti muokata toistuvan tapahtuman kaikkia jaksoja?",section_recurring:"Toista tapahtuma",button_recurring:"Ei k&auml;yt&ouml;ss&auml;",button_recurring_open:"K&auml;yt&ouml;ss&auml;",button_edit_series:"Muokkaa sarja",button_edit_occurrence:"Muokkaa kopio",agenda_tab:"Esityslista",date:"P\xe4iv\xe4m\xe4\xe4r\xe4",description:"Kuvaus",year_tab:"Vuoden",week_agenda_tab:"Esityslista",grid_tab:"Ritil\xe4",drag_to_create:"Luo uusi vet\xe4m\xe4ll\xe4",drag_to_move:"Siirr\xe4 vet\xe4m\xe4ll\xe4",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"P&auml;ivitt&auml;in",repeat_radio_week:"Viikoittain",repeat_radio_month:"Kuukausittain",repeat_radio_year:"Vuosittain",repeat_radio_day_type:"Joka",repeat_text_day_count:"p&auml;iv&auml;",repeat_radio_day_type2:"Joka arkip&auml;iv&auml;",repeat_week:"Toista joka",repeat_text_week_count:"viikko n&auml;in&auml; p&auml;ivin&auml;:",repeat_radio_month_type:"Toista",repeat_radio_month_start:"",repeat_text_month_day:"p&auml;iv&auml;n&auml; joka",repeat_text_month_count:"kuukausi",repeat_text_month_count2_before:"joka",repeat_text_month_count2_after:"kuukausi",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"p&auml;iv&auml;",select_year_month:"kuukausi",repeat_radio_end:"Ei loppumisaikaa",repeat_text_occurences_count:"Toiston j&auml;lkeen",repeat_radio_end3:"Loppuu",repeat_radio_end2:"",month_for_recurring:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],day_for_recurring:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],month_short:["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfb","Sep","Oct","Nov","D\xe9c"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{dhx_cal_today_button:"Aujourd'hui",day_tab:"Jour",week_tab:"Semaine",month_tab:"Mois",new_event:"Nouvel \xe9v\xe9nement",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"D\xe9tails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",
confirm_deleting:"L'\xe9v\xe9nement sera effac\xe9 sans appel, \xeates-vous s\xfbr ?",section_description:"Description",section_time:"P\xe9riode",full_day:"Journ\xe9e compl\xe8te",confirm_recurring:"Voulez-vous \xe9diter toute une s\xe9rie d'\xe9v\xe8nements r\xe9p\xe9t\xe9s?",section_recurring:"P\xe9riodicit\xe9",button_recurring:"D\xe9sactiv\xe9",button_recurring_open:"Activ\xe9",button_edit_series:"Modifier la s\xe9rie",button_edit_occurrence:"Modifier une copie",agenda_tab:"Jour",date:"Date",description:"Description",year_tab:"Ann\xe9e",week_agenda_tab:"Jour",grid_tab:"Grille",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidienne",repeat_radio_week:"Hebdomadaire",repeat_radio_month:"Mensuelle",repeat_radio_year:"Annuelle",repeat_radio_day_type:"Chaque",repeat_text_day_count:"jour",repeat_radio_day_type2:"Chaque journ\xe9e de travail",repeat_week:" R\xe9p\xe9ter toutes les",repeat_text_week_count:"semaine:",repeat_radio_month_type:"R\xe9p\xe9ter",repeat_radio_month_start:"Le",repeat_text_month_day:"jour chaque",repeat_text_month_count:"mois",repeat_text_month_count2_before:"chaque",repeat_text_month_count2_after:"mois",repeat_year_label:"Le",select_year_day2:"du",repeat_text_year_day:"jour",select_year_month:"mois",repeat_radio_end:"Pas de date d&quot;ach\xe8vement",repeat_text_occurences_count:"occurrences",repeat_radio_end3:"Fin",repeat_radio_end2:"Apr\xe8s",month_for_recurring:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],day_for_recurring:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],month_short:["\u05d9\u05e0\u05d5","\u05e4\u05d1\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0","\u05d9\u05d5\u05dc","\u05d0\u05d5\u05d2","\u05e1\u05e4\u05d8","\u05d0\u05d5\u05e7","\u05e0\u05d5\u05d1","\u05d3\u05e6\u05de"],day_full:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"],day_short:["\u05d0","\u05d1","\u05d2","\u05d3","\u05d4","\u05d5","\u05e9"]},labels:{dhx_cal_today_button:"\u05d4\u05d9\u05d5\u05dd",day_tab:"\u05d9\u05d5\u05dd",week_tab:"\u05e9\u05d1\u05d5\u05e2",month_tab:"\u05d7\u05d5\u05d3\u05e9",new_event:"\u05d0\u05e8\u05d5\u05e2 \u05d7\u05d3\u05e9",icon_save:"\u05e9\u05de\u05d5\u05e8",icon_cancel:"\u05d1\u05d8\u05dc",icon_details:"\u05e4\u05e8\u05d8\u05d9\u05dd",icon_edit:"\u05e2\u05e8\u05d5\u05da",icon_delete:"\u05de\u05d7\u05e7",confirm_closing:"",confirm_deleting:"\u05d0\u05e8\u05d5\u05e2 \u05d9\u05de\u05d7\u05e7 \u05e1\u05d5\u05e4\u05d9\u05ea.\u05dc\u05d4\u05de\u05e9\u05d9\u05da?",section_description:"\u05ea\u05d9\u05d0\u05d5\u05e8",section_time:"\u05ea\u05e7\u05d5\u05e4\u05d4",confirm_recurring:"\u05d4\u05d0\u05dd \u05d1\u05e8\u05e6\u05d5\u05e0\u05da \u05dc\u05e9\u05e0\u05d5\u05ea \u05db\u05dc \u05e1\u05d3\u05e8\u05ea \u05d0\u05e8\u05d5\u05e2\u05d9\u05dd \u05de\u05ea\u05de\u05e9\u05db\u05d9\u05dd?",section_recurring:"\u05dc\u05d4\u05e2\u05ea\u05d9\u05e7 \u05d0\u05e8\u05d5\u05e2",button_recurring:"\u05dc\u05d0 \u05e4\u05e2\u05d9\u05dc",button_recurring_open:"\u05e4\u05e2\u05d9\u05dc",full_day:"\u05d9\u05d5\u05dd \u05e9\u05dc\u05dd",button_edit_series:"\u05e2\u05e8\u05d5\u05da \u05d0\u05ea \u05d4\u05e1\u05d3\u05e8\u05d4",button_edit_occurrence:"\u05e2\u05e8\u05d9\u05db\u05ea \u05e2\u05d5\u05ea\u05e7",agenda_tab:"\u05e1\u05d3\u05e8 \u05d9\u05d5\u05dd",date:"\u05ea\u05d0\u05e8\u05d9\u05da",description:"\u05ea\u05d9\u05d0\u05d5\u05e8",year_tab:"\u05dc\u05e9\u05e0\u05d4",week_agenda_tab:"\u05e1\u05d3\u05e8 \u05d9\u05d5\u05dd",grid_tab:"\u05e1\u05d5\u05e8\u05d2",drag_to_create:"Drag to create",drag_to_move:"\u05d2\u05e8\u05d5\u05e8 \u05db\u05d3\u05d9 \u05dc\u05d4\u05d6\u05d9\u05d6",message_ok:"OK",message_cancel:"\u05d1\u05d8\u05dc",next:"\u05d4\u05d1\u05d0",prev:"\u05d4\u05e7\u05d5\u05d3\u05dd",year:"\u05e9\u05e0\u05d4",month:"\u05d7\u05d5\u05d3\u05e9",day:"\u05d9\u05d5\u05dd",hour:"\u05e9\u05e2\u05d4",minute:"\u05d3\u05e7\u05d4",repeat_radio_day:"\u05d9\u05d5\u05de\u05d9",repeat_radio_week:"\u05e9\u05d1\u05d5\u05e2\u05d9",repeat_radio_month:"\u05d7\u05d5\u05d3\u05e9\u05d9",repeat_radio_year:"\u05e9\u05e0\u05ea\u05d9",repeat_radio_day_type:"\u05d7\u05d6\u05d5\u05e8 \u05db\u05dc",repeat_text_day_count:"\u05d9\u05de\u05d9\u05dd",repeat_radio_day_type2:"\u05d7\u05d6\u05d5\u05e8 \u05db\u05dc \u05d9\u05d5\u05dd \u05e2\u05d1\u05d5\u05d3\u05d4",repeat_week:" \u05d7\u05d6\u05d5\u05e8 \u05db\u05dc",repeat_text_week_count:"\u05e9\u05d1\u05d5\u05e2 \u05dc\u05e4\u05d9 \u05d9\u05de\u05d9\u05dd:",repeat_radio_month_type:"\u05d7\u05d6\u05d5\u05e8 \u05db\u05dc",repeat_radio_month_start:"\u05db\u05dc",repeat_text_month_day:"\u05d9\u05de\u05d9\u05dd \u05db\u05dc",repeat_text_month_count:"\u05d7\u05d5\u05d3\u05e9\u05d9\u05dd",repeat_text_month_count2_before:"\u05d7\u05d6\u05d5\u05e8 \u05db\u05dc",repeat_text_month_count2_after:"\u05d7\u05d5\u05d3\u05e9",repeat_year_label:"\u05db\u05dc",select_year_day2:"\u05d1\u05d7\u05d5\u05d3\u05e9",repeat_text_year_day:"\u05d9\u05de\u05d9\u05dd",select_year_month:"\u05d7\u05d5\u05d3\u05e9",repeat_radio_end:"\u05dc\u05e2\u05d5\u05dc\u05dd \u05dc\u05d0 \u05de\u05e1\u05ea\u05d9\u05d9\u05dd",repeat_text_occurences_count:"\u05d0\u05d9\u05e8\u05d5\u05e2\u05d9\u05dd",repeat_radio_end3:"\u05de\u05e1\u05ea\u05d9\u05d9\u05dd \u05d1",repeat_radio_end2:"\u05d0\u05d7\u05e8\u05d9",month_for_recurring:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],day_for_recurring:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Janu\xe1r","Febru\xe1r","M\xe1rcius","\xc1prilis","M\xe1jus","J\xfanius","J\xfalius","Augusztus","Szeptember","Okt\xf3ber","November","December"],month_short:["Jan","Feb","M\xe1r","\xc1pr","M\xe1j","J\xfan","J\xfal","Aug","Sep","Okt","Nov","Dec"],day_full:["Vas\xe1rnap","H\xe9tf\xf5","Kedd","Szerda","Cs\xfct\xf6rt\xf6k","P\xe9ntek","szombat"],day_short:["Va","H\xe9","Ke","Sze","Cs\xfc","P\xe9","Szo"]},labels:{dhx_cal_today_button:"Ma",day_tab:"Nap",week_tab:"H\xe9t",month_tab:"H\xf3nap",new_event:"\xdaj esem\xe9ny",icon_save:"Ment\xe9s",icon_cancel:"M\xe9gse",icon_details:"R\xe9szletek",icon_edit:"Szerkeszt\xe9s",icon_delete:"T\xf6rl\xe9s",confirm_closing:"",confirm_deleting:"Az esem\xe9ny t\xf6r\xf6lve lesz, biztosan folytatja?",section_description:"Le\xedr\xe1s",section_time:"Id\xf5szak",full_day:"Egesz napos",confirm_recurring:"Biztosan szerkeszteni akarod az \xf6sszes ism\xe9tl\xf5d\xf5 esem\xe9ny be\xe1ll\xedt\xe1s\xe1t?",section_recurring:"Esem\xe9ny ism\xe9tl\xe9se",button_recurring:"Tilt\xe1s",button_recurring_open:"Enged\xe9lyez\xe9s",button_edit_series:"Edit series",button_edit_occurrence:"Szerkeszt\xe9s b\xedr\xf3s\xe1g",agenda_tab:"Napirend",date:"D\xe1tum",description:"Le\xedr\xe1s",year_tab:"\xc9v",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{dhx_cal_today_button:"Hari Ini",day_tab:"Hari",week_tab:"Minggu",month_tab:"Bulan",new_event:"Acara Baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",full_day:"Hari penuh",confirm_recurring:"Apakah acara ini akan berulang?",section_recurring:"Acara Rutin",button_recurring:"Tidak Difungsikan",button_recurring_open:"Difungsikan",button_edit_series:"Mengedit seri",button_edit_occurrence:"Mengedit salinan",agenda_tab:"Agenda",date:"Tanggal",description:"Keterangan",year_tab:"Tahun",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{dhx_cal_today_button:"Oggi",day_tab:"Giorno",week_tab:"Settimana",month_tab:"Mese",new_event:"Nuovo evento",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"L'evento sar\xe0 eliminato, siete sicuri?",section_description:"Descrizione",section_time:"Periodo di tempo",full_day:"Intera giornata",confirm_recurring:"Vuoi modificare l'intera serie di eventi?",section_recurring:"Ripetere l'evento",button_recurring:"Disattivato",button_recurring_open:"Attivato",button_edit_series:"Modificare la serie",button_edit_occurrence:"Modificare una copia",agenda_tab:"Agenda",date:"Data",description:"Descrizione",year_tab:"Anno",week_agenda_tab:"Agenda",grid_tab:"Griglia",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidiano",repeat_radio_week:"Settimanale",repeat_radio_month:"Mensile",repeat_radio_year:"Annuale",repeat_radio_day_type:"Ogni",repeat_text_day_count:"giorno",repeat_radio_day_type2:"Ogni giornata lavorativa",repeat_week:" Ripetere ogni",repeat_text_week_count:"settimana:",repeat_radio_month_type:"Ripetere",repeat_radio_month_start:"Il",repeat_text_month_day:"giorno ogni",repeat_text_month_count:"mese",repeat_text_month_count2_before:"ogni",repeat_text_month_count2_after:"mese",repeat_year_label:"Il",select_year_day2:"del",repeat_text_year_day:"giorno",select_year_month:"mese",repeat_radio_end:"Senza data finale",repeat_text_occurences_count:"occorenze",repeat_radio_end3:"Fine",repeat_radio_end2:"Dopo",month_for_recurring:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Jiugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],day_for_recurring:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Joved\xec","Venerd\xec","Sabato"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u65e5\u66dc\u65e5","\u6708\u66dc\u65e5","\u706b\u66dc\u65e5","\u6c34\u66dc\u65e5","\u6728\u66dc\u65e5","\u91d1\u66dc\u65e5","\u571f\u66dc\u65e5"],day_short:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"]},labels:{dhx_cal_today_button:"\u4eca\u65e5",day_tab:"\u65e5",week_tab:"\u9031",month_tab:"\u6708",new_event:"\u65b0\u30a4\u30d9\u30f3\u30c8",icon_save:"\u4fdd\u5b58",icon_cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb",icon_details:"\u8a73\u7d30",icon_edit:"\u7de8\u96c6",icon_delete:"\u524a\u9664",confirm_closing:"",confirm_deleting:"\u30a4\u30d9\u30f3\u30c8\u5b8c\u5168\u306b\u524a\u9664\u3055\u308c\u307e\u3059\u3001\u5b9c\u3057\u3044\u3067\u3059\u304b\uff1f",section_description:"\u30c7\u30b9\u30af\u30ea\u30d7\u30b7\u30e7\u30f3",section_time:"\u671f\u9593",confirm_recurring:"\u7e70\u308a\u8fd4\u3055\u308c\u3066\u3044\u308b\u30a4\u30d9\u30f3\u30c8\u3092\u5168\u3066\u7de8\u96c6\u3057\u307e\u3059\u304b\uff1f",section_recurring:"\u30a4\u30d9\u30f3\u30c8\u3092\u7e70\u308a\u8fd4\u3059",button_recurring:"\u7121\u52b9",button_recurring_open:"\u6709\u52b9",full_day:"\u7d42\u65e5",button_edit_series:"\u30b7\u30ea\u30fc\u30ba\u3092\u7de8\u96c6\u3057\u307e\u3059",button_edit_occurrence:"\u30b3\u30d4\u30fc\u3092\u7de8\u96c6",agenda_tab:"\u8b70\u984c\u306f",date:"\u65e5\u4ed8",description:"\u8aac\u660e",year_tab:"\u4eca\u5e74",week_agenda_tab:"\u8b70\u984c\u306f",grid_tab:"\u30b0\u30ea\u30c3\u30c9",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Mon","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{dhx_cal_today_button:"I dag",day_tab:"Dag",week_tab:"Uke",month_tab:"M\xe5ned",new_event:"Ny hendelse",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du forandre hele dette settet av repeterende hendelser?",section_recurring:"Repeter hendelsen",button_recurring:"Av",button_recurring_open:"P\xe5",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"\xc5r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ukentlig",repeat_radio_month:"M\xe5nedlig",repeat_radio_year:"\xc5rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"Alle hverdager",repeat_week:" Gjentas hver",repeat_text_week_count:"uke p\xe5:",repeat_radio_month_type:"P\xe5 hver",repeat_radio_month_start:"P\xe5",repeat_text_month_day:"dag hver",repeat_text_month_count:"m\xe5ned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"m\xe5ned",repeat_year_label:"p\xe5",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen sluttdato",repeat_text_occurences_count:"forekomst",repeat_radio_end3:"Stop den",repeat_radio_end2:"Etter",month_for_recurring:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],day_for_recurring:["Sondag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{dhx_cal_today_button:"Vandaag",day_tab:"Dag",week_tab:"Week",month_tab:"Maand",new_event:"Nieuw item",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",full_day:"Hele dag",confirm_recurring:"Wilt u alle terugkerende items bijwerken?",section_recurring:"Item herhalen",button_recurring:"Uit",button_recurring_open:"Aan",button_edit_series:"Bewerk de serie",button_edit_occurrence:"Bewerk een kopie",agenda_tab:"Agenda",date:"Datum",description:"Omschrijving",year_tab:"Jaar",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagelijks",repeat_radio_week:"Wekelijks",repeat_radio_month:"Maandelijks",repeat_radio_year:"Jaarlijks",repeat_radio_day_type:"Elke",repeat_text_day_count:"dag(en)",repeat_radio_day_type2:"Elke werkdag",repeat_week:" Herhaal elke",repeat_text_week_count:"week op de volgende dagen:",repeat_radio_month_type:"Herhaal",repeat_radio_month_start:"Op",repeat_text_month_day:"dag iedere",repeat_text_month_count:"maanden",repeat_text_month_count2_before:"iedere",repeat_text_month_count2_after:"maanden",repeat_year_label:"Op",select_year_day2:"van",repeat_text_year_day:"dag",select_year_month:"maand",repeat_radio_end:"Geen eind datum",repeat_text_occurences_count:"keren",repeat_radio_end3:"Eindigd per",repeat_radio_end2:"Na",month_for_recurring:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],day_for_recurring:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"],day_short:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uke",month_tab:"M\xe5ned",new_event:"Ny",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppf\xf8ringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",full_day:"Full dag",confirm_recurring:"Vil du endre hele settet med repeterende oppf\xf8ringer?",section_recurring:"Repeterende oppf\xf8ring",button_recurring:"Ikke aktiv",button_recurring_open:"Aktiv",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"\xc5r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017adziernik","Listopad","Grudzie\u0144"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017a","Lis","Gru"],day_full:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"],day_short:["Nie","Pon","Wto","\u015aro","Czw","Pi\u0105","Sob"]},labels:{dhx_cal_today_button:"Dzi\u015b",day_tab:"Dzie\u0144",week_tab:"Tydzie\u0144",month_tab:"Miesi\u0105c",new_event:"Nowe zdarzenie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczeg\xf3\u0142y",icon_edit:"Edytuj",icon_delete:"Usu\u0144",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usuni\u0119te na zawsze, kontynuowa\u0107?",section_description:"Opis",section_time:"Okres czasu",full_day:"Ca\u0142y dzie\u0144",confirm_recurring:"Czy chcesz edytowa\u0107 ca\u0142y zbi\xf3r powtarzaj\u0105cych si\u0119 zdarze\u0144?",section_recurring:"Powt\xf3rz zdarzenie",button_recurring:"Nieaktywne",button_recurring_open:"Aktywne",button_edit_series:"Edytuj seri\u0119",button_edit_occurrence:"Edytuj kopi\u0119",agenda_tab:"Agenda",date:"Data",description:"Opis",year_tab:"Rok",week_agenda_tab:"Agenda",grid_tab:"Tabela",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Codziennie",repeat_radio_week:"Co tydzie",repeat_radio_month:"Co miesic",repeat_radio_year:"Co rok",repeat_radio_day_type:"Kadego",repeat_text_day_count:"dnia",repeat_radio_day_type2:"Kadego dnia roboczego",repeat_week:" Powtarzaj kadego",repeat_text_week_count:"tygodnia w dni:",repeat_radio_month_type:"Powtrz",repeat_radio_month_start:"W",repeat_text_month_day:"dnia kadego",repeat_text_month_count:"miesica",repeat_text_month_count2_before:"kadego",repeat_text_month_count2_after:"miesica",repeat_year_label:"W",select_year_day2:"miesica",repeat_text_year_day:"dnia miesica",select_year_month:"",repeat_radio_end:"Bez daty kocowej",repeat_text_occurences_count:"wystpieniu/ach",repeat_radio_end3:"Zakocz w",repeat_radio_end2:"Po",month_for_recurring:["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrzenia","Padziernka","Listopada","Grudnia"],day_for_recurring:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{dhx_cal_today_button:"Hoje",day_tab:"Dia",week_tab:"Semana",month_tab:"M\xeas",new_event:"Novo evento",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Deletar",confirm_closing:"",confirm_deleting:"Tem certeza que deseja excluir?",section_description:"Descri\xe7\xe3o",section_time:"Per\xedodo de tempo",full_day:"Dia inteiro",confirm_recurring:"Deseja editar todos esses eventos repetidos?",section_recurring:"Repetir evento",button_recurring:"Desabilitar",button_recurring_open:"Habilitar",button_edit_series:"Editar a s\xe9rie",button_edit_occurrence:"Editar uma c\xf3pia",agenda_tab:"Dia",date:"Data",description:"Descri\xe7\xe3o",year_tab:"Ano",week_agenda_tab:"Dia",grid_tab:"Grade",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Di\xe1rio",repeat_radio_week:"Semanal",repeat_radio_month:"Mensal",repeat_radio_year:"Anual",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia(s)",repeat_radio_day_type2:"Cada trabalho di\xe1rio",repeat_week:" Repita cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repetir",repeat_radio_month_start:"Em",repeat_text_month_day:"todo dia",repeat_text_month_count:"m\xeas",repeat_text_month_count2_before:"todo",repeat_text_month_count2_after:"m\xeas",repeat_year_label:"Em",select_year_day2:"of",repeat_text_year_day:"dia",select_year_month:"m\xeas",repeat_radio_end:"Sem data final",repeat_text_occurences_count:"ocorr\xeancias",repeat_radio_end3:"Fim",repeat_radio_end2:"Depois",month_for_recurring:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],day_for_recurring:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{dhx_cal_today_button:"Astazi",day_tab:"Zi",week_tab:"Saptamana",month_tab:"Luna",new_event:"Eveniment nou",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",full_day:"Toata ziua",confirm_recurring:"Vrei sa editezi toata seria de evenimente repetate?",section_recurring:"Repetare",button_recurring:"Dezactivata",button_recurring_open:"Activata",button_edit_series:"Editeaza serie",button_edit_occurrence:"Editeaza doar intrare",agenda_tab:"Agenda",date:"Data",description:"Descriere",year_tab:"An",week_agenda_tab:"Agenda",grid_tab:"Lista",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Zilnic",repeat_radio_week:"Saptamanal",repeat_radio_month:"Lunar",repeat_radio_year:"Anual",repeat_radio_day_type:"La fiecare",repeat_text_day_count:"zi(le)",repeat_radio_day_type2:"Fiecare zi lucratoare",repeat_week:" Repeta la fiecare",repeat_text_week_count:"saptamana in urmatoarele zile:",repeat_radio_month_type:"Repeta in",repeat_radio_month_start:"In a",repeat_text_month_day:"zi la fiecare",repeat_text_month_count:"luni",repeat_text_month_count2_before:"la fiecare",repeat_text_month_count2_after:"luni",repeat_year_label:"In",select_year_day2:"a lunii",repeat_text_year_day:"zi a lunii",select_year_month:"",repeat_radio_end:"Fara data de sfarsit",repeat_text_occurences_count:"evenimente",repeat_radio_end3:"La data",repeat_radio_end2:"Dupa",month_for_recurring:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],day_for_recurring:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","Ma\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","O\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],month_short:["\u042f\u043d\u0432","\u0424\u0435\u0432","Ma\u0440","A\u043f\u0440","Ma\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","A\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],day_full:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],day_short:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"]},labels:{dhx_cal_today_button:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",day_tab:"\u0414\u0435\u043d\u044c",week_tab:"\u041d\u0435\u0434\u0435\u043b\u044f",month_tab:"\u041c\u0435\u0441\u044f\u0446",new_event:"\u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435",icon_save:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",icon_cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",icon_details:"\u0414\u0435\u0442\u0430\u043b\u0438",icon_edit:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",icon_delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",confirm_closing:"",confirm_deleting:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u043e \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e, \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?",section_description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",section_time:"\u041f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",full_day:"\u0412\u0435\u0441\u044c \u0434\u0435\u043d\u044c",confirm_recurring:"\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0441\u044e \u0441\u0435\u0440\u0438\u044e \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0439?",section_recurring:"\u041f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u0435",button_recurring:"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e",button_recurring_open:"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e",button_edit_series:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0438\u044e",button_edit_occurrence:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440",agenda_tab:"\u0421\u043f\u0438\u0441\u043e\u043a",date:"\u0414\u0430\u0442\u0430",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",year_tab:"\u0413\u043e\u0434",week_agenda_tab:"\u0421\u043f\u0438\u0441\u043e\u043a",grid_tab:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0435\u043d\u044c",repeat_radio_week:"\u041d\u0435\u0434\u0435\u043b\u044f",repeat_radio_month:"\u041c\u0435\u0441\u044f\u0446",repeat_radio_year:"\u0413\u043e\u0434",repeat_radio_day_type:"\u041a\u0430\u0436\u0434\u044b\u0439",repeat_text_day_count:"\u0434\u0435\u043d\u044c",repeat_radio_day_type2:"\u041a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u0434\u0435\u043d\u044c",repeat_week:" \u041f\u043e\u0432\u0442\u043e\u0440\u044f\u0442\u044c \u043a\u0430\u0436\u0434\u0443\u044e",repeat_text_week_count:"\u043d\u0435\u0434\u0435\u043b\u044e , \u0432:",repeat_radio_month_type:"\u041f\u043e\u0432\u0442\u043e\u0440\u044f\u0442\u044c",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u0438\u0441\u043b\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 ",repeat_text_month_count:"\u043c\u0435\u0441\u044f\u0446",repeat_text_month_count2_before:"\u043a\u0430\u0436\u0434\u044b\u0439 ",repeat_text_month_count2_after:"\u043c\u0435\u0441\u044f\u0446",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043d\u044c",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u044b \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",repeat_text_occurences_count:"\u043f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u0439",repeat_radio_end3:"\u0414\u043e ",repeat_radio_end2:"",month_for_recurring:["\u042f\u043d\u0432\u0430\u0440\u044f","\u0424\u0435\u0432\u0440\u0430\u043b\u044f","\u041c\u0430\u0440\u0442\u0430","\u0410\u043f\u0440\u0435\u043b\u044f","\u041c\u0430\u044f","\u0418\u044e\u043d\u044f","\u0418\u044e\u043b\u044f","\u0410\u0432\u0433\u0443\u0441\u0442\u0430","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u041e\u043a\u0442\u044f\u0431\u0440\u044f","\u041d\u043e\u044f\u0431\u0440\u044f","\u0414\u0435\u043a\u0430\u0431\u0440\u044f"],day_for_recurring:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0443","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0443","\u0421\u0443\u0431\u0431\u043e\u0442\u0443"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Januar","Februar",
"Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","\u010cetrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","\u010cet","Pet","Sob"]},labels:{dhx_cal_today_button:"Danes",day_tab:"Dan",week_tab:"Teden",month_tab:"Mesec",new_event:"Nov dogodek",icon_save:"Shrani",icon_cancel:"Prekli\u010di",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbri\u0161i",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. \u017delite nadaljevati?",section_description:"Opis",section_time:"\u010casovni okvir",full_day:"Ves dan",confirm_recurring:"\u017delite urediti celoten set ponavljajo\u010dih dogodkov?",section_recurring:"Ponovi dogodek",button_recurring:"Onemogo\u010deno",button_recurring_open:"Omogo\u010deno",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Zadeva",date:"Datum",description:"Opis",year_tab:"Leto",week_agenda_tab:"Zadeva",grid_tab:"Miza",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Janu\xe1r","Febru\xe1r","Marec","Apr\xedl","M\xe1j","J\xfan","J\xfal","August","September","Okt\xf3ber","November","December"],month_short:["Jan","Feb","Mar","Apr","M\xe1j","J\xfan","J\xfal","Aug","Sept","Okt","Nov","Dec"],day_full:["Nede\u013ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","\u0160t","Pi","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"De\u0148",week_tab:"T\xfd\u017ede\u0148",month_tab:"Mesiac",new_event:"Nov\xe1 udalos\u0165",icon_save:"Ulo\u017ei\u0165",icon_cancel:"Sp\xe4\u0165",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza\u0165",confirm_closing:"Va\u0161e zmeny nebud\xfa ulo\u017een\xe9. Skuto\u010dne?",confirm_deleting:"Udalos\u0165 bude natrvalo vymazan\xe1. Skuto\u010dne?",section_description:"Pozn\xe1mky",section_time:"Doba platnosti",confirm_recurring:"Prajete si upravi\u0165 cel\xfa radu opakovan\xfdch udalost\xed?",section_recurring:"Opakovanie udalosti",button_recurring:"Vypnut\xe9",button_recurring_open:"Zapnut\xe9",button_edit_series:"Upravi\u0165 opakovania",button_edit_occurrence:"Upravi\u0165 in\u0161tancie",agenda_tab:"Program",date:"D\xe1tum",description:"Pozn\xe1mka",year_tab:"Rok",full_day:"Cel\xfd de\u0148",week_agenda_tab:"Program",grid_tab:"Mrie\u017eka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denne",repeat_radio_week:"T\xfd\u017edenne",repeat_radio_month:"Mesa\xe8ne",repeat_radio_year:"Ro\xe8ne",repeat_radio_day_type:"Ka\u017ed\xfd",repeat_text_day_count:"de\xf2",repeat_radio_day_type2:"Ka\u017ed\xfd prac. de\xf2",repeat_week:"Opakova ka\u017ed\xfd",repeat_text_week_count:"t\xfd\u017ede\xf2 v d\xf2och:",repeat_radio_month_type:"Opakova",repeat_radio_month_start:"On",repeat_text_month_day:"de\xf2 ka\u017ed\xfd",repeat_text_month_count:"mesiac",repeat_text_month_count2_before:"ka\u017ed\xfd",repeat_text_month_count2_after:"mesiac",repeat_year_label:"On",select_year_day2:"po\xe8as",repeat_text_year_day:"de\xf2",select_year_month:"mesiac",repeat_radio_end:"Bez d\xe1tumu ukon\xe8enia",repeat_text_occurences_count:"udalostiach",repeat_radio_end3:"Ukon\xe8i",repeat_radio_end2:"Po",month_for_recurring:["Janu\xe1r","Febru\xe1r","Marec","Apr\xedl","M\xe1j","J\xfan","J\xfal","August","September","Okt\xf3ber","November","December"],day_for_recurring:["Nede\xbea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xf6ndag","M\xe5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xf6rdag"],day_short:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Vecka",month_tab:"M\xe5nad",new_event:"Ny h\xe4ndelse",icon_save:"Spara",icon_cancel:"\xc5ngra",icon_details:"Detaljer",icon_edit:"\xc4ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"\xc4r du s\xe4ker p\xe5 att du vill ta bort h\xe4ndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",full_day:"Hela dagen",confirm_recurring:"Vill du redigera hela serien med repeterande h\xe4ndelser?",section_recurring:"Upprepa h\xe4ndelse",button_recurring:"Inaktiverat",button_recurring_open:"Aktiverat",button_edit_series:"Redigera serien",button_edit_occurrence:"Redigera en kopia",agenda_tab:"Dagordning",date:"Datum",description:"Beskrivning",year_tab:"\xc5r",week_agenda_tab:"Dagordning",grid_tab:"Galler",drag_to_create:"Dra f\xf6r att skapa ny",drag_to_move:"Dra f\xf6r att flytta",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagligen",repeat_radio_week:"Veckovis",repeat_radio_month:"M\xe5nadsvis",repeat_radio_year:"\xc5rligen",repeat_radio_day_type:"Var",repeat_text_day_count:"dag",repeat_radio_day_type2:"Varje arbetsdag",repeat_week:" Upprepa var",repeat_text_week_count:"vecka dessa dagar:",repeat_radio_month_type:"Upprepa",repeat_radio_month_start:"Den",repeat_text_month_day:"dagen var",repeat_text_month_count:"m\xe5nad",repeat_text_month_count2_before:"var",repeat_text_month_count2_after:"m\xe5nad",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"m\xe5nad",repeat_radio_end:"Inget slutdatum",repeat_text_occurences_count:"upprepningar",repeat_radio_end3:"Sluta efter",repeat_radio_end2:"Efter",month_for_recurring:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],day_for_recurring:["S\xf6ndag","M\xe5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xf6rdag"]}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["Ocak","\xdeubat","Mart","Nisan","May\xfds","Haziran","Temmuz","A\xf0ustos","Eyl\xfcl","Ekim","Kas\xfdm","Aral\xfdk"],month_short:["Oca","\xdeub","Mar","Nis","May","Haz","Tem","A\xf0u","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartes,","Sal\xfd","\xc7ar\xfeamba","Per\xfeembe","Cuma","Cumartesi"],day_short:["Paz","Pts","Sal","\xc7ar","Per","Cum","Cts"]},labels:{dhx_cal_today_button:"Bug\xfcn",day_tab:"G\xfcn",week_tab:"Hafta",month_tab:"Ay",new_event:"Uygun",icon_save:"Kaydet",icon_cancel:"\xddptal",icon_details:"Detaylar",icon_edit:"D\xfczenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Etkinlik silinecek, devam?",section_description:"A\xe7\xfdklama",section_time:"Zaman aral\xfd\xf0\xfd",full_day:"Tam g\xfcn",confirm_recurring:"T\xfcm tekrar eden etkinlikler silinecek, devam?",section_recurring:"Etkinli\xf0i tekrarla",button_recurring:"Pasif",button_recurring_open:"Aktif",button_edit_series:"Dizi d\xfczenleme",button_edit_occurrence:"Bir kopyas\u0131n\u0131 d\xfczenleyin",agenda_tab:"Ajanda",date:"Tarih",description:"A\xe7\xfdklama",year_tab:"Y\xfdl",week_agenda_tab:"Ajanda",grid_tab:"Izgara",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}}}),Scheduler.plugin(function(e){e.locale={date:{month_full:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],month_short:["\u0421\u0456\u0447","\u041b\u044e\u0442","\u0411\u0435\u0440","\u041a\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041b\u0438\u043f","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043e\u0432","\u041b\u0438\u0441","\u0413\u0440\u0443"],day_full:["\u041d\u0435\u0434\u0456\u043b\u044f","\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430"],day_short:["\u041d\u0435\u0434","\u041f\u043e\u043d","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041f\u0442\u043d","\u0421\u0443\u0431"]},labels:{dhx_cal_today_button:"\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456",day_tab:"\u0414\u0435\u043d\u044c",week_tab:"\u0422\u0438\u0436\u0434\u0435\u043d\u044c",month_tab:"\u041c\u0456\u0441\u044f\u0446\u044c",new_event:"\u041d\u043e\u0432\u0430 \u043f\u043e\u0434\u0456\u044f",icon_save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",icon_cancel:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430",icon_details:"\u0414\u0435\u0442\u0430\u043b\u0456",icon_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon_delete:"\u0412\u0438\u043b\u0443\u0447\u0438\u0442\u0438",confirm_closing:"",confirm_deleting:"\u041f\u043e\u0434\u0456\u044f \u0432\u0438\u043b\u0443\u0447\u0438\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0432\u0436\u0434\u0438. \u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456?",section_description:"\u041e\u043f\u0438\u0441",section_time:"\u0427\u0430\u0441\u043e\u0432\u0438\u0439 \u043f\u0440\u043e\u043c\u0456\u0436\u043e\u043a",full_day:"\u0412\u0435\u0441\u044c \u0434\u0435\u043d\u044c",confirm_recurring:"\u0425\u043e\u0447\u0435\u0442\u0435 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0435\u0441\u044c \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u043f\u043e\u0432\u0442\u043e\u0440\u044e\u0432\u0430\u043d\u0438\u0445 \u043f\u043e\u0434\u0456\u0439?",section_recurring:"\u041f\u043e\u0432\u0442\u043e\u0440\u044e\u0432\u0430\u043d\u0430 \u043f\u043e\u0434\u0456\u044f",button_recurring:"\u0412\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043e",button_recurring_open:"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e",button_edit_series:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0441\u0435\u0440\u0456\u044e",button_edit_occurrence:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043f\u0440\u0438\u043c\u0456\u0440\u043d\u0438\u043a",agenda_tab:"\u041f\u0435\u0440\u0435\u043b\u0456\u043a",date:"\u0414\u0430\u0442\u0430",description:"\u041e\u043f\u0438\u0441",year_tab:"\u0420\u0456\u043a",week_agenda_tab:"\u041f\u0435\u0440\u0435\u043b\u0456\u043a",grid_tab:"\u0422\u0430\u0431\u043b\u0438\u0446\u044f",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0435\u043d\u044c",repeat_radio_week:"\u0422\u0438\u0436\u0434\u0435\u043d\u044c",repeat_radio_month:"\u041c\u0456\u0441\u044f\u0446\u044c",repeat_radio_year:"\u0420\u0456\u043a",repeat_radio_day_type:"\u041a\u043e\u0436\u043d\u0438\u0439",repeat_text_day_count:"\u0434\u0435\u043d\u044c",repeat_radio_day_type2:"\u041a\u043e\u0436\u043d\u0438\u0439 \u0440\u043e\u0431\u043e\u0447\u0438\u0439 \u0434\u0435\u043d\u044c",repeat_week:" \u041f\u043e\u0432\u0442\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u043a\u043e\u0436\u0435\u043d",repeat_text_week_count:"\u0442\u0438\u0436\u0434\u0435\u043d\u044c , \u043f\u043e:",repeat_radio_month_type:"\u041f\u043e\u0432\u0442\u043e\u0440\u044e\u0432\u0430\u0442\u0438",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u0438\u0441\u043b\u0430 \u043a\u043e\u0436\u043d\u0438\u0439 ",repeat_text_month_count:"\u043c\u0456\u0441\u044f\u0446\u044c",repeat_text_month_count2_before:"\u043a\u043e\u0436\u0435\u043d ",repeat_text_month_count2_after:"\u043c\u0456\u0441\u044f\u0446\u044c",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043d\u044c",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u0438 \u0437\u0430\u043a\u0456\u043d\u0447\u0435\u043d\u043d\u044f",repeat_text_occurences_count:"\u043f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u044c",repeat_radio_end3:"\u0414\u043e ",repeat_radio_end2:"",month_for_recurring:["\u0441\u0456\u0447\u043d\u044f","\u043b\u044e\u0442\u043e\u0433\u043e","\u0431\u0435\u0440\u0435\u0437\u043d\u044f","\u043a\u0432\u0456\u0442\u043d\u044f","\u0442\u0440\u0430\u0432\u043d\u044f","\u0447\u0435\u0440\u0432\u043d\u044f","\u043b\u0438\u043f\u043d\u044f","\u0441\u0435\u0440\u043f\u043d\u044f","\u0432\u0435\u0440\u0435\u0441\u043d\u044f","\u0436\u043e\u0432\u0442\u043d\u044f","\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043d\u044f"],day_for_recurring:["\u041d\u0435\u0434\u0456\u043b\u044f\u043c","\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430\u043c","\u0412\u0456\u0432\u0442\u043e\u0440\u043a\u0430\u043c","\u0421\u0435\u0440\u0435\u0434\u0430\u043c","\u0427\u0435\u0442\u0432\u0435\u0440\u0433\u0430\u043c","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f\u043c","\u0421\u0443\u0431\u043e\u0442\u0430\u043c"]}}});var markers=[];