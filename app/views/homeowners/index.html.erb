<div class="has-text-centered">
  <h1 class="title">Homeowners</h1>
  <div style="overflow-x: auto;">
    <table class="table is-striped is-hoverable is-fullwidth">
      <thead>
      <tr>
        <th>User</th>
        <th>Address</th>
        <th>Description</th>
        <th>Price</th>
        <th>Last modified</th>
        <th>Code</th>
        <th>Verified</th>
        <th>Average Rating</th>
        <th>Active Start</th>
        <th>Active End</th>
        <th colspan="3"></th>
      </tr>
      </thead>

      <tbody>
      <% @homeowners.each do |homeowner| %>
        <tr>
          <td><%= homeowner.user.name %></td>
          <td><%= homeowner.address %></td>
          <td><%= homeowner.driveway_description %></td>
          <td><%= number_to_currency(homeowner.driveway_price, unit:"Â£") %></td>
          <td><%= homeowner.last_modified %></td>
          <td><%= homeowner.activation_code %></td>
          <td><%= homeowner.driveway_verified %></td>
          <td>
            <% if homeowner.total_ratings == 0 %>
              No Ratings Yet
            <% else %>
              <%= (homeowner.total_ratings.to_f / homeowner.number_ratings).round(2) %>
            <% end %>
          </td>
          <td><%= homeowner.active_start %></td>
          <td><%= homeowner.active_end %></td>
          <td><%= link_to 'Show', homeowner, :class => 'button' %></td>
          <td><%= link_to 'Edit', edit_homeowner_path(homeowner), :class => 'button is-info' %></td>
          <td><%= link_to 'Destroy', homeowner, method: :delete, data: {confirm: 'Are you sure?'}, :class => 'button is-danger' %></td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
</div>
